"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_use-client-value_use-client-value_ts-app_assets_modules_activity_pages_ActivityIndex_tsx"],{40058:(e,t,r)=>{r.d(t,{T:()=>N});var a=r(74848),s=r(21728),i=r(77430),n=r(38621),l=r(94236),o=r(99511),c=r(46251),d=r(69726),h=r(72511),u=r(5524),m=r(96540),p=r(23470);let x=m.memo(function(e){let t,r,n,l,o,c=(0,s.c)(19),{user:d,isCurrent:h,onSelect:m,shouldSetAsDiv:p,count:x,position:y}=e,f=p?"div":"li";c[0]!==m||c[1]!==d?(t=()=>{m&&m(d)},c[0]=m,c[1]=d,c[2]=t):t=c[2];let g=y+1,j=d.primaryAvatarUrl;return c[3]!==d.path?(r=d.path.startsWith("/apps/"),c[3]=d.path,c[4]=r):r=c[4],c[5]!==r||c[6]!==d.primaryAvatarUrl?(n=(0,a.jsx)(u.l.LeadingVisual,{children:(0,a.jsx)(i.r,{src:j,square:r})}),c[5]=r,c[6]=d.primaryAvatarUrl,c[7]=n):n=c[7],c[8]!==d.name?(l=(0,a.jsx)(u.l.Description,{truncate:!0,children:d.name}),c[8]=d.name,c[9]=l):l=c[9],c[10]!==x||c[11]!==h||c[12]!==f||c[13]!==t||c[14]!==g||c[15]!==n||c[16]!==l||c[17]!==d.login?(o=(0,a.jsxs)(u.l.Item,{as:f,selected:h,onSelect:t,"aria-setsize":x,"aria-posinset":g,children:[n,d.login,l]}),c[10]=x,c[11]=h,c[12]=f,c[13]=t,c[14]=g,c[15]=n,c[16]=l,c[17]=d.login,c[18]=o):o=c[18],o});try{x.displayName||(x.displayName="UserItem")}catch{}let y="UsersList-module__scrollableUserList--v1HiT";function f(e){let t,r=(0,s.c)(2);return r[0]!==e?(t=e.users.length>20?(0,a.jsx)(j,{...e}):(0,a.jsx)(g,{...e}),r[0]=e,r[1]=t):t=r[1],t}function g(e){let t,r,i=(0,s.c)(12),{users:n,currentUser:l,onSelect:o,style:c,className:d}=e,h=d?`${y} ${d}`:y;if(i[0]!==l?.login||i[1]!==o||i[2]!==n){let e;i[4]!==l?.login||i[5]!==o||i[6]!==n.length?(e=(e,t)=>(0,a.jsx)(x,{user:e,isCurrent:e.login===l?.login,onSelect:o,count:n.length,position:t},e.login),i[4]=l?.login,i[5]=o,i[6]=n.length,i[7]=e):e=i[7],t=n.map(e),i[0]=l?.login,i[1]=o,i[2]=n,i[3]=t}else t=i[3];return i[8]!==h||i[9]!==c||i[10]!==t?(r=(0,a.jsx)(u.l,{role:"menu",style:c,className:h,selectionVariant:"single",children:t}),i[8]=h,i[9]=c,i[10]=t,i[11]=r):r=i[11],r}function j(e){let t,r,i=(0,s.c)(9),{users:n,currentUser:l,onSelect:o,style:c,className:d}=e,h=d?`${y} ${d}`:y;return i[0]!==l?.login||i[1]!==o||i[2]!==n.length?(t=(e,t)=>(0,a.jsx)(x,{user:e,isCurrent:e.login===l?.login,onSelect:o,shouldSetAsDiv:!0,count:n.length,position:t},e.login),i[0]=l?.login,i[1]=o,i[2]=n.length,i[3]=t):t=i[3],i[4]!==h||i[5]!==c||i[6]!==t||i[7]!==n?(r=(0,a.jsx)(p.F,{items:n,itemHeight:33,style:c,makeKey:v,shouldUseActionList:!0,renderItem:t,className:h}),i[4]=h,i[5]=c,i[6]=t,i[7]=n,i[8]=r):r=i[8],r}function v(e){return e.login}try{f.displayName||(f.displayName="UsersList")}catch{}try{g.displayName||(g.displayName="FullUsersList")}catch{}try{j.displayName||(j.displayName="VirtualUsersList")}catch{}var b=r(4559);function N(e){var t,r;let o,c,d,h,u,p,x,y,g,j,v,N,U,T,P,L=(0,s.c)(52),{defaultText:I,usersState:E,currentUser:k,onSelect:F,hotKey:R,onOpenChange:O,renderCustomFooter:W,size:z,showTypedInUser:B,width:M,label:V}=e,$=void 0!==B&&B,D=void 0===M?"large":M,q=void 0===V?"":V,[H,K]=(0,m.useState)("");L[0]!==H||L[1]!==$||L[2]!==E.users?(o=function(e,t){if(!e)return[];let r=t.trim().toLowerCase();return r?e.filter(e=>e.login.toLowerCase().includes(r)||e.name?.toLowerCase().includes(r)):e}(E.users,H),c=$&&(t=H,r=o,!!t&&(0===r.length||r.length>1||1===r.length&&!!r[0]&&r[0].login.toLowerCase()!==t.toLowerCase())),L[0]=H,L[1]=$,L[2]=E.users,L[3]=o,L[4]=c):(o=L[3],c=L[4]);let Z=c,Y=0===o.length&&!Z,Q=!E.loading&&!E.error&&Y;return L[5]!==Q?(d=()=>{Q&&(0,b.i)("Nothing to show")},L[5]=Q,L[6]=d):d=L[6],L[7]!==Q||L[8]!==H?(h=[Q,H],L[7]=Q,L[8]=H,L[9]=h):h=L[9],(0,m.useEffect)(d,h),L[10]!==Q||L[11]!==O?(u=e=>{O&&O(e),Q&&(0,b.i)("Nothing to show")},L[10]=Q,L[11]=O,L[12]=u):u=L[12],L[13]!==k?(p=(0,a.jsx)("div",{className:"mr-2",children:k?(0,a.jsx)(i.r,{size:16,src:k.primaryAvatarUrl,square:k.path.startsWith("/apps/")}):(0,a.jsx)(n.PeopleIcon,{size:"small",className:"fgColor-muted"})}),L[13]=k,L[14]=p):p=L[14],L[15]!==k||L[16]!==I||L[17]!==q?(x=(0,a.jsx)("div",{className:"UserSelector-module__truncatedUserText--hOMue",children:k?(0,a.jsxs)("span",{children:[q,k.login]}):(0,a.jsx)("span",{children:I})}),L[15]=k,L[16]=I,L[17]=q,L[18]=x):x=L[18],L[19]!==p||L[20]!==x?(y=(0,a.jsxs)("div",{className:"d-flex",children:[p,x]}),L[19]=p,L[20]=x,L[21]=y):y=L[21],L[22]!==R||L[23]!==z||L[24]!==y?(g=(0,a.jsx)(l.W.Button,{"data-hotkey":R,size:z,"data-testid":"user-selector-button",children:y}),L[22]=R,L[23]=z,L[24]=y,L[25]=g):g=L[25],L[26]!==H?(j=(0,a.jsx)(_,{defaultText:H,onFilterChange:K}),L[26]=H,L[27]=j):j=L[27],L[28]!==H||L[29]!==F||L[30]!==Z||L[31]!==Y||L[32]!==E.error||L[33]!==E.loading?(v=E.loading?(0,a.jsx)(C,{}):E.error?(0,a.jsx)(S,{}):(0,a.jsxs)(a.Fragment,{children:[Y&&(0,a.jsx)(w,{}),Z&&(0,a.jsx)(A,{filterText:H,onSelect:F})]}),L[28]=H,L[29]=F,L[30]=Z,L[31]=Y,L[32]=E.error,L[33]=E.loading,L[34]=v):v=L[34],L[35]!==k||L[36]!==o||L[37]!==F||L[38]!==W?(N=o.length>0&&(0,a.jsx)(f,{users:o,currentUser:k,onSelect:F,className:W?"UserSelector-module__userListWithFooter--EOx8I":"UserSelector-module__userListDefault--tFqfI"}),L[35]=k,L[36]=o,L[37]=F,L[38]=W,L[39]=N):N=L[39],L[40]!==W?(U=W?.(),L[40]=W,L[41]=U):U=L[41],L[42]!==j||L[43]!==v||L[44]!==N||L[45]!==U||L[46]!==D?(T=(0,a.jsxs)(l.W.Overlay,{width:D,children:[j,v,N,U]}),L[42]=j,L[43]=v,L[44]=N,L[45]=U,L[46]=D,L[47]=T):T=L[47],L[48]!==g||L[49]!==T||L[50]!==u?(P=(0,a.jsx)("div",{children:(0,a.jsxs)(l.W,{onOpenChange:u,children:[g,T]})}),L[48]=g,L[49]=T,L[50]=u,L[51]=P):P=L[51],P}function _(e){let t,r,i=(0,s.c)(5),{onFilterChange:l,defaultText:c}=e;return i[0]!==l?(t=e=>l(e.target.value),i[0]=l,i[1]=t):t=i[1],i[2]!==c||i[3]!==t?(r=(0,a.jsx)("div",{className:"p-2 border-bottom border-color-border-default",children:(0,a.jsx)(o.A,{leadingVisual:n.SearchIcon,value:c,placeholder:"Find a user...",onChange:t,className:"UserSelector-module__userSearchInput--J_Pgo"})}),i[2]=c,i[3]=t,i[4]=r):r=i[4],r}function C(){let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(c.B,{justify:"center",className:"p-2",children:(0,a.jsx)(d.A,{size:"medium",srText:"Loading users..."})}),t[0]=e):e=t[0],e}function S(){let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(h.A,{variant:"danger",children:"Could not load users"}),t[0]=e):e=t[0],e}function w(){let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(c.B,{justify:"center",className:"p-3",children:"Nothing to show"}),t[0]=e):e=t[0],e}function A(e){let t,r,i,n=(0,s.c)(8),{filterText:l,onSelect:o}=e;return n[0]!==l||n[1]!==o?(t=()=>{o&&o({login:l,name:l,path:"",primaryAvatarUrl:""})},n[0]=l,n[1]=o,n[2]=t):t=n[2],n[3]!==l?(r=(0,a.jsxs)(a.Fragment,{children:["Filter on author\xa0",(0,a.jsx)("span",{className:"text-bold",children:l})]}),n[3]=l,n[4]=r):r=n[4],n[5]!==t||n[6]!==r?(i=(0,a.jsx)(u.l.Item,{role:"none",onSelect:t,className:"UserSelector-module__filterResultItem--JqRZP",children:r}),n[5]=t,n[6]=r,n[7]=i):i=n[7],i}try{N.displayName||(N.displayName="UserSelector")}catch{}try{_.displayName||(_.displayName="UserFilter")}catch{}try{C.displayName||(C.displayName="Loading")}catch{}try{S.displayName||(S.displayName="LoadingFailed")}catch{}try{w.displayName||(w.displayName="UsersZeroState")}catch{}try{A.displayName||(A.displayName="UsersTypedInUser")}catch{}},50156:(e,t,r)=>{r.d(t,{D:()=>n,e:()=>l});var a=r(74848),s=r(96540);let i=(0,s.createContext)(null);function n({children:e,baseUrl:t}){let r=(0,s.useMemo)(()=>({baseUrl:t}),[t]);return(0,a.jsx)(i.Provider,{value:r,children:e})}function l(){let e=(0,s.useContext)(i);if(!e)throw Error("useBaseUrl must be used within a BaseUrlContextProvider.");return e.baseUrl}try{i.displayName||(i.displayName="BaseUrlContext")}catch{}try{n.displayName||(n.displayName="BaseUrlContextProvider")}catch{}},54571:(e,t,r)=>{r.d(t,{I:()=>n});var a=r(96540),s=r(88431),i=r(76629);function n(e,t,r=[]){let l=(0,a.useCallback)(e,r),o=(0,i.BP)(),c=(0,a.useRef)(o===i.O8.ClientRender),[d,h]=(0,a.useState)(()=>o===i.O8.ClientRender?l():t),u=(0,a.useCallback)(()=>{h(l)},[l]);return(0,s.N)(()=>{c.current||h(l),c.current=!1},[l,...r]),[d,u]}},78314:(e,t,r)=>{r.d(t,{d:()=>l,t:()=>o});var a=r(74848),s=r(21728),i=r(96540);let n=i.createContext({});function l(e){let t,r=(0,s.c)(3),{repository:i,children:l}=e;return r[0]!==l||r[1]!==i?(t=(0,a.jsxs)(n.Provider,{value:i,children:[" ",l," "]}),r[0]=l,r[1]=i,r[2]=t):t=r[2],t}function o(){return i.useContext(n)}try{n.displayName||(n.displayName="CurrentRepositoryContext")}catch{}try{l.displayName||(l.displayName="CurrentRepositoryProvider")}catch{}},97535:(e,t,r)=>{r.d(t,{A:()=>ea});var a=r(74848),s=r(78314),i=r(25407),n=r(76648),l=r(61526),o=r(67084),c=r(64583),d=r(35811),h=r(96540),u=r(38621),m=r(10095);function p({heading:e="No activity matched your search.",description:t="Try expanding your search by selecting a different branch, activity type, user, or timeframe."}){return(0,a.jsxs)("div",{className:"blankslate",children:[(0,a.jsx)(m.A,{icon:u.PulseIcon,size:24}),(0,a.jsx)("h2",{className:"blankslate-heading",children:e}),(0,a.jsx)("p",{children:t})]})}try{p.displayName||(p.displayName="ActivityBlankSlate")}catch{}var x=r(68874),y=r(73017),f=r(26607),g=r(72579),j=r(50156);let v=h.createContext(0);function b({children:e,perPage:t}){return(0,a.jsx)(v.Provider,{value:t,children:e})}function N(){return h.useContext(v)}try{v.displayName||(v.displayName="PerPageContext")}catch{}try{b.displayName||(b.displayName="PerPageProvider")}catch{}var _=r(46047),C=r(94236),S=r(5524),w=r(30459);function A(){let{sendAnalyticsEvent:e}=(0,w.s)();return{sendActivityClickEvent:(0,h.useCallback)((t,r={})=>{e("repos-activity.click",t,r)},[e])}}function U({push:e}){var t,r;let n=(t=e,r=(0,s.t)(),t.before&&t.after?(0,i.bSP)({repo:r,base:t.before,head:t.after}):t.before&&!t.after?(0,i.$Qz)({owner:r.ownerLogin,repo:r.name,commitish:t.before}):!t.before&&t.after?(0,i.$Qz)({owner:r.ownerLogin,repo:r.name,commitish:t.after}):void 0),l=(0,_.W)(null!==e.restoreUrl?e.restoreUrl:"","post"),[o,c]=(0,h.useState)(!1),m=async()=>{p("OVERFLOW_MENU.RESTORE_BRANCH"),null!==e.restoreUrl&&(c(!0),await l(),setTimeout(()=>{window.location.reload(),c(!1)},500))},{sendActivityClickEvent:p}=A();return(0,a.jsxs)(C.W,{onOpenChange:e=>e&&p("OVERFLOW_MENU"),children:[(0,a.jsx)(C.W.Anchor,{children:(0,a.jsx)(d.K0,{sx:{color:"fg.muted"},icon:u.KebabHorizontalIcon,variant:"invisible","aria-label":"More activity actions",title:"More activity actions"})}),(0,a.jsx)(C.W.Overlay,{children:(0,a.jsxs)(S.l,{children:[(0,a.jsxs)(S.l.LinkItem,{onClick:()=>p("OVERFLOW_MENU.COMPARE"),href:n,children:[(0,a.jsx)(S.l.LeadingVisual,{children:(0,a.jsx)(u.GitCompareIcon,{})}),"Compare changes"]}),e.restoreUrl&&(0,a.jsxs)(S.l.Item,{onSelect:m,disabled:o,children:[(0,a.jsx)(S.l.LeadingVisual,{children:(0,a.jsx)(u.SyncIcon,{})}),"Restore Branch"]})]})})]})}try{U.displayName||(U.displayName="ActivityOverflowMenu")}catch{}var T=r(77430);function P({pusher:e}){let{sendActivityClickEvent:t}=A();return(0,a.jsxs)(d.N_,{"aria-label":`View ${e.login} profile`,muted:!0,href:e.path,"data-hovercard-url":(0,i.dCN)({owner:e.login}),onClick:()=>t("PUSHER_LINK"),sx:{fontWeight:600,mr:1,color:"fg.default","&:hover":{color:"fg.default",textDecoration:"underline"}},children:[(0,a.jsx)(T.r,{sx:{mr:2,cursor:"pointer"},src:e.primaryAvatarUrl,square:e.path.startsWith("/apps/")}),e.login]})}try{P.displayName||(P.displayName="Pusher")}catch{}let L="refs/heads/",I="refs/tags/";function E({push:e,repo:t,showRefInfo:r,showFullShas:s}){var i;let n;return(0,a.jsxs)(d.az,{sx:{borderTopColor:"border.default",borderTopStyle:"solid",borderTopWidth:1,"&:first-child":{borderTopWidth:0},padding:2,paddingX:3,display:"flex",justifyContent:"space-between","&:hover":{backgroundColor:"canvas.subtle"}},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(d.az,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[(0,a.jsx)("h2",{"data-testid":"push-link",className:"h5",children:function(e){if("merge_queue_merge"===e.pushType)return"Merge queue merge";if("branch_deletion"===e.pushType)if(e.ref.startsWith(I))return"Deleted tag";else return"Deleted branch";return e.commit?.message?function({commit:e}){return e.shortMessageHtmlLink?(0,a.jsx)(d.PA,{title:e.message,sx:{maxWidth:"100%"},children:(0,a.jsx)(y.vb,{sx:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",wordBreak:"break-word"},html:e.shortMessageHtmlLink})}):e.message}({commit:e.commit}):"branch_creation"===e.pushType?"Created branch":"Updated branch"}(e)}),(0,a.jsx)(d.az,{sx:{display:"flex",alignSelf:"flex-start",gap:2},"data-testid":"push-labels",children:(n=[],"force_push"===(i=e).pushType&&n.push((0,a.jsx)(f.A,{variant:"attention",children:"Force push"},"force-push")),"pr_merge"===i.pushType&&n.push((0,a.jsx)(f.A,{variant:"done",children:"Pull request merge"},"pr-merge")),i.after&&!i.commit&&n.push((0,a.jsx)(f.A,{variant:"severe",children:"Missing commit"},"missing-commit")),n)})]}),(0,a.jsxs)(d.az,{sx:{color:"fg.muted",fontSize:0},children:[e.pusher&&(0,a.jsx)(P,{pusher:e.pusher}),(0,a.jsx)(F,{push:e,repo:t,showRefInfo:r}),s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k,{push:e}),(0,a.jsx)(W,{push:e})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O,{push:e}),(0,a.jsx)(k,{push:e})]})]})]}),(0,a.jsx)(d.az,{sx:{display:["block","none"],alignSelf:"flex-start"},children:(0,a.jsx)(U,{push:e})}),(0,a.jsx)(d.az,{sx:{display:["none","block"]},children:(0,a.jsx)(U,{push:e})})]})}function k({push:e}){let t=e.pushedAt;return t?(0,a.jsxs)("span",{"data-testid":"push-date",style:{display:"inline-block"},children:["\xa0\u2022\xa0",(0,a.jsx)(x.o,{timestamp:new Date(t)})]}):null}function F({push:e,repo:t,showRefInfo:r}){let s=(0,j.e)(),n=N(),l=e.ref.startsWith(L)?e.ref.substring(L.length):e.ref,o="",c="";if(e.aheadBehind&&e.aheadBehind.length>0){let[t,r]=e.aheadBehind;c=0!==t&&0===r?`adding ${t} ${R(t)}`:0===t&&0!==r?`removing ${r} ${R(r)}`:`removing ${r} ${R(r)} and adding ${t} ${R(t)}`}if("branch_deletion"===e.pushType){let t=e.ref.startsWith(I);o=r?"deleted":`deleted this ${t?"tag":"branch"}`}else o="branch_creation"===e.pushType?r?"created":"created this branch":"force_push"===e.pushType?r?"force pushed to":"force pushed":c||null==e.commitsCount?r?"pushed to":"pushed":r?`pushed ${e.commitsCount} ${R(e.commitsCount)} to`:`pushed ${e.commitsCount} ${R(e.commitsCount)}`;return(0,a.jsxs)("span",{"data-testid":"action-text",children:[o,r&&(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(g.A,{href:(0,i.PUd)({repo:t,baseUrl:s,branch:l,perPage:n}),children:l})]}),c&&(0,a.jsxs)(a.Fragment,{children:[" ",c]})]})}function R(e){return 1===e?"commit":"commits"}function O({push:e}){let t="";return e.before&&e.after?t=`${z(e.before)}\u{2026}${z(e.after)}`:e.before&&!e.after?t="":!e.before&&e.after&&(t=`${z(e.after)}`),t?(0,a.jsxs)("span",{"data-testid":"compare-text",children:["\xa0\u2022\xa0",t]}):null}function W({push:e}){let t="0000000000000000000000000000000000000000";return(0,a.jsxs)("div",{"data-testid":"compare-text",children:[e.before||t,"\xa0\u2192\xa0",e.after||t]})}function z(e){return e.slice(0,7)}try{E.displayName||(E.displayName="ActivityCard")}catch{}try{k.displayName||(k.displayName="ActivityDate")}catch{}try{F.displayName||(F.displayName="ActionText")}catch{}try{O.displayName||(O.displayName="CompareText")}catch{}try{W.displayName||(W.displayName="FullShaCompareText")}catch{}var B=r(66990),M=r(96459),V=r(40058),$=r(21373),D=r(84268),q=r(5225),H=r(96379);async function K(e){let t=await (0,H.lS)(e);return t.ok?await t.json():void 0}let Z=new Map,Y=(0,q.A)(K,{cache:Z}),Q=["day","week","month","quarter","year","all"],G={day:"Last 24 hours",week:"Last week",month:"Last month",quarter:"Last quarter",year:"Last year",all:"All time"};function J({currentActivityTimePeriod:e,onSelect:t}){let{sendActivityClickEvent:r}=A();return(0,a.jsxs)(C.W,{onOpenChange:e=>e&&r("TIME_FILTER"),children:[(0,a.jsx)(C.W.Button,{leadingVisual:u.ClockIcon,size:"medium",children:G[e]}),(0,a.jsx)(C.W.Overlay,{width:"medium",children:(0,a.jsx)(S.l,{selectionVariant:"single",children:Q.map(s=>(0,a.jsx)(S.l.Item,{selected:s===e,onSelect:()=>{r("TIME_FILTER.VALUE",{selected_time_period:s}),t(s)},children:G[s]},s))})})]})}try{J.displayName||(J.displayName="ActivityTimeFilter")}catch{}let X=["all","direct_push","pr_merge","merge_queue_merge","force_push","branch_creation","branch_deletion"],ee={all:"All activity",direct_push:"Direct pushes",pr_merge:"Pull request merges",merge_queue_merge:"Merge queue merges",force_push:"Force pushes",branch_creation:"Branch creations",branch_deletion:"Branch deletions"};function et({currentActivityType:e,onSelect:t}){let{sendActivityClickEvent:r}=A();return(0,a.jsxs)(C.W,{onOpenChange:e=>e&&r("ACTIVITY_FILTER"),children:[(0,a.jsx)(C.W.Button,{leadingVisual:u.PulseIcon,size:"medium",children:ee[e]}),(0,a.jsx)(C.W.Overlay,{width:"medium",children:(0,a.jsx)(S.l,{selectionVariant:"single",children:X.map(s=>(0,a.jsx)(S.l.Item,{selected:s===e,onSelect:()=>{r("ACTIVITY_FILTER.VALUE",{selected_activity_type:s}),t(s)},children:ee[s]},s))})})]})}try{et.displayName||(et.displayName="ActivityTypeFilter")}catch{}function er({repo:e,refInfo:t,filter:r}){let{sendActivityClickEvent:n}=A(),l=(0,j.e)(),o=N(),{activityType:c,actor:p,timePeriod:x,sort:y}=r,f=(0,M.Z)(),g=function({branch:e,timePeriod:t}){let r=(0,s.t)(),a=(0,j.e)(),[n,l]=(0,h.useState)({users:[],error:!1,loading:!0});return(0,h.useEffect)(()=>{let s=!1;return(async()=>{l({users:[],error:!1,loading:!0});let n=(0,i.bdU)({repo:r,baseUrl:a,branch:e,timePeriod:t}),o=await Y(n);if(s)return;let c=[],d=!1;try{o?c=o.actors:d=!0}catch{d=!0}l({users:c,error:d,loading:!1})})(),function(){s=!0}},[r,a,e,t]),n}({branch:t.name,timePeriod:r.timePeriod});return(0,a.jsxs)(d.az,{sx:{flexWrap:"wrap",display:"flex",flexGrow:1,gap:2,alignItems:"center"},children:[(0,a.jsx)(B.PI,{currentCommitish:t.name||"All branches",defaultBranch:e.defaultBranch,owner:e.ownerLogin,repo:e.name,canCreate:!1,cacheKey:t.listCacheKey,getHref:t=>(0,i.PUd)({repo:e,baseUrl:l,branch:t,filter:r,perPage:o}),hotKey:"w",types:["branch"],hideShowAll:!0,onOpenChange:e=>e&&n("REF_SELECTOR_MENU"),onSelectItem:t=>n("REF_SELECTOR_MENU.VALUE",{default_branch:t===e.defaultBranch}),customFooterItemProps:{text:"View activity for all branches",href:(0,i.PUd)({repo:e,baseUrl:l,filter:r,perPage:o}),onClick:()=>{n("REF_SELECTOR_MENU.VIEW_ALL")},sx:{alignItems:"center",display:"flex",justifyContent:"center"}}}),(0,a.jsx)(et,{currentActivityType:c,onSelect:a=>{a!==c&&f((0,i.PUd)({repo:e,baseUrl:l,branch:t.name,filter:{...r,activityType:a},perPage:o}))}}),(0,a.jsx)(V.T,{defaultText:"All users",width:"medium",usersState:g,currentUser:p,onOpenChange:e=>e&&n("ACTOR_FILTER"),onSelect:a=>{a!==p&&(n("ACTOR_FILTER.VALUE"),f((0,i.PUd)({repo:e,baseUrl:l,branch:t.name,filter:{...r,actor:a},perPage:o})))},renderCustomFooter:()=>(0,a.jsx)("div",{className:"px-2 py-3 border-top border-color-border-default",children:(0,a.jsx)($.Q,{variant:"link",onClick:()=>{n("ACTOR_FILTER.ALL")},as:"a",href:(0,i.PUd)({repo:e,baseUrl:l,branch:t.name,filter:{...r,actor:void 0},perPage:o}),block:!0,children:"View activity for all users"})})}),(0,a.jsx)(J,{currentActivityTimePeriod:x,onSelect:a=>{a!==x&&f((0,i.PUd)({repo:e,baseUrl:l,branch:t.name,filter:{...r,timePeriod:a},perPage:o}))}}),(0,a.jsx)(d.az,{sx:{marginLeft:"auto"},children:(0,a.jsx)(D.A,{muted:!0,onClick:()=>n("SORT_ORDER_LINK"),href:(0,i.PUd)({repo:e,baseUrl:l,branch:t.name,filter:{...r,sort:"ASC"===y?"DESC":"ASC"},perPage:o}),children:"ASC"===y?(0,a.jsxs)(a.Fragment,{children:["Showing oldest first ",(0,a.jsx)(m.A,{icon:u.TriangleUpIcon,size:16})]}):(0,a.jsxs)(a.Fragment,{children:["Showing most recent first ",(0,a.jsx)(m.A,{icon:u.TriangleDownIcon,size:16})]})})})]})}try{er.displayName||(er.displayName="ActivityFilterBar")}catch{}function ea(){let e=(0,l.Zp)(),t=(0,j.e)(),r=!!t,{repo:u,activityList:m,refInfo:x,feedbackUrl:y}=(0,n.B)(),f=m.hasNextPage||m.hasPreviousPage?3:1,g=m.hasPreviousPage?m.hasNextPage?2:3:1,v=h.useCallback((r,a)=>{window.scrollTo(0,0),e((0,i.PUd)({repo:u,baseUrl:t,branch:x.name,filter:m,pagination:a<g?{before:m.startCursor||m.cursor}:{after:m.endCursor||m.cursor},perPage:m.perPage})),r.preventDefault()},[e,u,t,x.name,m,g]);return(0,a.jsx)(s.d,{repository:u,children:(0,a.jsx)(b,{perPage:m.perPage,children:(0,a.jsxs)(o.M,{style:{minHeight:"500px"},children:[(0,a.jsx)(o.M.Header,{divider:"line",style:{marginBottom:"16px"},children:(0,a.jsx)(d.DZ,{as:"h1",sx:{fontSize:4,fontWeight:"normal",mt:2,lineHeight:1},children:"Activity"})}),(0,a.jsxs)(o.M.Content,{children:[(0,a.jsx)(er,{repo:u,refInfo:x,filter:m}),(0,a.jsx)(d.az,{"data-hpc":!0,sx:{display:"flex",flexDirection:"column",borderRadius:2,overflow:"hidden",borderColor:"border.default",borderStyle:"solid",borderWidth:1,mt:3},children:m.items.length>0?(0,a.jsx)(a.Fragment,{children:m.items.map((e,t)=>(0,a.jsx)(E,{push:e,repo:u,showRefInfo:""===x.name,showFullShas:r},t))}):(0,a.jsx)(p,{})})]}),(0,a.jsxs)(o.M.Footer,{children:[y?(0,a.jsx)("div",{children:(0,a.jsxs)(d.N_,{href:y,target:"_blank",sx:{ml:2},children:[(0,a.jsx)(d.EY,{sx:{fontSize:1,display:["none","inline","inline"]},children:"Share feedback about this page"}),(0,a.jsx)(d.EY,{sx:{fontSize:0,display:["inline","none","none"]},children:"Share feedback"})]})}):null,(m.hasNextPage||m.hasPreviousPage)&&(0,a.jsx)(c.A,{pageCount:f,currentPage:g,onPageChange:v,showPages:!1})]})]})})})}try{ea.displayName||(ea.displayName="ActivityIndex")}catch{}}}]);
//# sourceMappingURL=packages_use-client-value_use-client-value_ts-app_assets_modules_activity_pages_ActivityIndex_tsx-1a1941a80e42.js.map