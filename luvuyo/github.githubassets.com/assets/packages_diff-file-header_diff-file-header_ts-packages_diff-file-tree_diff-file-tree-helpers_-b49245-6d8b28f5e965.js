"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_diff-file-header_diff-file-header_ts-packages_diff-file-tree_diff-file-tree-helpers_-b49245"],{8934:(e,t,i)=>{i.d(t,{x:()=>o});var r=i(74848),n=i(21728),l=i(13523),a=i(96540),s=i(54571);let o=(0,a.forwardRef)(function(e,t){let i,a,o,d,f,u,m=(0,n.c)(13);m[0]!==e?({children:i,src:o,...a}=e,m[0]=e,m[1]=i,m[2]=a,m[3]=o):(i=m[1],a=m[2],o=m[3]),m[4]===Symbol.for("react.memo_cache_sentinel")?(d=[],m[4]=d):d=m[4];let[h]=(0,s.I)(c,!0,d);return m[5]!==h||m[6]!==o?(f=h?{}:{src:o,"data-nonce":(0,l.M1)()},m[5]=h,m[6]=o,m[7]=f):f=m[7],m[8]!==i||m[9]!==a||m[10]!==t||m[11]!==f?(u=(0,r.jsx)("include-fragment",{...a,ref:t,...f,children:i}),m[8]=i,m[9]=a,m[10]=t,m[11]=f,m[12]=u):u=m[12],u});try{o.displayName||(o.displayName="IncludeFragment")}catch{}function c(){return!1}},11738:(e,t,i)=>{i.d(t,{z:()=>n});var r=i(74848);let n=(0,i(96540).forwardRef)(({onClick:e,id:t,children:i},n)=>(0,r.jsx)("button",{type:"button",id:t,ref:n,onClick:e,className:"CompactCommentButton-module__CompactCommentInputContainer--mPD5I",children:i}));n.displayName="CompactCommentButton"},12918:(e,t,i)=>{i.d(t,{Gx:()=>s});var r,n=i(74848),l=i(21728),a=i(21537);function s(e){return(0,a.Y)(e)?(0,a.t6)(e).map(e=>{let t=a.A0.get(e);return t?`<span class="hidden-unicode-replacement">${t}</span>`:e}).join(""):null}try{(r=function(e){let t,i=(0,l.c)(2),{char:r}=e;return i[0]!==r?(t=(0,n.jsx)("span",{className:"hidden-unicode-replacement padded",children:r}),i[0]=r,i[1]=t):t=i[1],t}).displayName||(r.displayName="HiddenUnicodeCharacter")}catch{}},17998:(e,t,i)=>{i.d(t,{k:()=>o});var r=i(74848),n=i(77430),l=i(35811),a=i(10436);function s({iconColor:e,icon:t,size:i=12,backgroundColor:n="fg.onEmphasis",absolute:s=!0,backgroundSx:o,backgroundClassName:c}){let d,f;return 12===i?(d="10px",f="1px"):20===i?(d="16px",f="2px"):(d="16px",f="4px"),(0,r.jsxs)(l.az,{sx:{display:"flex",borderRadius:"100px",...s?{position:"absolute",bottom:-1,right:-1,boxShadow:"0 0 0 2px var(--bgColor-default, var(--color-canvas-default))",backgroundColor:"var(--bgColor-default, var(--color-canvas-default))"}:{position:"relative"},...o},className:c,children:[(0,r.jsx)(l.az,{sx:{display:"flex",position:"absolute",borderRadius:"100px",width:d,height:d,left:f,top:f,backgroundColor:n}}),(0,r.jsx)(a.m4,{icon:t,size:i,sx:{color:e,position:"relative"}})]})}try{s.displayName||(s.displayName="StatusIcon")}catch{}function o({zIndex:e,altText:t,hovercardUrl:i,src:a,square:o,icon:c,iconColor:d,backgroundColor:f,backgroundSx:u,backgroundClassName:m,className:h,sx:p,size:x=20}){return(0,r.jsxs)(l.az,{sx:{position:"relative",display:"flex",gap:2,alignItems:"center",...e,...p},className:h,children:[(0,r.jsx)(n.r,{alt:t,"data-hovercard-url":i,size:x,square:o,src:a}),(0,r.jsx)(s,{icon:c,iconColor:d,size:12,backgroundColor:f,backgroundClassName:m,backgroundSx:u})]})}try{o.displayName||(o.displayName="StatusAvatar")}catch{}},18799:(e,t,i)=>{i.d(t,{sI:()=>r});let r={Visible:"visible",Collapsed:"collapsed"}},21537:(e,t,i)=>{i.d(t,{A0:()=>a,TA:()=>c,Y:()=>d,_n:()=>f,rE:()=>s,t6:()=>o});let r=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/u,n=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/gu,l=/([\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F})/gu,a=new Map(Object.entries({"\u202A":"U+202A","\u202B":"U+202B","\u202C":"U+202C","\u202D":"U+202D","\u202E":"U+202E","\u2066":"U+2066","\u2067":"U+2067","\u2068":"U+2068","\u2069":"U+2069","\u{E0001}":"U+E0001","\u{E007F}":"U+E007F"}));function s(e){return`<span class="hidden-unicode-replacement" data-code-text="${e}"></span>`}function o(e){return e.split(l)}function c(e){return d(e)?e.replaceAll(n,e=>a.get(e)??""):e}function d(e){return r.test(e)}function f(e){return a.get(e)}},33671:(e,t,i)=>{i.r(t),i.d(t,{default:()=>p});var r=i(74848),n=i(54571),l=i(72511),a=i(69726),s=i(34164),o=i(96540);let c="ERROR",d="LOADING",f="LOADED",u="READY";function m(e){e&&(e.load=e.hello=null,e.helloTimer&&(clearTimeout(e.helloTimer),e.helloTimer=null),e.loadTimer&&(clearTimeout(e.loadTimer),e.loadTimer=null))}function h(e,t){e&&e.postMessage&&e.postMessage(JSON.stringify(t),"*")}function p({identityUuid:e,size:t,type:i,url:p,iframeClassName:y,viewportClassName:g}){let[b]=(0,n.I)(()=>window.location.origin,"https://www.github.com",[]),_=new URL(p,b).origin,{renderState:v,errorMsg:j,iFrameRef:N,containerRef:w}=function(e,t){let[i,r]=function(e){let[t,i]=(0,o.useState)(e),r=(0,o.useRef)(t);return[r,e=>{r.current=e,i(e)}]}(d),n=(0,o.useRef)(null),l=(0,o.useRef)(null),a=(0,o.useRef)(null),s=(0,o.useRef)({untimed:!0}),p=(0,o.useCallback)(i=>(function(e,t,i,r,n,l,a,s){if(e.origin!==t)return;let o=function(e){var t;let i=e.data;if(!i)return null;if("string"==typeof i)try{i=JSON.parse(i)}catch{return null}return"object"==typeof(t=i)&&t&&"render"===t.type&&"string"==typeof t.body&&"object"==typeof t.payload?i:null}(e);if(!o)return void a(c);if(o.identity!==i)return;let m=o.body,p=null!=o.payload?o.payload:void 0,x=r.current?.contentWindow;switch(m){case"hello":(l.current??{untimed:!0}).hello=Date.now(),h(x,{type:"render:cmd",body:{cmd:"ack",ack:!0}}),h(x,{type:"render:cmd",body:{cmd:"branding",branding:!1}});break;case"error":case"error:fatal":case"error:invalid":p&&s(p.error??null),a(c);break;case"loading":a(d);break;case"loaded":a(f);break;case"ready":p&&"number"==typeof p.height&&n.current&&(n.current.style.height=`${p.height}px`),a(u);break;case"resize":p&&"number"==typeof p.height&&n.current&&(n.current.style.height=`${p.height}px`);break;case"code_rendering_service:container:get_size":h(x,{type:"render:cmd",body:{cmd:"code_rendering_service:container:size","code_rendering_service:container:size":{width:n.current?.getBoundingClientRect().width}}});break;case"code_rendering_service:markdown:get_data":if(!r.current||!n.current)return;!function(e,t){let i=e.getAttribute("data-content");if(!i)return;let r={type:"render:cmd",body:{cmd:"code_rendering_service:data:ready","code_rendering_service:data:ready":{data:JSON.parse(i).data,width:t.getBoundingClientRect().width}}};h(e.contentWindow,r)}(r.current,n.current)}})(i,e,t,l,a,s,r,e=>n.current=e),[e,r,t]);return(0,o.useEffect)(()=>{m(s.current);let e=e=>{(i.current===d||i.current===f)&&(!e||s.current.hello)&&r(c)};return s.current={load:Date.now(),hello:null,helloTimer:window.setTimeout(e,1e4,!0),loadTimer:window.setTimeout(e,45e3)},()=>{m(s.current)}},[i,r]),(0,o.useEffect)(()=>(window.addEventListener("message",p),()=>window.removeEventListener("message",p)),[p]),{renderState:i.current,errorMsg:n.current,iFrameRef:l,containerRef:a}}(_,e);return"ipynb"===i&&t>3e7||t>2e8?(0,r.jsx)(l.A,{variant:"danger",children:"Sorry, this is too big to display."}):(0,r.jsx)("div",{className:"FileRendererBlob-module__FileRendererWrapper--SxJRI",children:(0,r.jsxs)("div",{"data-hpc":!0,"data-host":_,"data-type":i,ref:w,className:(0,s.$)("FileRendererBlob-module__FileRendererViewport--VgIf1",{"FileRendererBlob-module__FileRendererViewportNonError--cZ29b":v!==c,"FileRendererBlob-module__FileRendererViewportReady--seGRC":v===u},g),children:[v===c?(0,r.jsx)(x,{error:j}):v!==u?(0,r.jsx)(a.A,{size:"large",className:"FileRendererBlob-module__loadingIndicator--SraxA"}):null,v!==c&&(0,r.jsx)("iframe",{ref:N,src:`${p}#${e}`,sandbox:"allow-scripts allow-same-origin allow-top-navigation",name:e,title:"File display",className:(0,s.$)("FileRendererBlob-module__fileContentFrame--r1d91",{"FileRendererBlob-module__fileContentFrameNotReady--mMJW4":v!==u},y),children:"Viewer requires iframe."})]})})}function x({error:e}){if(!e)return(0,r.jsx)(l.A,{variant:"danger",children:"Unable to render code block"});let t=e.split(`
`);return(0,r.jsxs)(l.A,{variant:"danger",children:[(0,r.jsx)("p",{className:"FileRendererBlob-module__errorMessageHeading--qTuWN",children:"Error rendering embedded code"}),(0,r.jsx)("p",{children:t.map((e,t)=>(0,r.jsxs)(o.Fragment,{children:[e,(0,r.jsx)("br",{})]},`error-line-${t}`))})]})}try{p.displayName||(p.displayName="FileRendererBlob")}catch{}try{x.displayName||(x.displayName="FileRendererErrorMessage")}catch{}},34720:(e,t,i)=>{i.d(t,{t:()=>d});var r=i(74848),n=i(39619),l=i(51213),a=i(35247),s=i(79064),o=i(53419),c=i(5524);let d=({fileDiffReference:e,leadingVisual:t,eventContext:i,afterSelect:d})=>(0,r.jsxs)(c.l.Item,{onSelect:()=>{a.W.copilotRedirectDiffViewToImmersive?((0,o.BI)("copilot.file-diff.discuss",{target:"file-diff",mode:"immersive"}),s.Jt.setCurrentReferences(null,[e]),s.Jt.setCopilotDiffReferences(e),window.location.href="/copilot"):((0,o.BI)("copilot.file-diff.discuss",{target:"file-diff",mode:"assistive",...i}),(0,n.qR)({intent:l.wh.conversation,references:[e]}),d?.())},children:[t&&(0,r.jsx)(c.l.LeadingVisual,{children:t}),"Ask about this diff"]});try{d.displayName||(d.displayName="DiffLinesDiscussMenuItem")}catch{}},35311:(e,t,i)=>{i.d(t,{QC:()=>u,s2:()=>m,wH:()=>s,xY:()=>f});var r=i(35750),n=i(18150),l=i(50467),a=i(56051);function s(e,t){return e.startsWith(t)&&e!==t?-1:t.startsWith(e)&&e!==t?1:e<t?-1:+(e>t)}function o(e,t){return s(e.name,t.name)}function c(e,t){return s(e.fileName,t.fileName)}let FileNode=class FileNode{constructor(e,t){(0,l._)(this,"diff",void 0),(0,l._)(this,"filePath",void 0),(0,l._)(this,"fileName",void 0),(0,l._)(this,"directoryParts",void 0),(0,l._)(this,"sortOrder",void 0),this.diff=e,this.filePath=e.path;const i=this.filePath.split("/");this.fileName=i[i.length-1],this.directoryParts=i.slice(0,i.length-1),this.sortOrder=t}};var d=new WeakMap;let DirectoryNode=class DirectoryNode{getOrCreateDirectory(e,t){let i=(0,r._)(this,d).get(e);if(!i){let n=this.path?`${this.path}/`:"";i=new DirectoryNode(e,`${n}${e}`,t),this.directories.push(i),(0,r._)(this,d).set(e,i)}return i}sort(){for(let e of(this.directories.sort(o),this.files.sort(c),this.directories))e.sort()}constructor(e,t,i){(0,l._)(this,"directories",[]),(0,l._)(this,"files",[]),(0,n._)(this,d,{writable:!0,value:new Map}),(0,l._)(this,"name",void 0),(0,l._)(this,"path",void 0),(0,l._)(this,"sortOrder",void 0),this.name=e,this.path=t,this.sortOrder=i}};function f(e){let t=new DirectoryNode("","",Number.MAX_SAFE_INTEGER);for(let i of e.map((e,t)=>new FileNode(e,t))){let e=t;for(let t of i.directoryParts)(e=e.getOrCreateDirectory(t,i.sortOrder)).sortOrder=Math.min(e.sortOrder,i.sortOrder);e.files.push(i)}return function e(t){for(let i of t.directories)e(i);let i=t.directories.map(e=>e.sortOrder),r=t.files.map(e=>e.sortOrder);t.sortOrder=Math.min(t.sortOrder,...i,...r)}(t),t.sort(),t}function u(e){let t;t="string"==typeof e?e:e?.newPath||e?.oldPath;let i=t?.lastIndexOf(".");return t?!i||i<0?a.F7:`.${t.substring(i+1)}`:""}function m(e){let t={};return e.map(e=>{let i=u(e.path);void 0!==t[i]?t[i]+=1:t[i]=1}),t}},50307:(e,t,i)=>{i.d(t,{e:()=>d});var r=i(74848),n=i(39619),l=i(51213),a=i(35247),s=i(79064),o=i(53419),c=i(5524);let d=({fileDiffReference:e,eventContext:t,afterSelect:i})=>(0,r.jsx)(c.l.Item,{onSelect:()=>{a.W.copilotRedirectDiffViewToImmersive?((0,o.BI)("copilot.file-diff.explain",{target:"file-diff",mode:"immersive"}),s.Jt.setCopilotDiffReferences(e),s.Jt.setEntrypointMessage("Explain",[e]),window.location.href="/copilot"):((0,o.BI)("copilot.file-diff.explain",{target:"file-diff",mode:"assistive",...t}),(0,n.qR)({content:"Explain",intent:l.wh.explainFileDiff,references:[e]}),i?.())},children:"Explain"});try{d.displayName||(d.displayName="DiffLinesExplainMenuItem")}catch{}},50443:(e,t,i)=>{i.d(t,{i:()=>o});var r=i(74848),n=i(39619),l=i(53419),a=i(43258),s=i(5524);let o=({fileDiffReference:e,eventContext:t,afterSelect:i})=>{let{addToast:o}=(0,a.Y6)();return(0,r.jsx)(s.l.Item,{onSelect:()=>{(0,n.Oc)(e),o({message:"Reference added to thread",type:"success"}),(0,l.BI)("copilot.file-diff.add",t),i?.()},children:"Attach to current thread"})};try{o.displayName||(o.displayName="DiffLinesAttachMenuItem")}catch{}},50683:(e,t,i)=>{i.d(t,{B:()=>b,C:()=>_});var r=i(74848),n=i(21728),l=i(34164),a=i(38621),s=i(26108),o=i(84268),c=i(59121),d=i(11196),f=i(59523),u=i(91618),m=i(96540),h=i(98755);let p="DiffFileHeader-module__hide-on-mobile--dxRfz";var x=i(66358);let y=new Set;function g(e){let t,i,l=(0,n.c)(13),{newPath:s,oldPath:o,status:c}=e;l[0]!==s?(t=(0,r.jsxs)(r.Fragment,{children:["\u200E",s,"\u200E"]}),l[0]=s,l[1]=t):t=l[1];let d=t;l[2]!==o?(i=(0,r.jsxs)(r.Fragment,{children:["\u200E",o,"\u200E"]}),l[2]=o,l[3]=i):i=l[3];let f=i;if("RENAMED"===c){let e,t,i;return l[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(a.ArrowRightIcon,{}),t=(0,r.jsx)("span",{className:"sr-only",children:"renamed to"}),l[4]=e,l[5]=t):(e=l[4],t=l[5]),l[6]!==d||l[7]!==f?(i=(0,r.jsxs)("code",{children:[f," ",e,t," ",d]}),l[6]=d,l[7]=f,l[8]=i):i=l[8],i}if("DELETED"===c||"REMOVED"===c){let e;return l[9]!==f?(e=(0,r.jsx)("code",{children:f}),l[9]=f,l[10]=e):e=l[10],e}{let e;return l[11]!==d?(e=(0,r.jsx)("code",{children:d}),l[11]=d,l[12]=e):e=l[12],e}}function b(e){let t,i,b,_,v,j,N,w,C,I,F,E,R,D,S,A,k,$,L=(0,n.c)(68),{additionalLeftSideContent:O,areLinesExpanded:T,canExpandOrCollapseLines:M,className:U,diffStatsProps:z,hiddenFeatures:B,isBinary:V,isSubmodule:W,isCollapsed:H,canToggleRichDiff:P,headingId:J,linesAdded:G,linesChanged:Y,linesDeleted:q,fileLinkHref:K,fileLinkRef:X,newMode:Z,newPath:Q,oldMode:ee,oldPath:et,onCopyPath:ei,onHeaderClick:er,onToggleDiffDisplay:en,onToggleExpandAllLines:el,onToggleFileCollapsed:ea,patchStatus:es,path:eo,rightSideContent:ec,size:ed,showRichDiff:ef,isInSingleFileMode:eu}=e,em=void 0===B?y:B,eh=ed&&"-"===ed[0],ep=(0,m.useRef)(null),ex=function(e){let t,i,r=(0,n.c)(3),[l,a]=(0,m.useState)(!1);return r[0]!==e?(t=()=>{let t=e.current;if(!t)return;let i=()=>{a(t.scrollWidth>t.offsetWidth)};t.onfocus=()=>{i()},t.onblur=()=>{a(!1)},t.onmouseenter=()=>{i()},t.onmouseleave=()=>{a(!1)}},i=[e],r[0]=e,r[1]=t,r[2]=i):(t=r[1],i=r[2]),(0,m.useEffect)(t,i),l}(ep),ey=Q??et??"",eg=H?"DiffFileHeader-module__collapsed--bTqtX":"";L[0]!==U||L[1]!==eg?(t=(0,l.$)("DiffFileHeader-module__diff-file-header--Z8VIs",eg,"DiffFileHeader-module__container-flex-wrap--iGS3L",U),L[0]=U,L[1]=eg,L[2]=t):t=L[2],L[3]!==H||L[4]!==eu||L[5]!==ea?(i=!eu&&(0,r.jsx)("div",{className:"d-flex flex-shrink-0 flex-order-1",style:{width:"28px",justifyContent:"center"},children:(0,r.jsx)(s.K,{onClick:ea,"aria-label":H?"Expand file":"Collapse file",icon:H?a.ChevronRightIcon:a.ChevronDownIcon,size:"small",variant:"invisible"})}),L[3]=H,L[4]=eu,L[5]=ea,L[6]=i):i=L[6],L[7]===Symbol.for("react.memo_cache_sentinel")?(b=(0,l.$)("d-flex px-1 flex-items-center overflow-hidden flex-1","DiffFileHeader-module__container-flex-order-reverse--BBk7h","DiffFileHeader-module__file-path-section--GaFOf"),L[7]=b):b=L[7],L[8]===Symbol.for("react.memo_cache_sentinel")?(_=(0,l.$)("DiffFileHeader-module__file-name--ryaCb"),L[8]=_):_=L[8],L[9]!==ey||L[10]!==K||L[11]!==X||L[12]!==Q||L[13]!==et||L[14]!==er||L[15]!==es||L[16]!==ex?(v=ex?(0,r.jsx)(d.m,{text:ey,direction:"s",children:(0,r.jsx)(o.A,{className:"Link--primary",href:K,onClick:er,ref:X,children:(0,r.jsx)(g,{newPath:Q,oldPath:et,status:es})})}):(0,r.jsx)(o.A,{className:"Link--primary",href:K,onClick:er,ref:X,children:(0,r.jsx)(g,{newPath:Q,oldPath:et,status:es})}),L[9]=ey,L[10]=K,L[11]=X,L[12]=Q,L[13]=et,L[14]=er,L[15]=es,L[16]=ex,L[17]=v):v=L[17],L[18]!==J||L[19]!==v?(j=(0,r.jsx)("h3",{id:J,className:_,ref:ep,children:v}),L[18]=J,L[19]=v,L[20]=j):j=L[20],L[21]===Symbol.for("react.memo_cache_sentinel")?(N=(0,l.$)("ml-2 flex-shrink-0",p),L[21]=N):N=L[21];let eb=Q??et??"";return L[22]===Symbol.for("react.memo_cache_sentinel")?(w={direction:"s"},L[22]=w):w=L[22],L[23]!==ei||L[24]!==eb?(C=(0,r.jsx)(h.T,{className:N,textToCopy:eb,ariaLabel:"Copy file name to clipboard",tooltipProps:w,onCopy:ei,size:"small"}),L[23]=ei,L[24]=eb,L[25]=C):C=L[25],L[26]!==Z||L[27]!==ee||L[28]!==es?(I=(0,f.AL)(es,ee,Z)&&(0,r.jsxs)("div",{className:"p-2",children:[(0,r.jsx)("code",{children:ee}),(0,r.jsx)(a.ArrowRightIcon,{className:"mx-1"}),(0,r.jsx)("code",{children:Z})]}),L[26]=Z,L[27]=ee,L[28]=es,L[29]=I):I=L[29],L[30]!==T||L[31]!==M||L[32]!==em||L[33]!==el||L[34]!==eo?(F=!em.has(x.YR.expandLines)&&M&&el&&(0,r.jsx)(d.m,{text:T?`Collapse non-diff lines: ${eo}`:`Expand all lines: ${eo}`,direction:"s",children:(0,r.jsx)(s.K,{onClick:el,"aria-label":T?`Collapse non-diff lines: ${eo}`:`Expand all lines: ${eo}`,icon:T?a.FoldIcon:a.UnfoldIcon,size:"small",variant:"invisible","data-file-path":eo,className:(0,l.$)("flex-shrink-0",!T&&"js-expand-all-difflines-button",p)})}),L[30]=T,L[31]=M,L[32]=em,L[33]=el,L[34]=eo,L[35]=F):F=L[35],L[36]!==C||L[37]!==I||L[38]!==F||L[39]!==j?(E=(0,r.jsxs)("div",{className:b,children:[j,C,I,F]}),L[36]=C,L[37]=I,L[38]=F,L[39]=j,L[40]=E):E=L[40],L[41]===Symbol.for("react.memo_cache_sentinel")?(R=(0,l.$)("d-flex flex-row flex-justify-end flex-items-center gap-2 flex-1","DiffFileHeader-module__container-flex-order--YkBrw"),L[41]=R):R=L[41],L[42]!==z||L[43]!==em||L[44]!==W||L[45]!==G||L[46]!==Y||L[47]!==q?(D=!em.has(x.YR.diffStats)&&(0,r.jsx)("div",{className:"d-flex flex-justify-end flex-items-center",children:!W&&(0,r.jsx)("div",{className:p,children:(0,r.jsx)(u.z,{linesAdded:G,linesDeleted:q,linesChanged:Y,...z})})}),L[42]=z,L[43]=em,L[44]=W,L[45]=G,L[46]=Y,L[47]=q,L[48]=D):D=L[48],L[49]!==V||L[50]!==eh||L[51]!==ed?(S=V&&(0,r.jsx)("div",{className:"d-flex flex-items-center",children:(0,r.jsx)("code",{className:(0,l.$)("px-2",eh&&"fgColor-danger",!eh&&"fgColor-success"),children:`${ed}`})}),L[49]=V,L[50]=eh,L[51]=ed,L[52]=S):S=L[52],L[53]!==P||L[54]!==en||L[55]!==ef?(A=P&&(0,r.jsxs)(c.I,{"aria-label":"File view",size:"small",className:"DiffFileHeader-module__hide-on-small--EeWjN",onChange:en?e=>en(1===e):void 0,children:[(0,r.jsx)(c.I.IconButton,{"aria-label":"Display the source diff",selected:!ef,icon:a.CodeIcon}),(0,r.jsx)(c.I.IconButton,{"aria-label":"Display the rich diff",selected:ef,icon:a.FileIcon})]}),L[53]=P,L[54]=en,L[55]=ef,L[56]=A):A=L[56],L[57]!==ec||L[58]!==D||L[59]!==S||L[60]!==A?(k=(0,r.jsxs)("div",{className:R,children:[D,S,A,ec]}),L[57]=ec,L[58]=D,L[59]=S,L[60]=A,L[61]=k):k=L[61],L[62]!==O||L[63]!==E||L[64]!==k||L[65]!==t||L[66]!==i?($=(0,r.jsxs)("div",{className:t,children:[i,O,E,k]}),L[62]=O,L[63]=E,L[64]=k,L[65]=t,L[66]=i,L[67]=$):$=L[67],$}try{g.displayName||(g.displayName="FileName")}catch{}try{b.displayName||(b.displayName="DiffFileHeader")}catch{}function _(e){let t,i,a=(0,n.c)(6),{children:s,isAddition:o,className:c}=e,d=o?"fgColor-success":"fgColor-danger";return a[0]!==c||a[1]!==d?(t=(0,l.$)("ml-1 text-small text-bold",d,c),a[0]=c,a[1]=d,a[2]=t):t=a[2],a[3]!==s||a[4]!==t?(i=(0,r.jsx)("div",{className:t,children:s}),a[3]=s,a[4]=t,a[5]=i):i=a[5],i}try{_.displayName||(_.displayName="LinesChangedCounterLabel")}catch{}},56051:(e,t,i)=>{i.d(t,{kF:()=>x,F7:()=>p});var r,n=i(74848),l=i(21728),a=i(38621),s=i(99511),o=i(94236),c=i(26108),d=i(69726),f=i(5524),u=i(96540),m=i(34164);let h="FileFilter-module__filterLoadingHeight--sNCxc",p="No extension";function x({filterSize:e="medium",filterText:t,onFilterTextChange:i,fileExtensions:r,unselectedFileExtensions:l,onFilterChange:d,additionalFilterGroups:h}){r=r??{},l=l??new Set;let[x,y]=(0,u.useState)(t),g=(e,t)=>{d?.(e?"selectFileExtension":"unselectFileExtension",{extension:t})},b=Object.keys(r).filter(e=>e!==p).sort(),_=!!r[p];return(0,n.jsxs)("div",{id:"diff-file-tree-filter",className:"d-flex flex-nowrap gap-2",children:[(0,n.jsx)(s.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:a.SearchIcon,placeholder:"Filter files\u2026",size:e,className:(0,m.$)("small"===e&&"FileFilter-module__filterMaxHeight--Pjb6V"),value:x,onChange:e=>{y(e.target.value),i?.(e.target.value)}}),(0,n.jsxs)(o.W,{children:[(0,n.jsx)(o.W.Anchor,{children:(0,n.jsx)(c.K,{"aria-label":"Filter options",icon:a.FilterIcon,className:"flex-shrink-0",size:e})}),(0,n.jsx)(o.W.Overlay,{children:(0,n.jsxs)(f.l,{children:[(0,n.jsxs)(f.l.Group,{selectionVariant:"multiple",children:[(0,n.jsx)(f.l.GroupHeading,{children:"File extensions"}),b.map(e=>{let t=!l.has(e);return(0,n.jsx)(f.l.Item,{selected:t,onSelect:()=>g(!t,e),children:`${e} (${r[e]})`},e)}),_&&(0,n.jsx)(f.l.Item,{selected:!l.has(p),onSelect:()=>g(!!l.has(p),p),children:`${p} (${r[p]})`},p)]}),h]})})]})]})}try{(r=function(e){let t,i,r,f,u,p=(0,l.c)(9),{filterText:x,onFilterTextChange:y}=e;return p[0]!==y?(t=e=>y?.(e.target.value),p[0]=y,p[1]=t):t=p[1],p[2]!==x||p[3]!==t?(i=(0,n.jsx)(s.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:a.SearchIcon,placeholder:"Filter files\u2026",value:x,onChange:t}),p[2]=x,p[3]=t,p[4]=i):i=p[4],p[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(o.W.Anchor,{children:(0,n.jsx)(c.K,{"aria-label":"Filter options",icon:a.FilterIcon,className:"flex-shrink-0"})}),p[5]=r):r=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsxs)(o.W,{children:[r,(0,n.jsx)(o.W.Overlay,{className:(0,m.$)(h),children:(0,n.jsx)("div",{className:(0,m.$)("d-flex","flex-column","flex-justify-center","flex-items-center",h),children:(0,n.jsx)(d.A,{size:"medium"})})})]}),p[6]=f):f=p[6],p[7]!==i?(u=(0,n.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[i,f]}),p[7]=i,p[8]=u):u=p[8],u}).displayName||(r.displayName="FileFilterLoading")}catch{}try{x.displayName||(x.displayName="FileFilterShared")}catch{}},59523:(e,t,i)=>{function r(e){return void 0!==e.linesChanged&&0!==e.linesChanged}function n(e,t,i){return"MODIFIED"===e&&t!==i}function l(e,t,i,n){return"MODIFIED"===t&&i!==n&&!r(e)}function a(e){return"COPIED"===e.status&&!r(e)}function s(e){return"RENAMED"===e.status&&!r(e)}function o(e){return!!e.oldTreeEntry&&null===e.newTreeEntry}function c(e){return!!e.truncatedReason}i.d(t,{AL:()=>n,HI:()=>c,Jc:()=>a,Sn:()=>l,dK:()=>s,lO:()=>o,l_:()=>u,s8:()=>h,xW:()=>m});let d=["maximum diff size exceeded.","maximum number of lines exceeded."],f=/^maximum file count exceeded/;function u(e){let t=e;return d.includes(e)?t="This diff could not be loaded automatically because of too many other changes.":f.test(e)&&(t="This diff could not be loaded automatically because of too many other files to display."),t}function m(e){return!!e.newTreeEntry?.isGenerated}function h(e){return 0===e.linesChanged}},60745:(e,t,i)=>{i.d(t,{a:()=>f});var r=i(74848),n=i(21728),l=i(71315),a=i(54571),s=i(38621),o=i(84268),c=i(72511),d=i(21373);function f(e){let t,i,f,m,h,p=(0,n.c)(7),{isShown:x,toggleShowHiddenCharacters:y}=e;p[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],p[0]=t):t=p[0];let[g]=(0,a.I)(u,l.cg,t);if(!g)return null;p[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsx)(s.AlertIcon,{}),p[1]=i):i=p[1],p[2]===Symbol.for("react.memo_cache_sentinel")?(f=(0,r.jsxs)("span",{children:["This file contains bidirectional or hidden Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters."," ",(0,r.jsx)(o.A,{inline:!0,href:"https://github.co/hiddenchars",target:"_blank",rel:"noreferrer",children:"Learn more about bidirectional Unicode characters"})]}),p[2]=f):f=p[2],p[3]===Symbol.for("react.memo_cache_sentinel")?(m={backgroundClip:"padding-box"},p[3]=m):m=p[3];let b=x?"Hide revealed characters":"Show hidden characters";return p[4]!==b||p[5]!==y?(h=(0,r.jsxs)(c.A,{className:"d-flex flex-items-center",full:!0,variant:"warning",children:[i,f,(0,r.jsx)(d.Q,{className:"ml-4 float-right",onClick:y,size:"small",style:m,children:b})]}),p[4]=b,p[5]=y,p[6]=h):h=p[6],h}function u(){return l.cg}try{f.displayName||(f.displayName="HiddenUnicodeBanner")}catch{}},61583:(e,t,i)=>{i.d(t,{EW:()=>l,Gl:()=>p,ZD:()=>d,e3:()=>x,i8:()=>f,j$:()=>u,jU:()=>c,o9:()=>h,pd:()=>s,pk:()=>m,yI:()=>o});var r=i(53627),n=i(71315);function l(e){let t=e.match(/^#?(diff-[a-f0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);if(null!=t&&6===t.length)return t;let i=e.match(/^#?(discussion-diff-[0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);return null!=i&&6===i.length?i:null}function a(e,t){return`${"left"===t?"L":"R"}${e}`}function s(e){let t=e.match(/^#?(diff-[a-f0-9]+)/);return t?.[1]}function o(e){return!!(l(e)||l(`diff-${e}`))&&(e.includes("R")||e.includes("L"))}function c(e){if(!(s(e)||s(`diff-${e}`)))return;let t=e.replace("#","").replace("diff-","");return t.includes("-")&&(t=t.split("-")[0]??""),t.includes("L")&&(t=t.split("L")[0]??""),t.includes("R")&&(t=t.split("R")[0]??""),t}function d(e){let t=l(e);if(t){let e=t[1],i=t[2]?"L"===t[2]?"left":"right":void 0,r=t[3]?parseInt(t[3]):void 0;if(!e||!i||void 0===r)return;return{diffAnchor:e,startOrientation:i,startLineNumber:r,endOrientation:(t[4]?"L"===t[4]?"left":"right":void 0)??i,endLineNumber:(t[5]?parseInt(t[5]):void 0)??r,firstSelectedLineNumber:r,firstSelectedOrientation:i}}}function f(e){m(u(e))}function u(e){let t=a(e.startLineNumber,e.startOrientation),i=`${e.diffAnchor}${t}`;if(e.endLineNumber!==e.startLineNumber||e.endOrientation!==e.startOrientation){let t=a(e.endLineNumber,e.endOrientation);i+=`-${t}`}return i}function m(e){let t=`#${e}`;if(t===window.location.hash)return;let i=window.location.href;(0,r.Zu)(t),window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:window.location.href,oldURL:i}))}function h(){let e=l(n.fV.hash??"")??"";return(""===e?s(n.fV.hash??"")??"":e?.[0]??"").replace("#","").replace("diff-","")}function p(){let e,t;return e=(n.fV.hash??"").match(/^#?(r\d+)/),(t=e?.[1])?parseInt(t.slice(1)):void 0}function x(){let e,t;return e=(n.fV.hash??"").match(/^#annotation_(\d+)/),(t=e?.[1])?parseInt(t):void 0}},66358:(e,t,i)=>{i.d(t,{JF:()=>n,YR:()=>l,w$:()=>r});let r={Addition:"ADDITION",Context:"CONTEXT",Deletion:"DELETION",Hunk:"HUNK",InjectedContext:"INJECTED_CONTEXT",Empty:"EMPTY"},n={[r.Addition]:"+",[r.Deletion]:"-",[r.Context]:" ",[r.Hunk]:"@",[r.InjectedContext]:"~"},l={diffStats:"diffStats",expandLines:"expandLines",markAsViewed:"markAsViewed"}},78049:(e,t,i)=>{i.d(t,{E:()=>a});var r=i(74848),n=i(21728),l=i(38621);function a(e){let t=(0,n.c)(4),{status:i}=e;switch(i){case"ADDED":case"COPIED":{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(l.FileAddedIcon,{size:16,className:"fgColor-success"}),t[0]=e):e=t[0],e}case"DELETED":case"REMOVED":{let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(l.FileRemovedIcon,{size:16,className:"fgColor-danger"}),t[1]=e):e=t[1],e}case"RENAMED":{let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(l.FileMovedIcon,{size:16,className:"fgColor-attention"}),t[2]=e):e=t[2],e}default:{let e;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(l.FileDiffIcon,{size:16,className:"fgColor-muted"}),t[3]=e):e=t[3],e}}}try{a.displayName||(a.displayName="FileStatusIcon")}catch{}},79472:(e,t,i)=>{i.d(t,{C0:()=>u,ID:()=>d,Qn:()=>m,aX:()=>o,bJ:()=>f,w$:()=>c});var r=i(21728),n=i(20622),l=i(97286),a=i(96459),s=i(53627);let o={splitPreference:"split",lineSpacing:"relaxed",commentsPreference:i(18799).sI.Visible};function c(){return[n.u.diffViewUserSettings]}function d(e){let t,i,n,a=(0,r.c)(6);a[0]===Symbol.for("react.memo_cache_sentinel")?(t=c(),a[0]=t):t=a[0];let s=t;return a[1]!==e?(i=async()=>e||o,a[1]=e,a[2]=i):i=a[2],a[3]!==e||a[4]!==i?(n={queryKey:s,queryFn:i,initialData:e,staleTime:1/0},a[3]=e,a[4]=i,a[5]=n):n=a[5],(0,l.I)(n)}function f(e,t){let i=new URL(window.location.href,window.location.origin);if(t){let r=encodeURIComponent(t);i.searchParams.set(e,r)}else i.searchParams.delete(e);(0,s.bj)(i.toString())}function u(e){let t,i=(0,r.c)(2),n=e,[l]=(0,a.o)();i[0]!==l?(t=l.get("diff"),i[0]=l,i[1]=t):t=i[1];let s=t;return("split"===s||"unified"===s)&&(n=s),n}function m(e){let t=e,[i]=(0,a.o)(),r=i.get("w");return"1"===r?t=!0:"0"===r&&(t=!1),t}},87825:(e,t,i)=>{i.d(t,{o:()=>s});var r=i(74848),n=i(21728),l=i(38621),a=i(55255);function s(){let e,t=(0,n.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(a.A,{direction:"n",text:"This line has hidden Unicode characters",children:(0,r.jsx)(l.AlertIcon,{className:"mr-2"})}),t[0]=e):e=t[0],e}try{s.displayName||(s.displayName="HiddenUnicodeAlert")}catch{}},89141:(e,t,i)=>{i.d(t,{w:()=>u});var r=i(74848),n=i(38621),l=i(94236),a=i(5524),s=i(96540),o=i(50443),c=i(34720),d=i(50307),f=i(35247);let u=({fileDiffReference:e,selectedRange:t,showDivider:i})=>{let u=(0,s.useMemo)(()=>{let i={...e};return t&&(i.selectedRange={start:`${t?.startOrientation[0]?.toUpperCase()??""}${t?.startLineNumber}`,end:`${t?.endOrientation[0]?.toUpperCase()??""}${t?.endLineNumber}`}),i},[e,t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.W,{children:[(0,r.jsx)(l.W.Anchor,{children:(0,r.jsxs)(a.l.Item,{children:[(0,r.jsx)(a.l.LeadingVisual,{children:(0,r.jsx)(n.CopilotIcon,{})}),"Copilot"]})}),(0,r.jsx)(l.W.Overlay,{children:(0,r.jsxs)(a.l,{children:[(0,r.jsx)(c.t,{fileDiffReference:u,eventContext:{prx:!0}}),(0,r.jsx)(d.e,{fileDiffReference:u,eventContext:{prx:!0}}),!f.W.copilotRedirectDiffViewToImmersive&&(0,r.jsx)(o.i,{fileDiffReference:u,eventContext:{prx:!0}})]})})]}),i&&(0,r.jsx)(a.l.Divider,{})]})};try{u.displayName||(u.displayName="CopilotDiffChatContextMenu")}catch{}}}]);
//# sourceMappingURL=packages_diff-file-header_diff-file-header_ts-packages_diff-file-tree_diff-file-tree-helpers_-b49245-14fbe8474e03.js.map