"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_chart-card_ChartCard_tsx"],{36826:(e,a,t)=>{t.d(a,{d:()=>e$});var r=t(74848),l=t(36523),i=t(94236),s=t(26108),o=t(5524),n=t(35811),d=t(15220),c=t(57919),h=t(10006),p=t(3803),u=t(38621),m=t(29731),y=t(96540);let C=(0,y.createContext)({}),b=({children:e})=>{let{size:a}=(0,y.useContext)(C);return"sparkline"!==a?(0,r.jsx)(r.Fragment,{children:e}):null};try{b.displayName||(b.displayName="LeadingVisual")}catch{}var g=t(37364),v=t(34164);function x(e){switch(typeof e){case"string":case"number":return e.toString();case"object":if(Array.isArray(e))return e.map(x).join("");if(null!==e&&"props"in e)return x(e.props.children);return"";default:return""}}let f=({as:e="h3",sx:a,children:t,className:l})=>{let{setTitle:i,size:s}=(0,y.useContext)(C);return(0,y.useEffect)(()=>{i(x(t))},[i,t]),"sparkline"!==s?(0,r.jsx)(n.DZ,{as:e,sx:a,className:(0,v.$)(l,"Title-module__ChartCardTitleHeading--dMydC"),children:t}):null};try{f.displayName||(f.displayName="Title")}catch{}let S=({sx:e,children:a,className:t})=>{let{setDescription:l,size:i}=(0,y.useContext)(C);return(0,y.useEffect)(()=>{l(x(a))},[l,a]),"sparkline"!==i?(0,r.jsx)(n.EY,{sx:e,className:(0,v.$)(t,"Description-module__ChartCardDescriptionText--ORwU6"),children:a}):null};try{S.displayName||(S.displayName="Description")}catch{}let k=({children:e})=>{let{size:a}=(0,y.useContext)(C);return"sparkline"!==a?(0,r.jsx)(r.Fragment,{children:e}):null};try{k.displayName||(k.displayName="TrailingVisual")}catch{}var N=t(14783),D=t.n(N),j=t(65006),w=t.n(j),A=t(44802),L=t.n(A),_=t(20535),$=t.n(_),O=t(9264),z=t.n(O),M=t(84834),T=t.n(M),B=t(85316),V=t.n(B);let R={ChartCardDialogBody:"ChartCard-module__ChartCardDialogBody--OLQwJ",ChartCardHeaderContainer:"ChartCard-module__ChartCardHeaderContainer--FAjoQ",ChartCardContentContainer:"ChartCard-module__ChartCardContentContainer--NpfuI",ChartCardLeadingVisualContainer:"ChartCard-module__ChartCardLeadingVisualContainer--CFeSn",ChartCardActionsContainer:"ChartCard-module__ChartCardActionsContainer--s_1yW",ChartCardTableContainer:"ChartCard-module__ChartCardTableContainer--JAgMC","-table":"ChartCard-module__-table--sG6MU","-table-header":"ChartCard-module__-table-header--_K3OB","-table-cell":"ChartCard-module__-table-cell--_KZwy",ChartCardSymbol:"ChartCard-module__ChartCardSymbol--HCein","ChartCardSymbol-circle":"ChartCard-module__ChartCardSymbol-circle--c2Ynj","ChartCardSymbol-square":"ChartCard-module__ChartCardSymbol-square--oESib","ChartCardSymbol-diamond":"ChartCard-module__ChartCardSymbol-diamond--MaFMg","ChartCardSymbol-triangle":"ChartCard-module__ChartCardSymbol-triangle--Ljbus","ChartCardSymbol-triangle-down":"ChartCard-module__ChartCardSymbol-triangle-down--z7i8j"},W=["Solid","ShortDash","Dot","DashDot","LongDash","ShortDashDotDot","ShortDot","LongDashDot","Dash","ShortDashDot","LongDashDotDot"],F=["circle","square","diamond","triangle","triangle-down"],I=e=>"datetime"===e?"{value:%b %e}":void 0,E=({xAxis:e,gridLineDashStyle:a,gridLineWidth:t})=>{if(void 0===e)return;let r=e.title;return{gridLineWidth:t,...e,labels:{format:I(e.type),...e.labels},title:{text:r},gridLineDashStyle:a}},H=({yAxis:e,gridLineDashStyle:a,gridLineWidth:t})=>{if(void 0===e)return;let r=Array.isArray(e)?e:[e],l=1===r.length;return r.map(e=>{let r=e.title;return{gridLineWidth:l?t:0,...e,labels:{format:I(e.type),...e.labels},title:{text:r},gridLineDashStyle:a}})},P=({series:e,type:a,hasDashStyle:t=!0})=>(e??[]).map((e,r)=>{let l=W[r%W.length];return{type:a,dashStyle:t?l:"Solid",marker:{symbol:F[r%F.length]},...e}}),q=({plotOptions:e,marker:a,labels:t,stacking:r,noBorderRadius:l=!1})=>({series:{...e,marker:{enabled:a??!1},dataLabels:{enabled:t??!1},lineWidth:2,borderWidth:1.5,stacking:r??void 0,borderRadius:l?0:void 0}}),G=({color:e,borderColor:a,borderShape:t,symbol:r})=>{let l,i=a&&!r.startsWith("triangle")?`border: 1px ${t??"solid"} ${a};`:void 0;if(e&&"object"==typeof e&&"stops"in e){let a=e.stops.map(e=>{let a=e[0],t=e[1];return`${t} ${100*a}%`}).join(", ");l=`background: linear-gradient(0deg, ${a});
        ${i??""}`}else l=`background-color: ${"string"==typeof e?e:"#000"};
      ${i??""}`;return l},J={Solid:"solid",ShortDash:"dashed",Dot:"dotted"},Y={tickWidth:0,lineWidth:0,gridLineColor:"var(--borderColor-muted)",gridLineDashStyle:"Dash",lineColor:"var(--borderColor-default)",stackLabels:{style:{color:"var(--fgColor-default)",fontSize:"var(--text-body-size-small)",textOutline:"1px var(--bgColor-default)"}},labels:{style:{color:"var(--fgColor-muted)",fontSize:"var(--text-body-size-small)"}},title:{style:{color:"var(--fgColor-muted)",fontSize:"var(--text-body-size-small)"}}},K={accessibility:{keyboardNavigation:{order:["legend","series"]}},colors:["var(--data-blue-color-emphasis, var(--data-blue-color))","var(--data-green-color-emphasis, var(--data-green-color))","var(--data-orange-color-emphasis, var(--data-orange-color))","var(--data-pink-color-emphasis, var(--data-pink-color))","var(--data-yellow-color-emphasis, var(--data-yellow-color))","var(--data-red-color-emphasis, var(--data-red-color))","var(--data-purple-color-emphasis, var(--data-purple-color))","var(--data-auburn-color-emphasis, var(--data-auburn-color))","var(--data-teal-color-emphasis, var(--data-teal-color))","var(--data-gray-color-emphasis, var(--data-gray-color))"],caption:{align:"left",style:{color:"var(--fgColor-muted)"},verticalAlign:"top"},title:{align:"left",style:{color:"var(--fgColor-default)"},text:void 0},tooltip:{backgroundColor:"var(--bgColor-default)",borderRadius:6,borderColor:"var(--borderColor-muted)",borderWidth:1,shape:"rect",padding:10,shadow:{offsetX:2,offsetY:2,opacity:.02,width:4,color:"var(--shadowColor-default)"},style:{color:"var(--fgColor-default)",fontFamily:"var(--fontStack-sansSerif)",fontSize:"var(--text-body-size-small)"},useHTML:!0,headerFormat:'<table style="min-width: 120px;"><tr><th colspan="3" style="color:var(--fgColor-muted, var(--color-fg-muted)); font-weight:var(--base-text-weight-semibold); padding-bottom:2px;">{point.key}</th></tr>',pointFormatter:function(){let e=this.series?.chart?.options?.chart?.type,a=this.series?.options?.marker?.symbol??("column"===e||"bar"===e?"square":"circle"),t=this.series?.options?.dashStyle,r=t&&("column"===e||"bar"===e)?J[t]:void 0,l=this.options?.borderColor??this.series?.options?.borderColor,i=G({color:this.color,borderColor:l,borderShape:r,symbol:a}),s=`ChartCardSymbol-${a}`;return`<tr><td style="padding-top:var(--base-size-4)"><span class="${R.ChartCardSymbol} ${R[s]}" style="${i}"></span> ${this.series.name}</td><td style="text-align: right; padding-top:var(--base-size-4);"><strong>${this.y}</strong></td></tr>`},footerFormat:"</table>"},credits:{enabled:!1},chart:{animation:!1,events:{afterA11yUpdate(){let e=this.container;e?.setAttribute("role","application")}},spacing:[4,0,4,0],backgroundColor:"var(--bgColor-default, var(--color-canvas-default))",style:{fontFamily:"var(--fontStack-sansSerif)",fontSize:"var(--text-body-size-small)",color:"var(--fgColor-default)"}},legend:{itemStyle:{fontSize:"var(--text-body-size-small)",font:"var(--fontStack-sansSerif)",color:"var(--fgColor-default)"},align:"left",verticalAlign:"top",x:-8,y:-12,itemHoverStyle:{color:"var(--fgColor-default)"},title:{style:{color:"var(--fgColor-default)"}}},navigation:{buttonOptions:{enabled:!1}},exporting:{fallbackToExportServer:!1},plotOptions:{series:{animation:!1},spline:{animation:!1},bar:{borderColor:"var(--bgColor-default)"},column:{borderColor:"var(--bgColor-default)"}},xAxis:{tickWidth:0,lineWidth:1,gridLineColor:"var(--borderColor-muted)",gridLineDashStyle:"Dash",lineColor:"var(--borderColor-default)",labels:{style:{color:"var(--fgColor-muted)",fontSize:"var(--text-body-size-small)"}},title:{style:{color:"var(--fgColor-muted)",fontSize:"var(--text-body-size-small)"}}},yAxis:[Y]};var U=t(4559);function Z(e){if(e)return new Intl.DateTimeFormat("sv-SE",{timeZone:"UTC"}).format(new Date(e))}L()(D()),$()(D()),z()(D()),T()(D()),L()(w()),$()(w()),z()(w()),T()(w()),function(){let e=D().getOptions().accessibility?.series?.pointDescriptionEnabledThreshold;for(let a of[w(),D()])a.wrap(a.Point.prototype,"highlight",function(t,...r){let l=t.apply(this,r),i=this.series.chart.userOptions.accessibility?.series?.pointDescriptionEnabledThreshold||e;if(i&&"number"==typeof i&&this.series.data.length>i){let e=a.SeriesAccessibilityDescriber.defaultPointDescriptionFormatter(this);(0,U.i)(e,{assertive:!0})}return l})}(),D().AST.allowedAttributes.push("data-hovercard-url"),D().AST.allowedAttributes.push("data-hovercard-type"),function(){for(let e of[w(),D()])e.wrap(e.Chart.prototype,"getDataRows",function(e,a){let t=e.call(this,a),r=this.xAxis[0]?.min,l=this.xAxis[0]?.max;return r&&l&&(t=t.filter(function(e){return"number"!=typeof e.x||e.x>=r&&e.x<=l})),t})}(),D().setOptions({lang:{decimalPoint:".",thousandsSep:","}}),w().setOptions({lang:{decimalPoint:".",thousandsSep:","}});let Q={xl:"432px",large:"320px",medium:"256px",small:"128px",sparkline:"128px"},X=({type:e="line",xAxisTitle:a,yAxisTitle:t,useUTC:l=!0,showRangeSelector:i=!1,dataGrouping:s=!1,colors:o,plotOptions:n,series:d,xAxisOptions:c,yAxisOptions:h,tooltipOptions:p,overrideOptionsNotRecommended:u})=>{let{title:m,size:b,chartRef:v}=(0,y.useContext)(C),x=(0,y.useMemo)(()=>o,[o]),f=(0,y.useMemo)(()=>n,[n]),S=(0,y.useMemo)(()=>d,[d]),k=(0,y.useMemo)(()=>c??[],[c]),N=(0,y.useMemo)(()=>h??[],[h]),j=(0,y.useMemo)(()=>p,[p]),A=(0,y.useMemo)(()=>u,[u]),L=S.length>1&&"sparkline"!==b,_=S.length>3,$=f&&function e(a,t,r){if("object"!=typeof a||null===a)return!1;if(a[t]===r)return!0;for(let l in a)if(void 0!==a[l])return e(a[l],t,r);return!1}(f,"stacking","normal"),O=i||s?"stockChart":"chart",z=(0,y.useMemo)(()=>Array.isArray(N)?N:[N],[N]),M=(0,y.useMemo)(()=>"stockChart"===O?w():D(),[O]),T=(0,y.useMemo)(()=>{let r=(0,g.A)({},K,{accessibility:{..._?{keyboardNavigation:{order:["series","legend"]}}:{},...m?{screenReaderSection:{beforeChartFormat:"<div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>"}}:{}},chart:{type:e,height:"number"==typeof b?b:Q[b],events:{render(){i&&window.setTimeout(()=>{let[e,a]=Array.from(v.current?.container.current?.querySelectorAll(".highcharts-a11y-proxy-group-navigator input[type=range]")||[]),{dataMin:t,dataMax:r,min:l,max:i}=this.xAxis?.[0]||{};e&&a&&void 0!==t&&void 0!==r&&void 0!==l&&void 0!==i&&(e.setAttribute("aria-label","Start of selected range"),e.setAttribute("aria-valuemin",t.toString()),e.setAttribute("aria-valuemax",r.toString()),e.setAttribute("aria-valuenow",l.toString()),a.setAttribute("aria-label","End of selected range"),a.setAttribute("aria-valuemin",t.toString()),a.setAttribute("aria-valuemax",r.toString()),a.setAttribute("aria-valuenow",i.toString()));let s=Z(l),o=Z(i);e&&a&&s&&o&&(e.setAttribute("aria-valuetext",s),a.setAttribute("aria-valuetext",o))},0)}}},time:{useUTC:l},colors:x,exporting:{chartOptions:{title:{text:m}},filename:m,csv:{dateFormat:"%Y-%m-%d"}},lang:{accessibility:{chartContainerLabel:m?`${m}. Interactive chart.`:"Interactive chart.",navigator:{groupLabel:`${m} Axis zoom`}}},legend:{enabled:L,symbolRadius:"column"===e||"bar"===e?0:void 0,..._?{align:"right",layout:"vertical",verticalAlign:"middle"}:{}},plotOptions:(0,g.A)({},K.plotOptions,{series:{marker:{enabled:"sparkline"!==b&&"spline"!==e},enableMouseTracking:"sparkline"!==b}},f),series:S,tooltip:(0,g.A)({},{enabled:"sparkline"!==b,shared:$},j),xAxis:(0,g.A)({},{visible:"sparkline"!==b,gridLineWidth:+("sparkline"!==b),title:{text:"sparkline"!==b?a:void 0}},k),yAxis:z.map(e=>{if(e)return(0,g.A)({},Y,{visible:"sparkline"!==b,gridLineWidth:+("sparkline"!==b),title:{text:"sparkline"!==b?t:void 0}},e)}),...i?{rangeSelector:{enabled:!0,inputEnabled:!1,buttons:[],dropdown:"never"}}:{}},A);if(i&&r.accessibility&&r.accessibility.keyboardNavigation&&(r.accessibility.keyboardNavigation.order=[...r.accessibility?.keyboardNavigation?.order??[],"navigator"]),r.series&&r.colors){let e=0,a=[];for(let t of r.series)if("areaspline"===t.type||"area"===t.type){let l;t.color?l=t.color:(l=r.colors[e],e++),t.fillColor||(t.fillColor={linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,`color-mix(in srgb, ${l} 25%, transparent)`],[1,`color-mix(in srgb, ${l} 1%, transparent)`]]}),a.push(t),e>r.colors.length-1&&(e=0)}else a.push(t);r.series=a}return r},[e,a,t,l,i,m,b,L,_,$,v,x,f,S,j,k,z,A]);return(0,r.jsx)(V(),{constructorType:O,highcharts:M,ref:v,options:T})},ee={auburn:"--display-auburn-scale-6",blue:"--display-blue-scale-4",brown:"--display-brown-scale-5",coral:"--display-coral-scale-5",cyan:"--display-cyan-scale-5",gray:"--display-gray-scale-5",green:"--display-green-scale-4",indigo:"--display-indigo-scale-7",lemon:"--display-lemon-scale-4",lime:"--display-lime-scale-4",olive:"--display-olive-scale-5",orange:"--display-orange-scale-4",pine:"--display-pine-scale-5",pink:"--display-pink-scale-5",plum:"--display-plum-scale-7",purple:"--display-purple-scale-5",red:"--display-red-scale-6",teal:"--display-teal-scale-4",yellow:"--display-yellow-scale-4"};var ea=t(58615),et=t(44534);let er="CustomizationDialog-module__ChartCardDialogBody--ZDmNq",el="CustomizationDialog-module__ChartCardDialogRow--Q6yLL",ei="CustomizationDialog-module__ChartCardDialogColGrow--z4kNN",es="CustomizationDialog-module__ChartCardDialogSwitchLabel--LYYpi",eo="CustomizationDialog-module__ChartCardDialogSwitchCaption--aio_B",en="chart-card-increased-contrast",ed="chart-card-line-style",ec="chart-card-line-data-labels",eh="chart-card-column-data-labels",ep=({type:e})=>{let[a,t]=(0,ea.M)(eh,!1),[l,i]=(0,ea.M)(en,!1),[s,o]=(0,ea.M)(ed,!0),[n,d]=(0,ea.M)(ec,!1);return"ColumnChart"===e?(0,r.jsxs)("div",{className:er,children:[(0,r.jsxs)("div",{className:el,children:[(0,r.jsxs)("div",{className:ei,children:[(0,r.jsx)("h2",{className:es,id:"switchLabelIncreaseContrast",children:"Increase Contrast"}),(0,r.jsx)("span",{className:eo,id:"switchCaptionIncreaseContrast",children:"Adds gradients and outlines to increase contrast in charts."})]}),(0,r.jsx)(et.A,{size:"small","aria-labelledby":"switchLabelIncreaseContrast","aria-describedby":"switchCaptionIncreaseContrast",checked:l,onClick:()=>{i(!l)}})]}),(0,r.jsxs)("div",{className:el,children:[(0,r.jsxs)("div",{className:ei,children:[(0,r.jsx)("h2",{className:es,id:"switchLabelColumnDataLabels",children:"Show data labels"}),(0,r.jsx)("span",{className:eo,id:"switchCaptionColumnDataLabels",children:"Show labels for each data point in column and bar charts."})]}),(0,r.jsx)(et.A,{size:"small","aria-labelledby":"switchLabelColumnDataLabels","aria-describedby":"switchCaptionColumnDataLabels",checked:a,onClick:()=>{t(!a)}})]})]}):(0,r.jsxs)("div",{className:er,children:[(0,r.jsxs)("div",{className:el,children:[(0,r.jsxs)("div",{className:ei,children:[(0,r.jsx)("h2",{className:es,id:"switchLabelLineStyle",children:"Differentiate by line style"}),(0,r.jsx)("span",{className:eo,id:"switchCaptionLineStyle",children:"Use unique line styles (dashed, dotted, etc.) to differentiate lines in charts."})]}),(0,r.jsx)(et.A,{size:"small","aria-labelledby":"switchLabelLineStyle","aria-describedby":"switchCaptionLineStyle",checked:s,onClick:()=>{o(!s)}})]}),(0,r.jsxs)("div",{className:el,children:[(0,r.jsxs)("div",{className:ei,children:[(0,r.jsx)("h2",{className:es,id:"switchLabelLineDataLabels",children:"Show data labels"}),(0,r.jsx)("span",{className:eo,id:"switchCaptionLineDataLabels",children:"Show labels for each data point in line chart."})]}),(0,r.jsx)(et.A,{size:"small","aria-labelledby":"switchLabelLineDataLabels","aria-describedby":"switchCaptionLineDataLabels",checked:n,onClick:()=>{d(!n)}})]})]})},eu=({chartType:e,onCloseCallback:a})=>e&&(0,r.jsx)(d.l,{title:["column","bar"].includes(e)?"Column & bar chart settings":"Line chart settings",onClose:a,renderBody:()=>(0,r.jsx)(ep,{type:["column","bar"].includes(e)?"ColumnChart":"LineChart"})});try{ep.displayName||(ep.displayName="DialogContentBody")}catch{}try{eu.displayName||(eu.displayName="CustomizationDialog")}catch{}let em={green:ee.green,blue:ee.blue,olive:ee.olive,indigo:ee.indigo,teal:ee.teal,orange:ee.orange,yellow:ee.yellow,red:ee.red,pink:ee.pink,plum:ee.plum,purple:ee.purple},ey=({type:e,options:a,series:t,marker:l,labels:i,...s})=>{let{xAxis:o,yAxis:n,plot:d}=a??{},[c]=(0,ea.M)(ed,!0),[h]=(0,ea.M)(ec,void 0),p=E({xAxis:o,gridLineDashStyle:"Solid"}),u=H({yAxis:n,gridLineDashStyle:"Solid"}),m=P({series:t?.map((e,a)=>{let t=Object.keys(em),r=t[a%t.length];return{...e,color:e.color?`var(${ee[e.color]})`:r?`var(${em[r]})`:void 0}}),type:e,hasDashStyle:c}),y=q({plotOptions:d,marker:l,labels:h??i});return m.length,(0,r.jsx)(X,{type:e,xAxisOptions:p,yAxisOptions:u,series:m,plotOptions:y,...s})},eC=e=>(0,r.jsx)(ey,{...e,type:"line"});try{ey.displayName||(ey.displayName="BaseLineChart")}catch{}try{eC.displayName||(eC.displayName="LineChart")}catch{}let eb=e=>(0,r.jsx)(ey,{...e,type:"spline"});try{eb.displayName||(eb.displayName="SplineChart")}catch{}let eg={green:ee.green,teal:ee.teal,blue:ee.blue,indigo:ee.indigo,orange:ee.orange},ev={green:"--display-green-scale-0",teal:"--display-teal-scale-0",blue:"--display-blue-scale-0",indigo:"--display-indigo-scale-0",orange:"--display-orange-scale-0"},ex=({type:e,options:a,series:t,stacking:l="normal",marker:i,labels:s,...o})=>{let{xAxis:n,yAxis:d,plot:c}=a??{},[h]=(0,ea.M)(ed,!0),[p]=(0,ea.M)(ec,void 0),u=E({xAxis:n,gridLineDashStyle:"Solid"}),m=H({yAxis:d,gridLineDashStyle:"Solid"}),y=P({series:t?.map((e,a)=>{let t=Object.keys(eg).filter(Boolean),r=t[a%t.length];return{...e,color:e.color?`var(${ee[e.color]})`:r?`var(${eg[r]})`:void 0,fillColor:e.color?void 0:r?`var(${ev[r]})`:void 0}}),type:e,hasDashStyle:h}),C=q({plotOptions:c,marker:i,labels:p??s,stacking:l});return y.length,(0,r.jsx)(X,{type:e,xAxisOptions:u,yAxisOptions:m,series:y,plotOptions:C,...o})},ef=e=>(0,r.jsx)(ex,{...e,type:"area"});try{ex.displayName||(ex.displayName="BaseAreaChart")}catch{}try{ef.displayName||(ef.displayName="AreaChart")}catch{}let eS=e=>(0,r.jsx)(ex,{...e,type:"areaspline"});try{eS.displayName||(eS.displayName="AreaSplineChart")}catch{}let ek={Solid:"solid",ShortDash:"dashed"},eN=(e,a=!1)=>!1===a?[`var(--display-${e}-scale-8)`,`var(--display-${e}-scale-4)`,`var(--display-${e}-scale-2)`,`var(--display-${e}-scale-1)`,`var(--display-${e}-scale-0)`]:[`var(--display-${e}-scale-9)`,`var(--display-${e}-scale-5)`,{linearGradient:{x1:0,x2:0,y1:1,y2:0},stops:[[.15,`var(--display-${e}-scale-1)`],[.45,`var(--display-${e}-scale-2)`],[1,`var(--display-${e}-scale-4)`]]},{linearGradient:{x1:0,x2:0,y1:1,y2:0},stops:[[0,`var(--display-${e}-scale-0)`],[1,`var(--display-${e}-scale-1)`]]},`var(--display-${e}-scale-0)`],eD={pine:ee.pine,teal:ee.teal,cyan:ee.cyan,blue:ee.blue,indigo:ee.indigo,purple:ee.purple,orange:ee.orange},ej=({type:e,options:a,series:t,stacking:l,labels:i,colors:s,theme:o,overrideOptionsNotRecommended:n,...d})=>{let{xAxis:c,yAxis:h,plot:p}=a??{},[u]=(0,ea.M)(en,!1),[m]=(0,ea.M)(eh,void 0),C=m??i,b=(0,y.useMemo)(()=>E({xAxis:c,gridLineWidth:0}),[c]),g=(0,y.useMemo)(()=>((e,a,t=!1)=>eN(a,t).slice(0,e).reverse())(t?.length??0,o??"green",u),[o,t,u]),v=(0,y.useMemo)(()=>(t?.length??0)>1,[t]),x=(0,y.useMemo)(()=>H({yAxis:h,gridLineDashStyle:"Dash"}),[h]),f=(0,y.useMemo)(()=>t?.map((e,a)=>{l&&e.colorByPoint&&console.warn("Stacking is enabled, colorByPoint will be set to false for all series.");let t=JSON.stringify(g[a])===JSON.stringify(eN(o??"green",u)[3]),r=JSON.stringify(g[a])===JSON.stringify(eN(o??"green",u)[4]);return{...e,colorByPoint:!l&&e.colorByPoint,dashStyle:v&&!0===u?t?"ShortDash":r?"Solid":void 0:"Solid",borderColor:v&&(t&&!0===u||r&&!0===u)?`var(--display-${o??"green"}-scale-5)`:void 0}}),[t,l,v,g,o,u]),S=(0,y.useMemo)(()=>P({series:f,type:e,hasDashStyle:!1}),[f,e]),k=(0,y.useMemo)(()=>q({plotOptions:p,labels:C,stacking:l,noBorderRadius:!0}),[C,l,p]);S.length;let N=(0,y.useMemo)(()=>v?g:s?s.map(e=>`var(${ee[e]})`):Object.keys(eD).map(e=>`var(${eD[e]})`),[s,v,g]);return(0,r.jsx)(X,{type:e,xAxisOptions:b,yAxisOptions:x,series:S,plotOptions:k,colors:N,overrideOptionsNotRecommended:{...n,legend:{useHTML:!0,symbolHeight:0,symbolWidth:0,labelFormatter(){var e,a;let t,r,l,i,s,o,n,d,c;return e=this.name,a=this.index,t=S[a]??{},r="square",l=N[a]??`var(--display-green-scale-${a})`,i=t.borderColor??void 0,o=G({color:l,borderColor:i,borderShape:(s=t.dashStyle)?ek[s]:void 0,symbol:r}),n=`ChartCardSymbol-${r}`,d=`<span class="${R.ChartCardSymbol} ${R[n]}" style="${o}"></span>`,c=`<span>${e}</span>`,`${d} ${c}`},...n?.legend}},...d})},ew=e=>(0,r.jsx)(ej,{...e,type:"column"});try{ej.displayName||(ej.displayName="BaseColumnChart")}catch{}try{ew.displayName||(ew.displayName="ColumnChart")}catch{}let eA=e=>(0,r.jsx)(ej,{...e,type:"bar"});try{eA.displayName||(eA.displayName="BarChart")}catch{}function eL({children:e}){return(0,r.jsx)(d.l.Body,{className:R.ChartCardDialogBody,children:e})}function e_({size:e="medium",border:a,padding:t="normal",visibleControls:v,visibleChartOptions:x=!0,className:N,children:D,chartRef:j}){let w=v??"sparkline"!==e,A=a??"sparkline"!==e,[L,..._]=(0,c.H)(D,{leadingVisual:b,title:f,description:S,trailingVisual:k,chart:X}),[$,O]=(0,y.useState)(""),[z,M]=(0,y.useState)(""),T=(0,l.L)(j),B=T.current?.chart?.options||{},V=B.chart?.type,W=(0,y.useMemo)(()=>({title:$,setTitle:O,description:z,setDescription:M,size:e,chartRef:T}),[$,O,z,M,e,T]),F=(0,y.useRef)(null),[I,E]=(0,y.useState)(),H=(0,y.useCallback)(()=>E(!0),[]),P=(0,y.useCallback)(()=>E(!1),[]),[q,G]=(0,y.useState)(!1),J=(0,y.useCallback)(()=>G(!0),[]),Y=(0,y.useCallback)(()=>G(!1),[]);(0,y.useEffect)(()=>{!1===I&&F.current?.focus()},[I]);let K=(0,y.useCallback)(()=>{let e=new Set;return a=>{let t=a.replace(/\./g,"_"),r=0,l=t;for(;e.has(l);)r++,l=`${t}_${r}`;return e.add(l),l}},[]),U=(0,y.useCallback)(()=>{if(!T.current?.chart)return[];let e=T.current.chart.getDataRows()[0],a=K();return e.map(e=>({originalLabel:e,sanitizedField:a(e)}))},[T,K]),Z=(0,y.useCallback)(()=>{if(!T.current?.chart)return[];let[,...e]=T.current.chart.getDataRows(),a=U();return e.map((e,t)=>e.reduce((e,r,l)=>({...e,id:t,[a[l]?.sanitizedField||`field_${l}`]:r}),{}))},[T,U]),Q=(0,y.useCallback)(()=>T.current?.chart?U().map((e,a)=>({header:e.originalLabel,field:e.sanitizedField,rowHeader:0===a})):[],[T,U]),ee=(0,y.useCallback)(()=>T.current?.chart?.downloadCSV(),[T]),ea=(0,y.useCallback)(()=>{T.current?.chart.update({exporting:{chartOptions:{caption:{text:z}}}});let e=JSON.stringify(T.current?.chart?.userOptions,(e,a)=>"string"==typeof a?a.replace(/var\(--([^,)]+)[,)]+/g,(e,a)=>getComputedStyle(T.current?.container.current??document.body).getPropertyValue(`--${a}`).trim()):a);T.current?.chart?.exportChartLocal({type:"image/png"},JSON.parse(e))},[T,z]),et=null,er=(0,y.useMemo)(()=>(0,g.A)({},L.chart?.props?.overrideOptionsNotRecommended||{},{accessibility:{screenReaderSection:{onViewDataTableClick:H}}}),[L.chart?.props?.overrideOptionsNotRecommended,H]);L.chart&&(et=(0,y.cloneElement)(L.chart,{overrideOptionsNotRecommended:er}));let el=(0,y.useMemo)(()=>!!(L.leadingVisual||L.trailingVisual||w||L.title||L.description),[L.leadingVisual,L.trailingVisual,w,L.title,L.description]);return(0,r.jsxs)(C.Provider,{value:W,children:[(0,r.jsxs)(n.az,{className:N,sx:{...A?{borderWidth:"1px",borderStyle:"solid",borderColor:"border.default",borderRadius:2}:{},p:"none"===t?0:`var(--stack-padding-${t})`},...(0,m.G)("chart-card"),children:[(0,r.jsxs)(n.az,{sx:{display:el?"flex":"none",mb:3*("sparkline"!==e)},className:R.ChartCardHeaderContainer,children:[(0,r.jsxs)("div",{className:R.ChartCardContentContainer,children:[(0,r.jsx)(n.az,{sx:{mr:2*!!L.leadingVisual},className:R.ChartCardLeadingVisualContainer,children:L.leadingVisual}),(0,r.jsxs)("div",{children:[L.title,L.description]})]}),(0,r.jsxs)("div",{className:R.ChartCardActionsContainer,children:[(0,r.jsx)(n.az,{sx:{mr:2*!!L.leadingVisual},children:L.trailingVisual}),w&&(0,r.jsxs)(i.W,{anchorRef:F,children:[(0,r.jsx)(i.W.Anchor,{children:(0,r.jsx)(s.K,{"aria-label":"Chart options",icon:u.KebabHorizontalIcon,variant:"invisible",size:"small"})}),(0,r.jsx)(i.W.Overlay,{width:"auto",children:(0,r.jsxs)(o.l,{children:[(0,r.jsx)(o.l.Item,{onSelect:H,children:"View as table"}),(0,r.jsx)(o.l.Item,{onSelect:ee,children:"Download CSV"}),(0,r.jsx)(o.l.Item,{onSelect:ea,children:"Download PNG"})]})})]}),!L.chart&&x&&(0,r.jsx)(s.K,{"aria-label":"Customization settings",icon:u.GearIcon,variant:"invisible",size:"small",onClick:()=>J()})]})]}),et??_]}),I&&(0,r.jsx)(d.l,{title:$,onClose:P,footerButtons:[{buttonType:"default",content:"Download CSV",onClick:ee}],renderBody:eL,children:(0,r.jsx)(h.X.Container,{className:R.ChartCardTableContainer,children:(0,r.jsx)(p.b,{data:Z(),columns:Q()})})}),q&&(0,r.jsx)(eu,{chartType:V,onCloseCallback:Y})]})}e_.displayName="ChartCard";let e$=Object.assign(e_,{LeadingVisual:b,Title:f,Description:S,TrailingVisual:k,Chart:X,LineChart:eC,ColumnChart:ew,BarChart:eA,AreaChart:ef,AreaSplineChart:eS,SplineChart:eb,Context:C});try{eL.displayName||(eL.displayName="DialogBodyWithoutPadding")}catch{}try{e$.displayName||(e$.displayName="ChartCard")}catch{}}}]);
//# sourceMappingURL=packages_chart-card_ChartCard_tsx-712fc57c3218.js.map