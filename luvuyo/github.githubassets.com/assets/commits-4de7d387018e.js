"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["commits","lazy-react-partial-actions-custom-images-retention-policy","lazy-react-partial-actions-policies","lazy-react-partial-actions-survey","lazy-react-partial-automated-review-comment","lazy-react-partial-browser-geo-location","lazy-react-partial-codespaces-survey","lazy-react-partial-consent-experience","lazy-react-partial-copilot-assisted-review-upsell","lazy-react-partial-copilot-code-review-feedback","lazy-react-partial-copilot-code-review-upsell","lazy-react-partial-copilot-content-exclusion","lazy-react-partial-copilot-survey","lazy-react-partial-custom-copilot-code-review-comment","lazy-react-partial-custom-signup-content-manager","lazy-react-partial-date-picker-partial","lazy-react-partial-delete-configuration-dialog","lazy-react-partial-education-schools-auto-complete","lazy-react-partial-email-subscription-form","lazy-react-partial-enterprise-team","lazy-react-partial-external-group-team-mismatch-widget","lazy-react-partial-growth-banner-partial","lazy-react-partial-metadata-suggestion-staffbar-component","lazy-react-partial-network-configurations-select-panel","lazy-react-partial-new-agent-task-button","lazy-react-partial-react-partial-anchor-example","lazy-react-partial-react-sandbox-sidenav","lazy-react-partial-search-results","lazy-react-partial-security-center-pagination","lazy-react-partial-sponsors-dashboard-your-sponsors","lazy-react-partial-sponsors-newsletters","lazy-react-partial-trade-screening-status-banner","packages_diffs_diff-parts_ts","packages_document-metadata_document-metadata_ts-packages_failbot_failbot_ts"],{977:(e,t,a)=>{a.d(t,{Z:()=>W});var n,l=a(74848);let i={kind:"InlineDataFragment",name:"IssueFormElements_templateElements"};i.hash="8c027995abd00c22fac1d025a14e2a8d";var s=a(40104),r=a(96540),o=a(18312);let d={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CheckboxesElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:"checkboxOptions",args:null,concreteType:"IssueFormElementCheckboxOption",kind:"LinkedField",name:"options",plural:!0,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"labelHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementCheckboxes",abstractKey:null};d.hash="66c71c2357977009e7b34571e8a11e21";var c=a(62559),u=a(73017),m=a(64451),p=a(86877),g=a(46720),f=a(10286);let h="_No response_";function y(e,t){return(0===t.length&&(t=h),e)?`### ${e}

${t}`:t}let b=(e,t,a,n)=>{if("markdown"===t)return"";let l=""===t?a:`${t}-${a}`;return`${e}-${l}-${n}`};function k({itemId:e,indexOfFormElement:t,defaultValuesById:a,checkboxCount:n}){if(!e)return Array(n).fill(!1);let l=(0,f.k)({id:e,value:"",indexOfFormElement:t,defaultValuesById:a}).split(",").map(e=>"true"===e.trim());return l.length===n?l:Array(n).fill(!1)}let x=(0,r.forwardRef)(({elementRef:e,index:t,sessionStorageKey:a,defaultValuesById:n,onFieldChange:i},s)=>{let r=(0,o.useFragment)(d,e);if(!r.checkboxOptions)return null;let c=b(a,"",r.label,r.__id);return(0,l.jsx)(v,{...r,type:"checkboxes",index:t,ref:s,sessionStorageKey:c,defaultValuesById:n,onFieldChange:i})}),v=(0,r.forwardRef)(({itemId:e,index:t,sessionStorageKey:a,label:n,descriptionHTML:i,checkboxOptions:o,defaultValuesById:d,onFieldChange:f},h)=>{let b=(0,r.useRef)(null),x=(0,r.useMemo)(()=>k({itemId:e,indexOfFormElement:t,defaultValuesById:d,checkboxCount:o.length}),[o.length,d,t,e]),[v,C]=(0,s.Fo)(a,x),j=(0,r.useRef)(v);(0,r.useEffect)(()=>{j.current=v},[v]),(0,r.useEffect)(()=>{if(f&&d){let a=k({itemId:e,indexOfFormElement:t,defaultValuesById:d,checkboxCount:o.length});C(a),j.current=a}},[d,t,e,o.length,C,f]),(0,r.useEffect)(()=>{if(f){let a=j.current,n=k({itemId:e,indexOfFormElement:t,defaultValuesById:d,checkboxCount:o.length});a.length===n.length&&a.every((e,t)=>e===n[t])||f(e,t,a.map(e=>e.toString()).join(","))}},[v,e,t,f,d,o.length]);let[S,I]=(0,r.useState)(void 0);return(0,r.useImperativeHandle)(h,()=>({focus:()=>b.current?.focus(),markdown:()=>y(n,o.map((e,t)=>{var a,n;return a=e.label,n=v[t],`- [${n?"x":" "}] ${a}`}).join(`
`)),validate:()=>{for(let[e,t]of o.entries())if(t.required&&!v[e])return I(c.wY.checkboxInAGroupMustBeSelected),!1;return!0},reset:()=>{C(x),I(void 0)},hasChanges:()=>!x.every((e,t)=>e===v[t]),getSessionStorageKey:()=>a}),[o,x,n,v,a,C]),(0,r.useEffect)(()=>{S&&o.every((e,t)=>!e.required||v[t])&&I(void 0)},[o,v,S]),(0,l.jsxs)(m.A,{className:"CheckboxesElement-module__CheckboxesElementGroup--cz_dJ",children:[(0,l.jsx)(m.A.Label,{className:"CheckboxesElement-module__CheckboxesElementGroupLabel--wixq_",children:n}),i&&(0,l.jsx)(m.A.Caption,{className:"CheckboxesElement-module__CheckboxesElementGroupDescription--DoWqf",children:(0,l.jsx)(u.vb,{html:i,className:"markdown-body note text-small mb-2"})}),o.map((e,t)=>(0,l.jsxs)(p.A,{required:e.required??!1,children:[(0,l.jsx)(g.A,{ref:0===t?b:void 0,checked:v[t],onChange:()=>{C(v.map((e,a)=>a===t?!e:e))}}),(0,l.jsx)(p.A.Label,{className:"CheckboxesElement-module__checkboxOptionLabel--kENEm",children:(0,l.jsx)(u.JR,{html:e.labelHTML})})]},t)),S&&(0,l.jsx)(m.A.Validation,{variant:"error",children:S})]})});x.displayName="CheckboxesElement",v.displayName="CheckboxesElementInternal";let C={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DropdownElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"options",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple",storageKey:null},{alias:"defaultOptionIndex",args:null,kind:"ScalarField",name:"default",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementDropdown",abstractKey:null};C.hash="c5f5c78821adbd1825aa041b7a1063bf";var j=a(94236),S=a(11196),I=a(5524);let N="DropdownElement-module__dropdownElementButtonText--NRhbg";var F=a(34164);function _({children:e,label:t,required:a,description:n,validationResult:i,className:s}){let o=(0,r.useId)(),d=(0,r.useId)(),c=(0,r.useId)();return(0,l.jsxs)("div",{className:(0,F.$)("ElementWrapper-module__elementWrapperContainer--Zviz8",s),children:[(0,l.jsxs)(p.A,{required:a??!1,children:[(0,l.jsx)(p.A.Label,{id:o,className:(0,F.$)("ElementWrapper-module__elementLabel--qX9VS",n&&"ElementWrapper-module__elementLabelWithDescription--c2FAt"),children:t}),n&&(0,l.jsx)(p.A.Caption,{id:d,className:"ElementWrapper-module__elementDescription--EA7D6",children:(0,l.jsx)(u.vb,{html:n,className:"markdown-body note text-small mb-2"})})]}),e({labelId:o,descriptionIds:`${d} ${c}`}),i&&(0,l.jsx)(p.A.Validation,{id:c,variant:"error",className:"ElementWrapper-module__validationMessage--P3NuI",children:i})]})}try{_.displayName||(_.displayName="ElementWrapper")}catch{}function L({itemId:e,indexOfFormElement:t,defaultValuesById:a,optionChoices:n}){if(!e)return[];let l=new Set(function(e){if(!e.trim())return[];try{let t=`[${e}]`;return JSON.parse(t)}catch{return[]}}((0,f.k)({id:e,indexOfFormElement:t,value:"",defaultValuesById:a})));return n.filter(e=>l.has(e))}let w=(0,r.forwardRef)(({elementRef:e,index:t,sessionStorageKey:a,defaultValuesById:n,onFieldChange:i},s)=>{let r=(0,o.useFragment)(C,e);if(!r.options)return null;let d=b(a,"",r.label,r.__id);return(0,l.jsx)(T,{...r,index:t,ref:s,type:"dropdown",sessionStorageKey:d,defaultValuesById:n,onFieldChange:i})}),T=(0,r.forwardRef)(({itemId:e,index:t,sessionStorageKey:a,label:n,options:i,descriptionHTML:o,required:d,multiple:u,defaultOptionIndex:m,defaultValuesById:p,onFieldChange:g},f)=>{let h=(0,r.useRef)(null),b=(0,r.useRef)(null),k=null!=m,x=(0,r.useMemo)(()=>u||d||k?i:["None",...i],[k,u,i,d]),v=(0,r.useMemo)(()=>{let a=L({itemId:e,indexOfFormElement:t,defaultValuesById:p,optionChoices:x});return 0===a.length&&k&&m>=0&&m<x.length?[x[m]]:(0===a.length&&x.length>0&&!u&&(a=[x[0]]),a)},[m,p,k,t,e,u,x]),[C,F]=(0,s.Fo)(a,v),w=(0,r.useRef)(C);(0,r.useEffect)(()=>{w.current=C},[C]),(0,r.useEffect)(()=>{if(g&&p){let a=L({itemId:e,indexOfFormElement:t,defaultValuesById:p,optionChoices:x});F(a),w.current=a}},[p,t,e,x,F,g]),(0,r.useEffect)(()=>{if(g){let a=w.current,n=L({itemId:e,indexOfFormElement:t,defaultValuesById:p,optionChoices:x}),l=new Set(a),i=new Set(n);l.size===i.size&&[...l].every(e=>i.has(e))||g(e,t,a.map(e=>`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`).join(", "))}},[C,e,t,g,p,x]);let[T,A]=(0,r.useState)(void 0),E=(0,r.useCallback)(e=>()=>{C.includes(e)?u&&F(C.filter(t=>t!==e)):u?F([...C,e]):F([e])},[u,C,F]);(0,r.useImperativeHandle)(f,()=>({focus:()=>h.current?.focus(),markdown:()=>y(n,C.join(", ")),validate:()=>!d||0!==C.length||(A(c.wY.missingDropdownSelection),!1),reset:()=>{F(v),A(void 0)},hasChanges:()=>{if(C.length!==v.length)return!0;for(let e of C)if(!v.includes(e))return!0;return!1},getSessionStorageKey:()=>a}),[v,n,d,C,a,F]),(0,r.useEffect)(()=>{C.length>0&&A(void 0)},[C]);let[K,P]=(0,r.useState)(!1),D=0===C.length?"None":C.join(", ");return(0,r.useEffect)(()=>{b.current&&P(b.current.scrollWidth>b.current.clientWidth)},[b,P]),(0,l.jsx)(_,{label:n,description:o,required:d,validationResult:T,className:"DropdownElement-module__dropdownElementContainer--ME35C",children:({labelId:e,descriptionIds:t})=>(0,l.jsxs)(j.W,{anchorRef:h,children:[K?(0,l.jsx)(S.m,{text:D,children:(0,l.jsx)(j.W.Button,{"aria-labelledby":e,"aria-describedby":t,children:(0,l.jsx)("span",{ref:b,className:N,children:D})})}):(0,l.jsxs)(j.W.Button,{"aria-labelledby":e,"aria-describedby":t,children:[" ",(0,l.jsx)("span",{ref:b,className:N,children:D})]}),(0,l.jsx)(j.W.Overlay,{width:"medium",side:"outside-top",maxHeight:"medium",className:"DropdownElement-module__dropdownMenuOverlay--qDXwf",children:(0,l.jsx)(I.l,{selectionVariant:u?"multiple":"single",children:x.map((e,t)=>(0,l.jsx)(I.l.Item,{selected:C.includes(e),onSelect:E(e),children:e},t))})})]})})});w.displayName="DropdownElement",T.displayName="DropdownElementInternal";let A={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownElement_input",selections:[{alias:null,args:null,kind:"ScalarField",name:"contentHTML",storageKey:null}],type:"IssueFormElementMarkdown",abstractKey:null};A.hash="bcf5223d492443ecf5db4594632948d9";var E=a(26076),K=a(41057);let P=()=>(0,l.jsx)("div",{className:"FormElementLoading-module__loadingSkeletonContainer--QboQa",children:(0,l.jsx)(K.Q,{borderRadius:"pill",height:"lg",width:"400px"})});try{P.displayName||(P.displayName="FormElementLoading")}catch{}let D=({elementRef:e})=>{let t=(0,o.useFragment)(A,e);return(0,l.jsx)(R,{verifiedHTML:t.contentHTML,type:"markdown"})},R=({verifiedHTML:e})=>(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)(P,{}),children:(0,l.jsx)(E.G,{verifiedHTML:e})});try{D.displayName||(D.displayName="MarkdownElement")}catch{}try{R.displayName||(R.displayName="MarkdownElementInternal")}catch{}let M={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextAreaElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementTextarea",abstractKey:null};M.hash="77263c4a3e8e6f76c8ddc25b88931e27";var V=a(42118),O=a(4175);let B=(0,r.forwardRef)(({elementRef:e,index:t,sessionStorageKey:a,...n},i)=>{let s=(0,o.useFragment)(M,e),r=b(a,"",s.label,s.__id);return(0,l.jsx)($,{...s,...n,index:t,ref:i,type:"textarea",sessionStorageKey:r})}),$=(0,r.forwardRef)(({itemId:e,sessionStorageKey:t,index:a,label:n,descriptionHTML:i,placeholder:o,required:d,value:u,render:m,subject:p,defaultValuesById:g,onSave:b,setIsFileUploading:k,onFieldChange:x},v)=>{let C=(0,r.useMemo)(()=>(0,f.k)({id:e,indexOfFormElement:a,value:u,defaultValuesById:g}),[e,a,u,g]),[j,S]=(0,s.Fo)(t,C),[I,N]=(0,r.useState)(!1),F=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(x&&g&&!I){let t=(0,f.k)({id:e,indexOfFormElement:a,value:u,defaultValuesById:g});t!==j&&t!==u&&S(t)}},[g,a,e,x,S,u,I,j]);let L=t=>{N(!0),S(t),x&&x(e,a,t),F.current&&clearTimeout(F.current),F.current=setTimeout(()=>{N(!1),F.current=null},500)},w=(0,r.useRef)(null),[T,A]=(0,r.useState)(void 0);return(0,r.useImperativeHandle)(v,()=>({focus:()=>w.current?.focus(),markdown:()=>y(n,m&&j!==h?`\`\`\`${m}
${j.replace(/(```)(\w+)/g,"").replace(/(```)/g,"").trim()}
\`\`\``:j),validate:()=>{let e=(0,c.sT)(j,d??!1);return A(e.errorMessage),e.isValid},reset:()=>{S(C),A(void 0)},hasChanges:()=>j!==C,getSessionStorageKey:()=>t}),[C,n,m,d,t,S,j]),(0,r.useEffect)(()=>{T&&(0,c.sT)(j,d??!1).isValid&&A(void 0)},[d,j,T]),(0,l.jsx)(_,{label:n,required:d,description:i,validationResult:T,className:"TextAreaElement-module__TextAreaElementContainer--efGjO",children:({labelId:e,descriptionIds:t})=>m?(0,l.jsx)(O.Ay,{"aria-labelledby":e,"aria-describedby":t,ref:w,placeholder:o??void 0,value:j,className:"TextAreaElement-module__codeViewTextArea--uyz8K",onChange:e=>{L(e.target.value)}}):(0,l.jsx)(V.hF,{labelledBy:e,"aria-describedby":t,ref:w,placeholder:o??void 0,value:j,onChange:e=>{L(e)},onSave:b,saveButtonTrailingIcon:!1,subject:p,setIsFileUploading:k})})});B.displayName="TextAreaElement",$.displayName="TextAreaElementInternal";let U={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextInputElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementInput",abstractKey:null};U.hash="20ef068a2834313afaaf43e8b01d0d49";var H=a(99511);let z=(0,r.forwardRef)(({elementRef:e,sessionStorageKey:t,...a},n)=>{let i=(0,o.useFragment)(U,e),s=b(t,"",i.label,i.__id);return(0,l.jsx)(q,{...i,...a,type:"input",sessionStorageKey:s,ref:n})}),q=(0,r.forwardRef)(({sessionStorageKey:e,itemId:t,index:a,label:n,descriptionHTML:i,placeholder:o,required:d,value:u,defaultValuesById:m,onFieldChange:p},g)=>{let h=(0,r.useMemo)(()=>(0,f.k)({id:t,indexOfFormElement:a,value:u,defaultValuesById:m}),[t,a,u,m]),[b,k]=(0,s.Fo)(e,h),[x,v]=(0,r.useState)(!1),C=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(p&&m&&!x){let e=(0,f.k)({id:t,indexOfFormElement:a,value:u,defaultValuesById:m});e!==b&&e!==u&&k(e)}},[m,a,x,t,p,k,u,b]);let j=(0,r.useRef)(null),[S,I]=(0,r.useState)(void 0);return(0,r.useImperativeHandle)(g,()=>({focus:()=>j.current?.focus(),markdown:()=>y(n,b),validate:()=>{let e=(0,c.sT)(b,d??!1);return I(e.errorMessage),e.isValid},reset:()=>{k(h),I(void 0)},hasChanges:()=>b!==h,getSessionStorageKey:()=>e}),[h,n,d,e,k,b]),(0,r.useEffect)(()=>{S&&(0,c.sT)(b,d??!1).isValid&&I(void 0)},[d,b,S]),(0,l.jsx)(_,{label:n,description:i,required:d,validationResult:S,children:({labelId:e,descriptionIds:n})=>(0,l.jsx)(H.A,{ref:j,"aria-labelledby":e,"aria-describedby":n,placeholder:o??void 0,value:b,className:"TextInputElement-module__issueFormTextField--dG9jp",onChange:e=>{var n;n=e.target.value,v(!0),k(n),p&&p(t,a,n),C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{v(!1),C.current=null},500)}})})});z.displayName="TextInputElement",q.displayName="TextInputElementInternal";let G="IssueFormElements-module__formElementsContainer--v0fMt",W=e=>"elements"in e?(0,l.jsx)(Q,{...e}):(0,l.jsx)(X,{...e}),Q=({elements:e,outputRef:t,sessionStorageKey:a,...n})=>{let i=Y(e.length,t);return(0,l.jsx)("div",{className:G,children:e.map((e,t)=>{let s="markdown"===e.type?"":b(a,e.type,e.label,t);switch(e.type){case"markdown":return(0,l.jsx)(R,{...e},t);case"textarea":return(0,l.jsx)($,{index:t,...e,ref:i[t],sessionStorageKey:s,...n},t);case"input":return(0,l.jsx)(q,{index:t,...e,ref:i[t],sessionStorageKey:s,...n},t);case"dropdown":return(0,l.jsx)(T,{index:t,...e,ref:i[t],sessionStorageKey:s},t);case"checkboxes":return(0,l.jsx)(v,{index:t,...e,ref:i[t],sessionStorageKey:s},t)}})})},X=({issueFormRef:e,outputRef:t,...a})=>{let n=(0,o.readInlineData)(i,e),s=Y(n.elements.length,t);return(0,l.jsx)("div",{className:G,children:n.elements.map((e,t)=>{switch(e.__typename){case"IssueFormElementMarkdown":return(0,l.jsx)("div",{className:"IssueFormElements-module__markdownElementWrapper--sr15G",children:(0,l.jsx)(D,{elementRef:e})},t);case"IssueFormElementInput":return(0,l.jsx)(z,{index:t,elementRef:e,ref:s[t],...a},t);case"IssueFormElementDropdown":return(0,l.jsx)(w,{index:t,elementRef:e,ref:s[t],...a},t);case"IssueFormElementTextarea":return(0,l.jsx)(B,{index:t,elementRef:e,ref:s[t],...a},t);case"IssueFormElementCheckboxes":return(0,l.jsx)(x,{index:t,elementRef:e,ref:s[t],...a},t);default:return null}})})},Y=(e,t)=>{let a=(0,r.useMemo)(()=>Array.from({length:e},()=>(0,r.createRef)()),[e]);return(0,r.useImperativeHandle)(t,()=>({markdown:()=>a.map(e=>e.current?.markdown()??"").filter(e=>e.length>0).join(`

`),getInvalidInputs:()=>a.map(e=>e.current).filter(e=>null!==e&&!e.validate()),validateInputs:()=>!a.map(e=>e.current?.validate()??!0).some(e=>!e),resetInputs:()=>{for(let e of a)e.current?.reset();t.current?.clearSessionStorage()},hasChanges:()=>a.some(e=>e.current?.hasChanges()??!1),clearSessionStorage:()=>{let e=a.map(e=>e.current?.getSessionStorageKey()).filter(e=>null!==e);(0,s.D6)(e)}}),[a,t]),a};try{W.displayName||(W.displayName="IssueFormElements")}catch{}try{Q.displayName||(Q.displayName="IssueFormElementsViaPayload")}catch{}try{X.displayName||(X.displayName="IssueFormElementsViaQuery")}catch{}},1117:(e,t,a)=>{a.d(t,{N:()=>et,$:()=>ea});var n=a(74848),l=a(96540),i=a(96760),s=a(78314),r=a(35898),o=a(71315),d=a(38621),c=a(72511),u=a(21373),m=a(67955),p=a(34164),g=a(21935),f=a(83878),h=a(24967),y=a(81945);let b=()=>(0,n.jsx)("div",{className:"d-flex gap-2",children:(0,n.jsx)("div",{className:"flex-1 border overflow-x-auto rounded-2 borderColor-muted color-shadow-small",children:(0,n.jsxs)("div",{className:"d-flex flex-column gap-2 m-3",children:[(0,n.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,n.jsx)(y.O,{variant:"elliptical",height:"xl",width:"xl"}),(0,n.jsx)(y.O,{variant:"rounded",height:"sm",width:"150px"})]}),[void 0,void 0].map((e,t)=>(0,n.jsx)(y.O,{variant:"rounded",height:"sm",width:"random"},t)),(0,n.jsx)(h.e,{})]})})});try{b.displayName||(b.displayName="CommentLoading")}catch{}var k=a(26156),x=a(71073),v=a(23656),C=a(21086),j=a(38829),S=a(26076),I=a(19805),N=a(30617),F=a(49245),_=a(68534),L=a(42118),w=a(81034),T=a(88431);let A=(0,l.forwardRef)(({initialMarkdown:e,onCancel:t,onSave:a,referenceId:i,buttonText:s,commentContent:r},o)=>{let[d,c]=(0,l.useState)(!1),u=(0,l.useRef)(null),m=(0,l.useRef)(void 0),{commentBoxSubject:p}=(0,N.X)(),g=(0,l.useCallback)(()=>{},[]),{markdownBody:f,resetMarkdownBody:h,markdownValidationResult:y,handleMarkdownBodyChanged:b}=(0,w.x)({commentBoxRef:u,markdownComposerRef:o,onChange:g,onCancel:()=>{},referenceId:i});(0,l.useEffect)(()=>{e&&!f&&b(e)},[e]),(0,l.useEffect)(()=>{if(r&&m.current!==r){b(r),m.current=r;let e=window.setTimeout(()=>{u.current&&(u.current?.scrollIntoView(),u.current?.focus())},0);return()=>{window.clearTimeout(e)}}},[r]),(0,T.N)(()=>{if(u&&u.current){let e=window.setTimeout(()=>{u.current?.focus()},0);return()=>{window.clearTimeout(e)}}},[u]);let k=async()=>{c(!0),await a(f,h),c(!1)};return(0,n.jsx)(L.hF,{ref:u,validationResult:y,disabled:d,onChange:e=>{b(e)},onCancel:()=>{b(""),t?.()},onSave:k,saveButtonText:s,saveButtonTrailingIcon:!1,value:f,teamHovercardsEnabled:!0,fileUploadsEnabled:!0,subject:p})});function E({comment:e,commitOid:t,onCancel:a,onUpdate:i}){let{editComment:s}=(0,N.X)(),r=(0,l.useRef)(null),o=async t=>{let a=await s(t,e);a.updatedFields&&i({...e,...a.updatedFields})};return(0,n.jsx)(A,{commitOid:t,initialMarkdown:e.body,ref:r,onSave:o,onCancel:a,referenceId:`${t}-${e.id}`,buttonText:"Update comment"})}A.displayName="CommitCommentEditor";try{E.displayName||(E.displayName="UpdateCommitComment")}catch{}function K({comments:e,commit:t,locked:a,deleteComment:l,updateComment:i,setNewCommentContent:s,repoOwnerGlobalRelayId:r}){return 0===e.length?null:(0,n.jsx)("div",{className:"d-flex flex-column gap-3",children:e.map(e=>(0,n.jsx)(P,{comment:e,commit:t,locked:a,deleteComment:l,updateComment:i,setNewCommentContent:s,repoOwnerGlobalRelayId:r},e.id))})}function P({comment:e,commit:t,locked:a,deleteComment:i,updateComment:r,setNewCommentContent:o,repoOwnerGlobalRelayId:d}){let c=(0,s.t)(),[u,m]=(0,l.useState)(!1),[p,g]=(0,l.useState)(e.isHidden),f=(0,l.useRef)(null),{deleteComment:y,hideComment:b,unhideComment:k}=(0,N.X)(),x=async()=>{let t=await y(e.id.toString());"canceled"===t||"error"!==t&&"success"===t&&i(e.id)},v=async t=>{let a=await b(e.id.toString(),t);"error"!==a&&"success"===a&&(r({...e,isHidden:!0,minimizedReason:t}),g(!0))},C=async()=>{let t=await k(e.id.toString());"error"!==t&&"success"===t&&(r({...e,isHidden:!1,minimizedReason:null}),g(!1))},j=t.authors.length>0?t.authors[0]?.login:"",L={...(0,F.p)(e,t,c,d),referenceText:(0,_.F)(t.oid)};return(0,n.jsxs)("div",{className:"border rounded-2",ref:f,id:e.urlFragment,tabIndex:-1,children:[(0,n.jsx)(D,{comment:L,commentAuthorLogin:e.author.login,commentSubjectAuthorLogin:j,commentSubjectType:"commit",avatarUrl:e.author.avatarUrl,isMinimized:p,editComment:()=>{m(!0)},onReplySelect:o,onMinimize:g,navigate:()=>{},hideComment:v,unhideComment:C,deleteComment:x,commentRef:f,showEditHistory:e.viewerCanReadUserContentEdits&&!!e.lastUserContentEdit,commitComment:e}),p?null:u?(0,n.jsx)("div",{className:"m-2",children:(0,n.jsx)(E,{comment:e,commitOid:t.oid,onUpdate:e=>{r(e),m(!1)},onCancel:()=>m(!1)})}):(0,n.jsxs)("div",{className:"d-flex flex-column m-3 gap-3",style:{gap:"12px"},children:[(0,n.jsx)("div",{className:"markdown-body","data-turbolinks":"false",children:(0,n.jsx)(S.G,{disabled:!1,verifiedHTML:e.htmlBody,markdownValue:e.body,onChange:()=>{},onLinkClick:()=>{},teamHovercardsEnabled:!0})}),(0,n.jsx)(l.Suspense,{fallback:(0,n.jsx)(h.e,{}),children:(0,n.jsx)(I.ReactionViewerRelayQueryComponent,{id:e.relayId,subjectLocked:a})})]})]})}function D({hideActions:e,...t}){let a,i,s=t.commitComment;return t.showEditHistory&&(a=(0,n.jsx)(l.Suspense,{fallback:null,children:(0,n.jsx)(R,{id:s.relayId})}),i=(0,n.jsx)(M,{id:t.comment.id})),(0,n.jsx)(k.v,{lastEditedByMessage:i,editHistoryComponent:a,forceInlineAvatar:!0,...t,actions:e?void 0:(0,n.jsx)(x.p,{onSuccessfulBlock:()=>{setTimeout(()=>o.cg?.location.reload(),800)},...t})})}function R({id:e}){let t=(0,j.f)({id:e});return t?(0,n.jsx)(v.W,{editHistory:t}):null}function M({id:e}){let t=(0,j.f)({id:e});return t?(0,n.jsx)(C._,{editInformation:t}):null}try{K.displayName||(K.displayName="ExistingCommitComments")}catch{}try{P.displayName||(P.displayName="ExistingCommitComment")}catch{}try{D.displayName||(D.displayName="CommitCommentHeader")}catch{}try{R.displayName||(R.displayName="CommitCommentHeaderEditHistory")}catch{}try{M.displayName||(M.displayName="CommitCommentHeaderLastEditedBy")}catch{}var V=a(25407),O=a(79634),B=a(96379),$=a(15220);function U({commitOid:e,locked:t,onClose:a}){let i=(0,s.t)(),{helpUrl:r}=(0,O.X)(),[o,d]=(0,l.useState)(!1),u=t?"Unlock":"Lock",m=async()=>{(await (0,B.DI)(`${(0,V.$Qz)({owner:i.ownerLogin,repo:i.name,commitish:e})}/lock`,{method:"PUT",headers:{Accept:"application/json"}})).ok?a(!0):d(!0)},p=async()=>{(await (0,B.lS)(`${(0,V.$Qz)({owner:i.ownerLogin,repo:i.name,commitish:e})}/unlock`,{method:"PUT",headers:{Accept:"application/json"}})).ok?a(!1):d(!0)};return(0,n.jsxs)($.l,{onClose:()=>a(),width:"large",title:`${u} conversation on this commit`,footerButtons:[{content:`${u} conversation`,buttonType:"danger",style:{width:"100%"},onClick:t?p:m}],children:[o&&(0,n.jsxs)(c.A,{className:"mb-2",variant:"danger",children:["There was an error ",u.toLocaleLowerCase(),"ing this conversation. Please try again."]}),(0,n.jsxs)("p",{children:[u,"ing the conversation means:"]}),(0,n.jsx)("ul",{className:"ml-4",children:t?(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Everyone"})," will be able to comment on this commit once more."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("li",{children:["Other users ",(0,n.jsx)("strong",{children:"can\u2019t add new comments"})," to this commit."]}),i.isOrgOwned?(0,n.jsxs)("li",{children:["You and other members of teams with"," ",(0,n.jsx)("a",{href:`${r}/get-started/learning-about-github/access-permissions-on-github`,children:"write access"})," ","to this repository ",(0,n.jsx)("strong",{children:"can still leave comments"})," that others can see."]}):(0,n.jsxs)("li",{children:["You and other collaborators"," ",(0,n.jsx)("a",{href:`${r}/get-started/learning-about-github/access-permissions-on-github`,children:"with access"})," to this repository ",(0,n.jsx)("strong",{children:"can still leave comments"})," that others can see."]})]})}),(0,n.jsxs)("p",{className:"mb-0 mt-2",children:["You can always ",t?"lock":"unlock"," this commit again in the future."]})]})}try{U.displayName||(U.displayName="LockConversationDialog")}catch{}var H=a(21067),z=a(60912),q=a(61423),G=a(11738),W=a(81156),Q=a(77430);function X({commitOid:e,onAddComment:t,onExpandCommentEditor:a,newCommentContent:i,canComment:s,locked:r,repoArchived:c,avatarURL:u}){let m=(0,H.M3)(),{addComment:p}=(0,N.X)(),g=(0,l.useRef)(null),f=async(e,a)=>{let n=await p(e);n.comment&&(t(n.comment),a())},h=(0,q.i)(c,r,m?void 0:(0,n.jsx)(J,{redirectUrl:o.fV?.href}),"commit");return(0,n.jsx)("div",{className:"d-flex flex-column gap-2 pt-3",children:s?(0,n.jsx)(Y,{commitOid:e,commentEditor:g,onExpandEditor:a,onSave:f,newCommentContent:i,avatarURL:u||W.t.ghostUser.avatarUrl}):(0,n.jsx)(z.P,{icon:d.LockIcon,reason:h})})}function Y(e){let[t,a]=(0,l.useState)(()=>void 0!==e.newCommentContent),[s,r]=(0,l.useState)(e.newCommentContent);t||void 0===e.newCommentContent||s===e.newCommentContent||(a(!0),r(e.newCommentContent));let o="Comment";return t?(0,n.jsx)("div",{id:i.Bq.issueCommentComposer,children:(0,n.jsx)(A,{commitOid:e.commitOid,ref:e.commentEditor,onSave:e.onSave,referenceId:`new-discussion-comment-${e.commitOid}`,commentContent:e.newCommentContent,initialMarkdown:e.newCommentContent,buttonText:o,onCancel:()=>{a(!1)}})}):(0,n.jsxs)("div",{id:i.Bq.issueCommentComposer,className:"d-flex flex-items-center border rounded-2 p-2 gap-2 color-bg-subtle",children:[(0,n.jsx)(Q.r,{src:e.avatarURL,size:20}),(0,n.jsx)(G.z,{onClick:()=>{a(!0),e.onExpandEditor?.()},children:o})]})}function J({redirectUrl:e}){return(0,n.jsxs)("span",{children:["Please ",(0,n.jsx)("a",{href:e?`/login?return_to=${e}`:"/login",children:"sign in"})," to comment."]})}try{X.displayName||(X.displayName="NewCommitComment")}catch{}try{Y.displayName||(Y.displayName="CompactEditor")}catch{}try{J.displayName||(J.displayName="LoggedOutMessage")}catch{}var Z=a(10925);let ee=(0,l.forwardRef)(({commitOid:e,subscribed:t},a)=>{let i,[r,o]=(0,l.useState)(t),[c,m]=(0,l.useState)(!1),p=(0,s.t)(),g=(0,Z.H)("/notifications/thread","post");i=c?`You're now ${r?"subscribed":"unsubscribed"} to this thread.`:r?"You're receiving notifications because you're subscribed to this thread.":"You're not receiving notifications from this thread.";let f=async()=>{let t=new FormData;t.append("repository_id",p.id.toString()),t.append("thread_id",e),t.append("thread_class","Commit"),t.append("id",r?"unsubscribe":"subscribe"),t.append("authenticity_token",g??""),(await (0,B.DI)("/notifications/thread",{method:"POST",body:t})).ok&&(o(!r),m(!0))};return(0,n.jsxs)("div",{className:"d-flex flex-items-center border rounded-2 p-2 gap-2",ref:a,children:[(0,n.jsx)(u.Q,{onClick:f,size:"small",leadingVisual:r?d.BellSlashIcon:d.BellIcon,children:r?"Unsubscribe":"Subscribe"}),(0,n.jsx)("p",{role:"status",className:"f6 fgColor-muted mb-0",children:i})]})});ee.displayName="NotificationsFooter";let et="comments";function ea(e){return(0,n.jsx)("div",{className:(0,p.$)("d-flex flex-column gap-2 pt-3",i.mU.commentsContainer,"Comment-module__commit-discussion-comments--GlkCu"),id:et,children:(0,l.createElement)(en,{...e,key:e.commit.oid})})}function en({commit:e,commentInfo:t,repoOwnerGlobalRelayId:a}){let i=(0,s.t)(),d=(0,r.i)(),{retry:m,loadMore:p,canLoadMore:h,addComment:y,deleteComment:k,updateComment:x,count:v,comments:C,subscribed:j,providerState:S}=(0,g.y)(),[I,N]=(0,l.useState)(void 0),[F,_]=(0,l.useState)(t.locked),L=(0,l.useMemo)(()=>(0,f.N)(e.oid,i.id),[e.oid,i.id]),w=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(o.cg?.location.hash){let e=o.cg.location.hash.slice(1);if(C.find(t=>t.urlFragment===e)){let t=document.getElementById(e);t&&(t.scrollIntoView(),t.focus())}}},[C]);let T=(0,l.useCallback)(()=>{setTimeout(()=>w.current?.scrollIntoView({behavior:"smooth",block:"nearest"}),0)},[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(el,{commitOid:e.oid,commentCount:v,canLock:t.canLock,locked:F,setLocked:_}),"loading"===S&&(0,n.jsx)(b,{}),"error"===S&&(0,n.jsxs)(c.A,{className:"d-flex flex-justify-between flex-items-center",variant:"danger",children:[(0,n.jsx)("span",{children:"Failed to load comments."}),(0,n.jsx)(u.Q,{onClick:()=>m(),children:"Retry"})]}),"loaded"===S&&h&&(0,n.jsx)(u.Q,{className:"width-full",onClick:()=>p(),children:"Load more comments"}),(0,n.jsx)(K,{comments:C,commit:e,locked:F,repoOwnerGlobalRelayId:a,deleteComment:k,updateComment:x,setNewCommentContent:N}),L?(0,n.jsx)("div",{className:"text-center",children:[...Array(38)].map((e,t)=>(0,n.jsx)("img",{alt:"rose",src:"/images/icons/emoji/rose.png",className:"Comment-module__discussion-comments-rose--JwtpK"},`rose-${t}`))}):null,"loaded"===S||0!==C.length?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(X,{commitOid:e.oid,onAddComment:y,onExpandCommentEditor:T,newCommentContent:I,canComment:t.canComment,locked:F,repoArchived:t.repoArchived,avatarURL:d?.avatarURL}),d?(0,n.jsx)(ee,{ref:w,commitOid:e.oid,subscribed:j??!1}):null]}):null]})}function el({commitOid:e,commentCount:t,locked:a,setLocked:i,canLock:s}){let[r,o]=(0,l.useState)(!1);return(0,n.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between",children:[(0,n.jsxs)("h2",{className:"sr-only",children:[t," commit comments"]}),(0,n.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,n.jsx)("div",{className:"h4 pr-2",children:"Comments"}),void 0!==t&&(0,n.jsx)(m.A,{children:t})]}),s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.Q,{leadingVisual:a?d.KeyIcon:d.LockIcon,variant:"invisible",onClick:()=>o(!0),children:[a?"Unlock":"Lock"," conversation"]}),r&&(0,n.jsx)(U,{commitOid:e,locked:a,onClose:e=>{o(!1),void 0!==e&&i(e)}})]})]})}try{ea.displayName||(ea.displayName="DiscussionComments")}catch{}try{en.displayName||(en.displayName="DiscussionCommentsInternal")}catch{}try{el.displayName||(el.displayName="DiscussionCommentsHeader")}catch{}},1667:(e,t,a)=>{a.d(t,{j:()=>b});let n=(l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],i=[{kind:"Variable",name:"input",variableName:"input"}],r=[{kind:"Literal",name:"first",value:20}],g=[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},m={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},p={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],f=[{kind:"Literal",name:"first",value:10}],h={kind:"InlineFragment",selections:[s],type:"Node",abstractKey:"__isNode"},{fragment:{argumentDefinitions:l,kind:"Fragment",metadata:null,name:"replaceActorsForAssignableRelayMutation",selections:[{alias:null,args:i,concreteType:"ReplaceActorsForAssignablePayload",kind:"LinkedField",name:"replaceActorsForAssignable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assignable",plural:!1,selections:[{kind:"InlineFragment",selections:[s,{alias:null,args:r,concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:g,storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:f,concreteType:"UserConnection",kind:"LinkedField",name:"participants",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:g,storageKey:null}],storageKey:"participants(first:10)"}],type:"Issue",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"replaceActorsForAssignableRelayMutation",selections:[{alias:null,args:i,concreteType:"ReplaceActorsForAssignablePayload",kind:"LinkedField",name:"replaceActorsForAssignable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assignable",plural:!1,selections:[o,{kind:"InlineFragment",selections:[s,{alias:null,args:r,concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"InlineFragment",selections:[s,d,c,u,m,p],type:"Actor",abstractKey:"__isActor"},h],storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:f,concreteType:"UserConnection",kind:"LinkedField",name:"participants",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[s,{kind:"InlineFragment",selections:[o,d,c,u,m,p],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:"participants(first:10)"}],type:"Issue",abstractKey:null},h],storageKey:null}],storageKey:null}]},params:{id:"8370e947043263ceb6b89e9417721ee9",metadata:{},name:"replaceActorsForAssignableRelayMutation",operationKind:"mutation",text:null}});n.hash="9d05e2b8ef58fbf0c91907d9d7781ebb";var l,i,s,r,o,d,c,u,m,p,g,f,h,y=a(18312);function b({environment:e,input:{issueId:t,assignedActors:a,participants:l},clientMutationId:i,onError:s,onCompleted:r}){let o=[...new Map([...a,...l].filter(e=>!e.isCopilot).map(e=>[e.login,e])).values()].slice(0,5);return(0,y.commitMutation)(e,{mutation:n,variables:{input:{assignableId:t,actorIds:a.map(e=>e.id),clientMutationId:i}},optimisticResponse:{replaceActorsForAssignable:{assignable:{__typename:"Issue",__isNode:"Issue",id:t,assignedActors:{nodes:a.map(e=>"Bot"===e.__typename?{__typename:"Bot",__isActor:"Bot",__isNode:"Bot",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath,isCopilot:e.isCopilot||!1}:{__typename:"User",__isActor:"User",__isNode:"User",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath})},participants:{nodes:o.map(e=>"Bot"===e.__typename?{__typename:"Bot",__isActor:"Bot",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath,isCopilot:e.isCopilot||!1}:{__typename:"User",__isActor:"User",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath})}}}},onError:e=>s&&s(e),onCompleted:e=>r&&r(e)})}},2495:(e,t,a)=>{a.d(t,{h:()=>i});var n=a(74848),l=a(21798);function i({title:e,headingProps:{...t}={},...a}){return(0,n.jsx)(l.X,{title:e,headingProps:t,...a,readonly:!0})}try{i.displayName||(i.displayName="ReadonlySectionHeader")}catch{}},2892:(e,t,a)=>{a.d(t,{a:()=>v});var n=a(74848),l=a(35811),i=a(26108),s=a(38621),r=a(47990),o=a(96540),d=a(38267);let c="16px",u="20px",m="24px",p="32px",g="medium",f=({as:e="span",onClick:t,onFocus:a,tabIndex:n=-1,interactive:l})=>l??!!(a||t||n>-1||["a","button"].includes(e)),h={fontSize:1,height:p,lineHeight:p,px:3,py:0},y={small:{fontSize:0,height:c,lineHeight:c,px:1,py:0},medium:{fontSize:0,height:u,lineHeight:u,px:2,py:0},large:{fontSize:0,height:m,lineHeight:m,px:2,py:0},extralarge:h,xlarge:h},b=d.Ay.span.withConfig({displayName:"TokenBase__StyledTokenBase",componentId:"sc-34ef4fe6-0"})(["align-items:center;border-radius:999px;cursor:",";display:inline-flex;font-weight:",";font-family:inherit;text-decoration:none;max-width:100%;position:relative;white-space:nowrap;",""],e=>f(e)?"pointer":"auto",(0,l.yB)("fontWeights.bold"),l.sx),k=o.forwardRef(function({text:e,onRemove:t,id:a,as:l="span",sx:i,size:s=g,...r},o){return(0,n.jsx)(b,{"aria-label":t?`${e}, press backspace or delete to remove`:void 0,id:a?.toString(),as:l,sx:{...y[s],...i},...r,ref:o})});try{k.displayName||(k.displayName="TokenBase")}catch{}let x=(0,d.Ay)("span").withConfig({displayName:"TokenTextContainer",componentId:"sc-690ded13-0"})(["flex-grow:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;background:transparent;border:0;font:inherit;margin:0;padding:0;width:auto;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;color:currentColor;text-decoration:none;&:is(a,button,[tabIndex='0']){cursor:pointer;&::after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;}}"]);try{x.displayName||(x.displayName="TokenTextContainer")}catch{}let v=(0,o.forwardRef)(({as:e,fontWeight:t,fillColor:a="#999",onRemove:d,id:c,isSelected:u,text:m,size:p=g,hideRemoveButton:h,href:y,onDelete:b,...v},C)=>{let{colorScheme:j}=(0,l.DP)(),S=(0,o.useMemo)(()=>j?.includes("high_contrast"),[j]),I=(0,o.useMemo)(()=>({"--lightness-threshold":"0.453","--border-threshold":"0.96","--background-alpha":"0.20","--border-alpha":"max(0, min(calc((var(--perceived-lightness) - var(--border-threshold)) * 100), 1))",background:"rgb(var(--label-r), var(--label-g), var(--label-b))",color:"hsl(0deg, 0%, calc(var(--lightness-switch) * 100%))",borderWidth:1,borderStyle:"solid",borderColor:"hsla(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) - 25) * 1%), var(--border-alpha))"}),[]),N=(0,o.useMemo)(()=>({"--lightness-threshold":"0.6","--background-alpha":"0.18","--border-alpha":S?"0.9":"0.3","--lighten-by":"calc(((var(--lightness-threshold) - var(--perceived-lightness)) * 100) * var(--lightness-switch))",borderWidth:1,borderStyle:"solid",background:"rgba(var(--label-r), var(--label-g), var(--label-b), var(--background-alpha))",color:"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%))",borderColor:"hsla(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%), var(--border-alpha))"}),[S]),F={as:e,href:y},_=f(v)&&!!d&&!h,L=(0,o.useMemo)(()=>{let[e,n,l]=(0,r.Du)(a),[i,s,o]=(0,r.BT)(a);return{"--label-r":String(e),"--label-g":String(n),"--label-b":String(l),"--label-h":String(Math.round(i)),"--label-s":String(Math.round(100*s)),"--label-l":String(Math.round(100*o)),"--perceived-lightness":"calc(((var(--label-r) * 0.2126) + (var(--label-g) * 0.7152) + (var(--label-b) * 0.0722)) / 255)","--lightness-switch":"max(0, min(calc((var(--perceived-lightness) - var(--lightness-threshold)) * -1000), 1))","--border-color":"var(--borderColor-muted, var(--color-border-subtle))",paddingRight:h||!d?void 0:0,position:"relative",minWidth:0,overflow:"hidden",...j?.includes("light")?I:N,...t?{fontWeight:t}:{},...u?{background:"light"===j?"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) - 5) * 1%))":N.background,":focus":{outline:"none"},":after":{content:'""',position:"absolute",zIndex:1,top:"-2px",right:"-2px",bottom:"-2px",left:"-2px",display:"block",pointerEvents:"none",boxShadow:`0 0 0 2px ${"light"===j?"rgb(var(--label-r), var(--label-g), var(--label-b))":"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%))"}`,borderRadius:"999px"}}:{}}},[a,h,d,t,j,I,N,u]);return(0,n.jsxs)(k,{onRemove:d,id:c?.toString(),isSelected:u,text:m,size:p,sx:L,...!_?F:{},...v,ref:C,className:b?"LabelToken-module__labelTokenBase--v0rBi":void 0,children:[(0,n.jsx)(x,{..._?F:{},children:m}),b&&(0,n.jsx)(i.K,{onClick:e=>{e.stopPropagation(),e.preventDefault(),b()},variant:"invisible",icon:s.XIcon,size:"small","aria-label":"Remove label",className:"LabelToken-module__labelTokenDeleteButton--VLMDp"})]})});v.displayName="IssueLabelToken"},3047:(e,t,a)=>{a.d(t,{IE:()=>d,Y0:()=>o,kO:()=>s,nB:()=>u,uV:()=>r,vl:()=>c,zo:()=>i});var n=a(98646),l=a(8816);function i(e,t){if(e?.field?.id!==t?.field?.id||!e?.field||!t?.field)return!1;let a=e.field;return"TEXT"===a.dataType||"DATE"===a.dataType?e?.value===t?.value:"NUMBER"===a.dataType?e?.numberValue===t?.numberValue:"SINGLE_SELECT"!==a.dataType||e?.name===t?.name}function s(e,t){let a=t.filter(t=>!e.some(e=>e?.field?.id===t?.field?.id));return{addedFields:a,updatedFields:t.filter(t=>e.some(e=>e?.field?.id===t?.field?.id&&!i(e,t))),removedFields:e.filter(e=>!t.some(t=>t?.field?.id===e?.field?.id))}}function r(e){return e&&e.field?o(e.field,null):e}function o(e,t){let a=(0,n.YQ)(e);switch(a.dataType){case"text":return{field:{...a,dataType:"TEXT"},value:t||""};case"single_select":return{field:{...a,dataType:"SINGLE_SELECT"},value:t};case"date":return{field:{...a,dataType:"DATE"},value:t};case"number":return{field:{...a,dataType:"NUMBER"},value:t}}}function d(e,t,a){let l=(0,n.YQ)(e);switch(l.dataType){case"text":return{field:{...l,dataType:"TEXT"},value:t,readonly:a};case"single_select":return{field:{...l,dataType:"SINGLE_SELECT"},value:t,readonly:a};case"date":return{field:{...l,dataType:"DATE"},value:t,readonly:a};case"number":{if(null===t||""===t)return{field:{...l,dataType:"NUMBER"},value:null,readonly:a};let e=Number(t);return{field:{...l,dataType:"NUMBER"},value:isNaN(e)?0:e,readonly:a}}}}function c(e,t){switch(e){case"text":return t;case"single_select":return t&&t.id?String(t.id):void 0;case"date":var a;return((a=t)?new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0,0)).toISOString():null)||void 0;case"number":return t?.toString()}}function u(e,t){return"single_select"===e?t&&t.name?String(t.name):void 0:"date"===e?t?(0,l.b)(t):void 0:c(e,t)}},3536:(e,t,a)=>{a.d(t,{I:()=>r,d_:()=>o,wu:()=>s});var n=a(96379),l=a(96540),i=a(4095);function s(e,t){let[a,s]=(0,l.useState)(i.UI);return(0,l.useEffect)(()=>{if(!e)return;let t=!1;return(async()=>{s(i.UI);let a=await (0,n.Sr)(e);if(!t)try{if(a.ok){let e=await a.json();e.loading=!1,e&&s(e)}else s(i.Xx)}catch{s(i.Xx)}})(),function(){t=!0}},[e,t]),a}function r(e){let[t,a]=(0,l.useState)(void 0);return(0,l.useEffect)(()=>{e&&(async()=>{let t=await (0,n.Sr)(e);try{if(t.ok){let e=await t.json();e&&a(e.data)}}catch{}})()},[e]),t}function o(e,t,a,s){let[r,o]=(0,l.useState)(i.UI),d=(0,l.useRef)([...Array(a)]),c=(0,l.useRef)(t);return(0,l.useEffect)(()=>{if(!e)return;let a=!1;async function l(t){let i=await (0,n.Sr)(`${e}?start_entry=${t}`);if(!a)try{if(i.ok){let e=await i.json();if(e){let t=0;for(let a=c.current;a<e.nextIndex;a++)d.current[a]=e.deferredCommits[t],t++;e.deferredCommits=d.current,e.loadMore&&c.current!==e.nextIndex?(c.current=e.nextIndex,e.error=!1,o(e),setTimeout(()=>l(e.nextIndex),0)):(c.current===e.nextIndex?e.error=!0:e.error=!1,o(e))}}else o(e=>({...e,loading:!1,error:!0,extraDiffEntries:d.current}))}catch{o(e=>({...e,loading:!1,deferredCommits:d.current}))}}return l(t),function(){a=!0}},[e,s,t]),(0,l.useEffect)(()=>{d.current=[],c.current=t},[e,s,t]),r}},3872:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(82075),l=a(40104),i=a(59394),s=a(96540),r=a(98338),o=a(79403);let d=({storageKeyPrefix:e,issueFormRef:t,onCancel:a})=>{let d=(0,i.S)(),c=(0,n.A)("sessionStorage"),u=(0,s.useMemo)(()=>JSON.stringify(""),[]),m=(0,s.useCallback)(async()=>await d({title:r.k.discardConfirmation.title,content:r.k.discardConfirmation.content,confirmButtonContent:r.k.discardConfirmation.confirm,confirmButtonType:"danger",cancelButtonContent:r.k.discardConfirmation.cancel}),[d]);return{onSafeClose:(0,s.useCallback)(async()=>{(!((0,o.m5)(e).some(e=>null!==c.getItem(e)&&c.getItem(e)!==u)||t?.current?.hasChanges())||await m())&&((0,l.D6)((0,o.wK)(e)),t?.current?.clearSessionStorage(),a())},[e,m,c,u,t,a])}}},4095:(e,t,a)=>{a.d(t,{M2:()=>o,NO:()=>d,UI:()=>i,Xx:()=>s,ej:()=>u,xs:()=>c});var n=a(74848),l=a(96540);let i={deferredCommits:[],renameHistory:null,loading:!0},s={deferredCommits:[],renameHistory:null,loading:!1},r=(0,l.createContext)(i);function o({children:e,deferredData:t}){return(0,n.jsx)(r.Provider,{value:t,children:e})}function d(e){let t=(0,l.useContext)(r),a=t.error,n=t.deferredCommits?.find(t=>t?.oid===e);return a&&void 0===n&&(n={oid:e,statusCheckStatus:void 0}),n}function c(){return(0,l.useContext)(r).loading}function u(){return(0,l.useContext)(r).renameHistory}try{r.displayName||(r.displayName="DeferredCommitDataContext")}catch{}try{o.displayName||(o.displayName="DeferredCommitDataProvider")}catch{}},4551:(e,t,a)=>{a.d(t,{n:()=>i,w:()=>s});var n=a(74848),l=a(5524);let i={SPAM:"Spam",ABUSE:"Abuse",OFF_TOPIC:"Off-topic",OUTDATED:"Outdated",DUPLICATE:"Duplicate",RESOLVED:"Resolved"},s=({setMenuOpen:e,onSelect:t})=>(0,n.jsx)(n.Fragment,{children:Object.keys(i).map(a=>(0,n.jsx)(l.l.Item,{"aria-label":`Hide comment as ${i[a]}`,onSelect:()=>{t(a),e?.(!1)},children:i[a]},a))});try{s.displayName||(s.displayName="HideCommentActionItems")}catch{}},4559:(e,t,a)=>{a.d(t,{C:()=>s,i:()=>r});var n=a(71315),l=a(69599),i=a(46493);function s(e,t){(0,l.G7)("arianotify_comprehensive_migration")?r(o(e),{...t,element:t?.element??e}):(0,l.G7)("primer_live_region_element")&&t?.element===void 0?(0,i.Cj)(e,{politeness:t?.assertive?"assertive":"polite"}):r(o(e),t)}function r(e,t){var a,s;let r,{assertive:o,element:d}=t??{};(0,l.G7)("arianotify_comprehensive_migration")&&"ariaNotify"in Element.prototype&&d?d.ariaNotify(e):(0,l.G7)("arianotify_comprehensive_migration")&&"ariaNotify"in Document.prototype?document.ariaNotify(e):(0,l.G7)("primer_live_region_element")&&void 0===d?(0,i.iP)(e,{politeness:o?"assertive":"polite"}):(a=e,s=o,(r=d??n.XC?.querySelector(s?"#js-global-screen-reader-notice-assertive":"#js-global-screen-reader-notice"))&&(r.textContent===a?r.textContent=`${a}\u00A0`:r.textContent=a))}function o(e){return(e.getAttribute("aria-label")||e.innerText||"").trim()}},4788:(e,t,a)=>{a.d(t,{N:()=>DebouncedWorkerManager});var n=a(35750),l=a(18150),i=a(85242),s=a(88243),r=a(16213),o=a(50467),d=new WeakMap,c=new WeakMap,u=new WeakMap,m=new WeakMap,p=new WeakMap,g=new WeakMap,f=new WeakSet;let DebouncedWorkerManager=class DebouncedWorkerManager{post(e){if((0,n._)(this,g)&&(0,n._)(this,g).call(this,e))return(0,n._)(this,u)&&clearTimeout((0,n._)(this,u)),(0,s._)(this,f,h).call(this,e);this.idle()?((0,n._)(this,u)&&clearTimeout((0,n._)(this,u)),(0,i._)(this,u,setTimeout(()=>{(0,s._)(this,f,h).call(this,e)},(0,n._)(this,p)))):(0,i._)(this,c,e)}idle(){return!(0,n._)(this,d)}terminate(){(0,n._)(this,m).terminate()}constructor(e,t=200,a){(0,r._)(this,f),(0,l._)(this,d,{writable:!0,value:void 0}),(0,l._)(this,c,{writable:!0,value:void 0}),(0,o._)(this,"onResponse",void 0),(0,l._)(this,u,{writable:!0,value:void 0}),(0,l._)(this,m,{writable:!0,value:void 0}),(0,l._)(this,p,{writable:!0,value:void 0}),(0,l._)(this,g,{writable:!0,value:void 0}),(0,i._)(this,m,e),(0,i._)(this,p,t),(0,i._)(this,g,a),(0,n._)(this,m).onmessage=({data:e})=>{this.onResponse&&this.onResponse(e),(0,n._)(this,c)?((0,s._)(this,f,h).call(this,(0,n._)(this,c)),(0,i._)(this,c,void 0)):(0,i._)(this,d,void 0)}}};function h(e){(0,i._)(this,d,e),(0,n._)(this,m).postMessage(e)}},4889:(e,t,a)=>{a.d(t,{e:()=>b,l:()=>k});var n=a(74848),l=a(83494),i=a(31604),s=a(86877),r=a(99511),o=a(21373),d=a(96540),c=a(16810),u=a(21798),m=a(41848);let p="IssueFieldTextToken-module__actionButton--YsG8y";var g=a(84268),f=a(8645);let h=/^([(['"]{0,3})(.{1,1000}?)([.,:;!?\])"']{0,10})$/;try{h.displayName||(h.displayName="PUNCTUATION_REGEX")}catch{}let y=e=>(e=>{let{length:t}=e;return t>255?m.k.textValidationMaxLength(t,255):null})(e),b=({initialValue:e,validate:t=y,className:a,errorPresent:l=!1,readonly:i,...s})=>{let r=(0,n.jsx)(k,{initialValue:e,validate:t,renderAnchor:(e,t,a)=>(0,n.jsx)(u.X,{ref:t,title:a,readonly:i,buttonProps:e,errorPresent:l}),...s});return(0,n.jsx)(c.w,{sectionHeader:r,className:a,children:e?(0,n.jsx)("span",{className:"IssueFieldTextToken-module__issuesFieldText--WUTvu",children:function(e){if(!e)return null;let t=e.split(/(\s+)/);return(0,n.jsx)(n.Fragment,{children:t.map((e,t)=>{let a=`${e}-${t}`;if(!e.trim())return(0,n.jsx)(d.Fragment,{children:e},a);let{cleanText:l,prefix:i,suffix:s}=function(e){let t=e.match(h);if(!t)return{cleanText:e,prefix:"",suffix:""};let[a,n="",l="",i=""]=t;return{cleanText:l,prefix:n,suffix:i}}(e);if(!l)return(0,n.jsx)(d.Fragment,{children:e},a);let r=(0,f.o2)(l),o=(0,f.ml)(r);return(0,f.Y9)(o)&&(0,f.cE)(o)?(0,n.jsxs)(d.Fragment,{children:[i,(0,n.jsx)(g.A,{href:o,rel:"noopener noreferrer",children:r}),s]},a):(0,n.jsx)(d.Fragment,{children:e},a)})})}(e)}):(0,n.jsx)("span",{className:"IssueFieldTextToken-module__noValueContainer--GU_ur",children:m.k.setValue})})},k=({fieldId:e,fieldName:t,initialValue:a,onCommit:c,shouldOpen:u=!1,validate:g=y,inputProps:f,isDraft:h=!1,isNumber:b=!1,renderAnchor:k,overrideWidth:x,onClose:v})=>{let[C,j]=(0,d.useState)(!0),[S,I]=(0,d.useState)(!1);(0,d.useEffect)(()=>{let e=e=>{S&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[S]);let[N,F]=(0,d.useState)(a),_=(0,d.useMemo)(()=>C?null:g(N),[C,N,g]),L=(0,d.useMemo)(()=>C||!!_,[C,_]),[w,T]=(0,d.useState)(u),A=(0,d.useCallback)(()=>{c(e,b?null:""),I(!1)},[e,b,c]),E=(0,d.useCallback)(()=>{a?(F(a),T(!1),j(!0),I(!1)):A()},[a,A]),K=(0,d.useCallback)(()=>{c(e,N),T(!1),j(!0),I(!1)},[e,c,N]),P=(0,d.useCallback)(()=>T(!0),[]),D=(0,d.useCallback)(()=>{(v?.(),h)?A():(C||I(!0),T(!1))},[C,h,v,A]),R=(0,d.useMemo)(()=>({commands:{"github:cancel":E,"github:submit-form":L?void 0:K},keys:{"github:cancel":["Escape"],"github:submit-form":["Enter"]}}),[L,E,K]),M=(0,d.useRef)(null),[V,O]=(0,d.useState)("256px");(0,d.useEffect)(()=>{if(w&&M.current){let e=M.current.getBoundingClientRect().width;e>0&&O(`${e}px`)}},[w]);let B=(0,d.useMemo)(()=>S?`${t} (edited)`:t,[t,S]);return(0,n.jsx)(i.T,{open:w,anchorRef:M,renderAnchor:e=>k(e,M,B),onClose:D,onOpen:P,overlayProps:{style:{width:x??V}},children:(0,n.jsxs)(l.tL,{...R,children:[(0,n.jsx)("div",{className:"IssueFieldTextToken-module__issuesFieldTextInputContainer--BYChH",children:(0,n.jsxs)(s.A,{children:[(0,n.jsx)(s.A.Label,{visuallyHidden:!0,children:m.k.textEditorLabel(t)}),(0,n.jsx)(r.A,{block:!0,value:N,placeholder:m.k.textEditorPlaceholder,onChange:e=>{let{value:t}=e.target;F(t),t===a?j(!0):j(!1)},...f}),_&&(0,n.jsx)(s.A.Validation,{variant:"error",className:"IssueFieldTextToken-module__issuesFieldTextError--AZz7r",children:_})]})}),(0,n.jsx)("div",{className:"IssueFieldTextToken-module__issuesFieldToolbar--gb7A0",role:"toolbar","aria-label":m.k.textEditorToolbarLabel(t),children:(0,n.jsxs)("div",{className:"IssueFieldTextToken-module__issuesFieldToolbarActions--gYxXu",children:[(0,n.jsx)(o.Q,{size:"small",onClick:E,className:p,trailingVisual:(0,n.jsx)(l.hh,{commandId:"github:cancel"}),children:m.k.textEditorCancelButton}),(0,n.jsx)(o.Q,{size:"small",variant:"primary",onClick:K,"aria-disabled":L,"aria-label":m.k.textEditorUpdateButtonAriaLabel(t),className:p,trailingVisual:(0,n.jsx)(l.hh,{commandId:"github:submit-form",variant:L?"normal":"onPrimary"}),children:m.k.textEditorUpdateButton})]})})]})})};try{b.displayName||(b.displayName="IssueFieldTextEditor")}catch{}try{k.displayName||(k.displayName="IssueFieldTextEditorInternal")}catch{}},4929:(e,t,a)=>{a.d(t,{V:()=>s});var n=a(74848),l=a(29731),i=a(34164);function s({children:e,alignment:t,variant:a,...s}){return(0,n.jsx)("div",{...(0,l.G)("list-view-item-metadata-item"),...s,className:(0,i.$)("Metadata-module__metadata--ODMG0","primary"===a?"Metadata-module__primary--S8Orc":"Metadata-module__secondary--1te4w","right"===t&&"Metadata-module__alignRight--A1PHa",s.className),children:e})}try{s.displayName||(s.displayName="ListItemMetadata")}catch{}},5547:(e,t,a)=>{a.d(t,{_:()=>d});let n={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"updateIssueIssueTypeSharedMutation",selections:[{alias:null,args:i=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssueIssueTypePayload",kind:"LinkedField",name:"updateIssueIssueType",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[r={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"updateIssueIssueTypeSharedMutation",selections:[{alias:null,args:i,concreteType:"UpdateIssueIssueTypePayload",kind:"LinkedField",name:"updateIssueIssueType",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[r,s],storageKey:null}],storageKey:null}]},params:{id:"7f65e947ab21dc1572e9b06674ca6cab",metadata:{},name:"updateIssueIssueTypeSharedMutation",operationKind:"mutation",text:null}};n.hash="525c7c0b085e2a3347272a3cefbab2c2";var l,i,s,r,o=a(18312);function d({environment:e,input:t,onError:a,onCompleted:l}){return(0,o.commitMutation)(e,{mutation:n,variables:{input:t},onError:e=>a&&a(e),onCompleted:e=>l&&l(e)})}},5643:(e,t,a)=>{a.d(t,{C:()=>k,$:()=>b});var n=a(74848),l=a(69599),i=a(74563),s=a(19918),r=a(86391),o=a(46377),d=a(83494),c=a(38621),u=a(5839),m=a(50279),p=a(96540),g=a(15220);let f=({onClose:e,returnFocusRef:t})=>(0,n.jsx)(g.l,{"aria-label":s.k.projectItemsLimitReachedDialogLabel,title:s.k.projectItemsLimitReachedDialogTitle,onClose:e,returnFocusRef:t,width:"large",footerButtons:[{content:s.k.closeButton,onClick:e,buttonType:"primary"}],children:(0,n.jsx)("div",{children:s.k.projectItemsLimitReachedDialogMessage})});try{f.displayName||(f.displayName="ProjectItemsLimitReachedDialog")}catch{}let h=[],y=[];function b({items:e=h,groups:t=y,selectedProjects:a,isDialogOpen:o,handleDialogClose:c,filterValue:g,onCancel:b,onOpenChange:k,onFilterChange:x,anchorElement:v,onSelectionChange:C,insidePortal:j,isLoading:S,title:I,triggerOpen:N}){let F=(0,p.useCallback)(()=>{N||k(!0,"anchor-key-press")},[N,k]),_=(0,p.useRef)(null),L=e.length<=2?"auto":"large",w=(0,r.D)(j,_,L),T=(0,l.G7)("issues_react_select_panel_fullscreen_on_narrow"),A=(0,p.useMemo)(()=>0===e.length,[e.length]),E=(0,p.useMemo)(()=>{let n={renderAnchor:e=>v(e),anchorRef:_,placeholderText:s.k.filterProjects,items:e,selected:a,open:N||!1,onOpenChange:k,onCancel:b,onSelectedChange:C,filterValue:g,onFilterChange:x,showItemDividers:!0,overlayProps:{width:"medium",...w},loading:S,title:I??s.k.selectProjects,message:A?{title:"No projects were found",variant:"empty",body:"Please try a different search query."}:void 0};return t?.length>0&&e.length>0&&(n.groupMetadata=t),n},[w,v,g,e,t,S,b,x,k,C,N,a,A,I]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.ak,{commands:{"item-pickers:open-projects":F}}),(0,n.jsx)(m.g,{flags:{primer_react_select_panel_fullscreen_on_narrow:T},children:(0,n.jsx)(u.X,{"aria-label":"Project results","data-id":i.B.itemPickerRootId,"data-testid":i.B.itemPickerTestId,...E})}),o&&(0,n.jsx)(f,{onClose:c,returnFocusRef:_})]})}function k({firstSelectedProjectTitle:e,readonly:t,nested:a,anchorProps:l}){return(0,n.jsx)(o._,{anchorText:s.k.noProjects,sharedPickerMainValue:e,anchorProps:t?void 0:l,ariaLabel:s.k.selectProjects,readonly:t,nested:a,leadingIcon:c.TableIcon,hotKey:void 0})}try{b.displayName||(b.displayName="ProjectPickerBase")}catch{}try{k.displayName||(k.displayName="DefaultProjectPickerAnchor")}catch{}},6923:(e,t,a)=>{a.d(t,{KJ:()=>i,X3:()=>l,g5:()=>s});var n=a(56038);let l=void 0===n.XC,i=!l;function s(){return!!l||!n.XC||!!(n.XC.querySelector('react-app[data-ssr="true"]')||n.XC.querySelector('react-partial[data-ssr="true"][partial-name="repos-overview"]'))}},7808:(e,t,a)=>{a.d(t,{z:()=>WebWorker});var n=a(35750),l=a(18150),i=a(85242),s=a(50467);let WebWorker=class WebWorker{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){(0,s._)(this,"worker",void 0);try{this.worker=new Worker(`${e}?module=true`,{type:"module"})}catch{console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new MainThreadWorker(t)}}};var r=new WeakMap,o=new WeakMap;let MainThreadWorker=class MainThreadWorker{async postMessage(e){if((0,n._)(this,r))return;let t={data:(0,n._)(this,o).call(this,{data:e})};this.onmessage?.(t)}terminate(){(0,i._)(this,r,!0)}constructor(e){(0,l._)(this,r,{writable:!0,value:!1}),(0,s._)(this,"onmessage",void 0),(0,l._)(this,o,{writable:!0,value:void 0}),(0,i._)(this,o,e)}}},8608:(e,t,a)=>{a.d(t,{U:()=>l,Y:()=>n});let n=e=>`## Purpose
Classify the issue into exactly ONE issue type category based on the issue title and content.

## Input
You will receive:
- Issue title
- Issue content
- List of valid issue types

## Valid Issue Types
${e}

## Classification Rules
1. Analyze both title AND content
2. Select ONLY ONE issue type

## Important Notes
- Choose the MOST specific applicable type
- The output must contain exactly ONE value from the valid issue types
- If uncertain between two types, choose the broader category`,l=`# Classifier Agent Instructions
## Input Format
You will receive issue data containing:
- Title
- Content
- Labels (JSON array)

## Task
Analyze the issue title and content to determine the most relevant categories from the provided labels list. Select ALL applicable labels that match the issue's context and purpose.

## Classification Rules
1. Only select labels from the provided labels list
2. Choose ALL relevant labels that apply
3. Labels must directly relate to the issue's:
   - Main topic/purpose
   - Technical area
   - Issue type
4. Exclude labels if you're not highly confident they apply`},8645:(e,t,a)=>{a.d(t,{cE:()=>o,Y9:()=>r,ml:()=>i,o2:()=>s});var n=a(99418);let l={FORBID_TAGS:["style"],ALLOW_DATA_ATTR:!1,ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","h7","h8","br","b","i","strong","em","a","pre","code","img","tt","div","span","ins","del","sup","sub","p","ol","ul","table","thead","tbody","tfoot","blockquote","dl","dt","dd","kbd","q","samp","var","hr","ruby","rt","rp","li","tr","td","th","s","strike","summary","details","picture","source"]};function i(e){return(e?.startsWith("www.")?"https://":"")+e}let s=e=>n.default.sanitize(e,l),r=e=>{if(!e||!function(e){try{return new window.URL(e),!0}catch{return!1}}(e))return!1;try{let t=new URL(e,window.location.origin);return["http:","https:"].includes(t.protocol)}catch{return!1}},o=e=>s(e)===e},8816:(e,t,a)=>{a.d(t,{b:()=>l});let n={year:"numeric",month:"short",day:"numeric",timeZone:"UTC"};function l(e,t={}){return e.toLocaleDateString("en-us",{...n,...t})}},10286:(e,t,a)=>{a.d(t,{k:()=>l,y:()=>n});let n="template-field",l=({id:e,indexOfFormElement:t,value:a,defaultValuesById:l})=>{let i=l&&e?l[e]:void 0;return void 0===i&&l&&void 0!==t&&(i=l[`${n}-${t}`]),i??a??""}},10925:(e,t,a)=>{a.d(t,{H:()=>l});var n=a(76648);function l(e,t){let{csrf_tokens:a}=(0,n.B)();return a?.[e]?.[t]}},10991:(e,t,a)=>{function n(e){let t=document.getElementById("issues-repo-tab-count");if(null===t)return!1;let a=Number(t.title.replace(/\D/g,"")),n=Math.max(a+e,0);return 0===a&&n>0?t.removeAttribute("hidden"):0===n&&t.setAttribute("hidden","true"),t.title=n.toLocaleString(),/^\d*$/.test(t.textContent||"")&&n<=999&&(t.textContent=n.toString()),!0}function l(){n(1)}function i(){n(-1)}a.d(t,{T:()=>i,f:()=>l})},11083:(e,t,a)=>{a.d(t,{X:()=>g,i:()=>c});var n=a(71315),l=a(34095),i=a(99223),s=a(69599),r=a(21067),o=a(70170);let d=[];function c(e,t=!1,a=.5){if(!n.X3&&!0!==(0,s.G7)("browser_stats_disabled")){if(a<0||a>1)throw RangeError("Sampling probability must be between 0 and 1");void 0===e.timestamp&&(e.timestamp=Date.now()),e.loggedIn=(0,r.M3)(),e.staff=g(),e.bundler=i.v,Math.random()<a&&d.push(e),t?p():m()}}let u=null,m=(0,o.n)(async function(){await l.K,null==u&&(u=window.requestIdleCallback(p))},5e3);function p(){if(u=null,!d.length)return;let e=n.XC?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(e){for(let l of function(e){let t=[],a=e.map(e=>JSON.stringify(e));for(;a.length>0;)t.push(function(e){let t=e.shift(),a=[t],n=t.length;for(;e.length>0&&n<=65536;){let t=e[0].length;if(n+t<=65536){let l=e.shift();a.push(l),n+=t}else break}return a}(a));return t}(d)){var t=e,a=`{"stats": [${l.join(",")}], "target": "${n.XC?.head?.querySelector('meta[name="ui-target"]')?.content||"full"}"}`;try{navigator.sendBeacon&&navigator.sendBeacon(t,a)}catch{}}d=[]}}function g(){return!!n.XC?.head?.querySelector('meta[name="user-staff"]')?.content}n.XC?.addEventListener("pagehide",p),n.XC?.addEventListener("visibilitychange",p)},12219:(e,t,a)=>{a.d(t,{e:()=>tw});var n,l,i,s,r,o,d,c,u,m,p,g,f,h,y,b,k,x,v,C,j,S,I,N,F,_,L,w,T,A,E,K,P,D,R,M,V,O=a(74848),B=a(94099),$=a(17855),U=a(42118),H=a(24550),z=a(25641),q=a(62559),G=a(38102),W=a(69599),Q=a(98646),X=a(977),Y=a(3047),J=a(99892),Z=a(76533),ee=a(30459),et=a(96459),ea=a(38621),en=a(15220),el=a(84078),ei=a(72511),es=a(10095),er=a(43715),eo=a(35811),ed=a(34164),ec=a(96540),eu=a(18312),em=a(16642),ep=a(98338),eg=a(96480),ef=a(17831),eh=a(53419),ey=a(96379),eb=a(69726),ek=a(86877),ex=a(4175);function ev({isOpen:e,onClose:t,onGenerate:a,repoOwner:n,repoName:l,title:i,body:s,returnFocusRef:r}){let[o,d]=(0,ec.useState)(""),[c,u]=(0,ec.useState)(!1),[m,p]=(0,ec.useState)(null),{sendAnalyticsEvent:g}=(0,ee.s)(),f=!!(i?.trim()||s?.trim()||o?.trim()),h=(0,ec.useCallback)(()=>{d(""),p(null),t()},[t]),y=(0,ec.useCallback)(async()=>{g("analytics.click","ISSUE_CREATE_GENERATE_DESCRIPTION_WITH_COPILOT",{repoNWO:`${n}/${l}`,hasTitle:!!i,hasExistingDescription:!!s,hasAdditionalContext:!!o}),u(!0),p(null);try{let e=await (0,ey.lS)(`/${n}/${l}/issues/new/generate_copilot_description`,{method:"POST",body:{title:i,body:s,context:o}});if(!e.ok){p(ep.k.copilotGenerateError),eC("response_not_ok");return}let t=await e.json(),r=t.title,c=t.description;if(!r||!c||0===r.trim().length||0===c.trim().length){p(ep.k.copilotGenerateError),eC(`response_missing${!r?"_title":""}${!c?"_description":""}`);return}eC(),a(r,c),d("")}catch(e){p(ep.k.copilotGenerateError),eC(e instanceof Error?e.message:"unknown_error"),(0,G.N7)(e)}finally{u(!1)}},[g,n,l,i,s,o,a]);return e?(0,O.jsx)(en.l,{title:ep.k.copilotGenerateDialogTitle,onClose:h,footerButtons:[{buttonType:"default",content:"Cancel",onClick:h,disabled:c},{buttonType:"primary",content:c?(0,O.jsx)(eb.A,{size:"small",className:"mt-1 mr-1"}):ep.k.copilotGenerateDialogGenerateButton,onClick:y,disabled:c||!f}],returnFocusRef:r,children:(0,O.jsxs)(eo.az,{sx:{display:"flex",flexDirection:"column",gap:3},children:[m&&(0,O.jsxs)(ei.A,{variant:"danger",children:[(0,O.jsx)(es.A,{icon:ea.AlertIcon}),m]}),!f&&(0,O.jsxs)(ei.A,{variant:"warning",children:[(0,O.jsx)(es.A,{icon:ea.AlertIcon}),ep.k.copilotGenerateValidationWarning]}),(0,O.jsxs)(ek.A,{disabled:c,children:[(0,O.jsx)(ek.A.Label,{children:ep.k.copilotGenerateDialogTextareaLabel}),(0,O.jsx)(ex.Ay,{value:o,onChange:e=>d(e.target.value),placeholder:ep.k.copilotGenerateDialogTextareaPlaceholder,rows:6,block:!0,className:"mt-3"})]})]})}):null}function eC(e,t,a,n){(0,eh.BI)("copilot.create_issue_description",{hasTitle:!!t,hasExistingDescription:!!a,hasAdditionalContext:!!n,error:e})}try{ev.displayName||(ev.displayName="CopilotGenerateDescriptionDialog")}catch{}var ej=a(62180),eS=a(71651),eI=a(99511);let eN=({title:e,titleValidationResult:t,titleInputRef:a,handleTitleChange:n})=>{let{settings:l}=(0,eS.z)(),i=(0,O.jsx)(eI.A,{ref:a,"aria-label":ep.k.issueCreateTitleLabel,placeholder:ep.k.issueCreateTitlePlaceholder,"aria-describedby":"issue-create-pane-title title-validation",value:e,onChange:n,onInput:n,"data-hpc":!0,autoFocus:!0,"data-react-autofocus":!0});return(0,O.jsx)("div",{className:"CreateIssueFormTitle-module__container--GhqlY",children:(0,O.jsxs)(ek.A,{className:"CreateIssueFormTitle-module__formControl--H5ulr",required:!0,children:[(0,O.jsx)(ek.A.Label,{className:"CreateIssueFormTitle-module__formControlLabel--ksDPF",children:ep.k.issueCreateTitleLabel}),(0,O.jsxs)("div",{className:"CreateIssueFormTitle-module__subcontainer--wchOC",children:[(0,O.jsx)(ec.Suspense,{fallback:i,children:(0,O.jsx)(ej.x,{tone:l.emojiTone,children:i})}),t&&(0,O.jsx)("span",{role:"alert","aria-live":"assertive",children:(0,O.jsx)(ek.A.Validation,{variant:"error",id:"title-validation",children:t})})]})]})})};try{eN.displayName||(eN.displayName="CreateIssueFormTitle")}catch{}let eF={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"useIssueFormSecondaryQuery",selections:[{alias:null,args:l=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useIssueFormSecondaryQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"b59047dcf53aef0ea8350915bc6a8213",metadata:{},name:"useIssueFormSecondaryQuery",operationKind:"query",text:null}};eF.hash="31aa1503eb5e95982e5aa8c08b4be6c9";var e_=a(30721),eL=a(71315);a(69487);var ew=a(65249),eT=a(23490),eA=a(77430),eE=a(19918),eK=a(46377),eP=a(25407);let eD=(0,ec.forwardRef)(({assignees:e,anchorProps:t,displayHotkey:a,MAX_DISPLAYED_ASSIGNEES:n=2,readonly:l},i)=>(0,O.jsx)(eK._,{leadingIconElement:e.slice(0,n).map(e=>(0,O.jsx)(eR,{assignee:e},e.login)),anchorText:e.length>1?eE.k.assignees:eE.k.noAssignees,anchorProps:t,sharedPickerMainValue:e.slice(0,n).map(e=>e.isCopilot?"Copilot":e.login).join(", ").concat(e.length>n?`, ${e.length-n}+`:""),ariaLabel:eE.k.selectAssignees,readonly:l,leadingIcon:ea.PeopleIcon,hotKey:!l&&a?"A":void 0,ref:i}));function eR({assignee:e}){return e.isCopilot?(0,O.jsx)(ea.CopilotIcon,{}):(0,O.jsx)(eA.r,{"data-hovercard-url":(0,eP.dCN)({owner:e.login}),src:e.avatarUrl,size:16,alt:`@${e.login}`,className:"CompressedAssigneeAnchor-module__compressedAssigneeAvatar--y2Hg2"})}eD.displayName="CompressedAssigneeAnchor";try{eR.displayName||(eR.displayName="AssigneeLeadingVisual")}catch{}let eM=(0,ec.forwardRef)(({assignees:e,readonly:t,anchorProps:a},n)=>(0,O.jsx)(eD,{assignees:e||[],displayHotkey:!1,anchorProps:t?void 0:a,readonly:t,ref:n}));eM.displayName="DefaultAssigneePickerAnchor";var eV=a(32232),eO=a(14307);let eB=({color:e})=>{let t=eO.i4.find(t=>t===e),{fg:a}=(0,eO.Wk)(t);return(0,O.jsx)("div",{style:{"--bg":`${a}`},className:"DefaultIssueTypePickerAnchor-module__issueTypeDot--KX5Dc"})},e$=(0,ec.forwardRef)(({activeIssueType:e,readonly:t,anchorProps:a},n)=>(0,O.jsx)(eK._,{anchorText:eE.k.noIssueTypes,sharedPickerMainValue:e?.name,anchorProps:t?void 0:a,ariaLabel:eE.k.selectIssueTypes,readonly:t,leadingIcon:ea.IssueOpenedIcon,hotKey:void 0,ref:n,leadingIconElement:e&&(0,O.jsx)(eB,{color:e.color})}));e$.displayName="DefaultIssueTypePickerAnchor";try{eB.displayName||(eB.displayName="IssueTypeDot")}catch{}var eU=a(22463),eH=a(73017);let ez=({MAX_DISPLAYED_LABELS:e=5,labelColors:t})=>(0,O.jsx)("div",{className:"LabelDots-module__labelDotsContainer--sNiXI",children:t.slice(0,e).map((e,t)=>(0,O.jsx)(eo.az,{sx:{backgroundColor:`#${e}`},className:"LabelDots-module__labelDot--MZUOf"},`${t}-${e}`))});try{ez.displayName||(ez.displayName="LabelDots")}catch{}let eq=(0,ec.forwardRef)(({size:e="large",labelNamesWithColor:t,anchorProps:a,MAX_DISPLAYED_LABELS:n=5,readonly:l,leadingIcon:i,hotKey:s,anchorText:r},o)=>{let d=t.slice(0,n).map(e=>e.nameHTML).join(", ").concat(t.length>n?`, ${t.length-n}+`:"");return(0,O.jsx)(eK._,{anchorProps:a,readonly:l,anchorText:r||(t.length>1?eE.k.labels:eE.k.noLabels),sharedPickerMainValue:t.length>0&&(0,O.jsx)(eG,{labelNamesWithColor:t,MAX_DISPLAYED_LABELS:n,compressedLabelTitle:d}),leadingIconElement:t.length>0&&(0,O.jsx)(ez,{MAX_DISPLAYED_LABELS:n,labelColors:t.map(e=>e.color)}),ariaLabel:eE.k.selectLabels,size:e,leadingIcon:i,hotKey:s,ref:o,compressedTitle:d})});eq.displayName="CompressedLabelsToken";let eG=({compressedLabelTitle:e})=>(0,O.jsx)(eH.JR,{html:e});try{eG.displayName||(eG.displayName="LabelNames")}catch{}let eW=(0,ec.forwardRef)(({size:e="small",labels:t,anchorProps:a,displayHotkey:n,MAX_DISPLAYED_LABELS:l=2,readonly:i},s)=>(0,O.jsx)(eq,{size:e,labelNamesWithColor:t.map(e=>({nameHTML:e.nameHTML,color:e.color})),anchorProps:a,MAX_DISPLAYED_LABELS:l,readonly:i,leadingIcon:ea.TagIcon,hotKey:!i&&n?"L":void 0,anchorText:t?.length===0?eE.k.noLabels:void 0,ref:s}));eW.displayName="CompressedLabelAnchor";let eQ=(0,ec.forwardRef)(({labels:e,readonly:t,anchorProps:a},n)=>(0,O.jsx)(eW,{labels:e,readonly:t,displayHotkey:!1,anchorProps:t?void 0:a,ref:n}));eQ.displayName="DefaultLabelAnchor";var eX=a(98530);let eY=(0,ec.forwardRef)(({activeMilestone:e,readonly:t,nested:a,anchorProps:n},l)=>(0,O.jsx)(eK._,{anchorText:eE.k.noMilestones,sharedPickerMainValue:e?.title,anchorProps:t?void 0:n,ariaLabel:eE.k.selectMilestones,readonly:t,nested:a,leadingIcon:ea.MilestoneIcon,hotKey:void 0,ref:l}));eY.displayName="DefaultMilestonePickerAnchor";var eJ=a(90921),eZ=a(5643),e0=a(73580),e1=a(75202),e2=a(41057);let e4=()=>(0,O.jsx)("div",{className:"MetadataFooterLoading-module__MetadataFooterLoadingContainer--MlVdF",children:(0,O.jsx)(e2.Q,{borderRadius:"pill",height:"lg",width:"400px"})});try{e4.displayName||(e4.displayName="MetadataFooterLoading")}catch{}var e3=a(83463),e8=a(43570),e7=a(4889),e5=a(72690),e9=a(26108);let e6="MetadataFooter-module__animationClass--JG8Qb",te=({fieldWithValue:e,buttonProps:t,className:a,readonly:n})=>{let l=(0,Q.HZ)(e.field.dataType),i=(0,Y.nB)(l,e.value),s=tt(e),r=i?`${e.field.name}:`:e.field.name;return(0,O.jsx)(eK._,{anchorText:r,sharedPickerMainValue:i,leadingIcon:(0,Q.mQ)(l),leadingIconElement:s,anchorProps:t,className:a,readonly:n},e.field.id)},tt=e=>{if("SINGLE_SELECT"===e.field.dataType&&e.value){let t=e.value,a=t?.color||"GRAY";return(0,O.jsx)(ta,{color:a})}return null},ta=({color:e})=>{let t=eO.i4.find(t=>t===e),{fg:a}=(0,eO.Wk)(t);return(0,O.jsx)("div",{style:{"--bg":`${a}`},className:"MetadataFooter-module__SingleSelectFieldDot--V_G0U"})},tn=(e,t)=>(0,O.jsx)(e9.K,{onClick:t=>{e.onClick?.(t)},ref:t,icon:ea.PlusIcon,variant:"default","aria-label":ep.k.setAdditionalFields,tooltipDirection:"n",size:"small"});try{te.displayName||(te.displayName="IssueFieldValueSharedEditorAnchor")}catch{}try{ta.displayName||(ta.displayName="SingleSelectFieldDot")}catch{}let tl="256px",ti=({pendingField:e,onCommit:t,onClose:a})=>tu((0,Y.Y0)(e,null),t,a,!0),ts=({field:e,onChange:t,className:a,readonly:n})=>{let l=(0,ec.useCallback)((a,n)=>{t(e,n)},[t,e]);return e.field.id&&e.field.name?tu(e,l,void 0,!1,a,n):null},tr=(e,t,a,n=!1,l)=>(0,O.jsx)(e7.l,{fieldId:e.field.id,fieldName:e.field.name,initialValue:e.value,onCommit:t,renderAnchor:a,overrideWidth:tl,isNumber:!0,validate:e8.H,shouldOpen:n,onClose:l}),to=(e,t,a,n=!1,l)=>(0,O.jsx)(e7.l,{fieldId:e.field.id,fieldName:e.field.name,initialValue:e.value,onCommit:t,renderAnchor:a,overrideWidth:tl,shouldOpen:n,onClose:l}),td=(e,t,a,n=!1,l)=>{let[i,s]=(0,ec.useState)(n);return(0,O.jsx)(e3.DatePicker,{anchor:e=>a(e),showClearButton:!0,showTodayButton:!0,variant:"single",dateFormat:"long",onChange:a=>{t(e.field.id,a)},value:e.value,placeholder:"Set date",open:i,onOpen:()=>{s(!0)},onClose:()=>{s(!1),l?.()},anchoredOverlayProps:{side:"outside-top"}},e.field.id)},tc=(e,t,a,n=!1,l)=>{let i=e.value;return(0,O.jsx)(e5.CZ,{fieldId:e.field.id,fieldName:e.field.name||"",selectedOption:i?.name||null,onSelectionChange:a=>{t(e.field.id,a)},anchorElement:e=>a(e),readonly:!1,isLazy:!0,shouldOpen:n,onClose:l,insidePortal:!0},e.field.id)},tu=(e,t,a,n=!1,l,i)=>{let s=t=>(0,O.jsx)(te,{fieldWithValue:e,buttonProps:t,className:l,readonly:i},e.field.id);switch(e.field.dataType){case"SINGLE_SELECT":return tc(e,t,s,n,a);case"DATE":return td(e,t,s,n,a);case"TEXT":return to(e,t,s,n,a);case"NUMBER":return tr(e,t,s,n,a)}};try{ti.displayName||(ti.displayName="IssueFieldValueSharedPendingEditor")}catch{}try{ts.displayName||(ts.displayName="IssueFieldValueSharedEditor")}catch{}try{tr.displayName||(tr.displayName="IssueFieldNumberEditor")}catch{}try{to.displayName||(to.displayName="IssueFieldTextEditor")}catch{}try{td.displayName||(td.displayName="IssueFieldDateEditor")}catch{}try{tc.displayName||(tc.displayName="IssueFieldSingleSelectEditor")}catch{}try{tu.displayName||(tu.displayName="IssueFieldEditor")}catch{}let tm=({repo:e,owner:t,canSetAssignees:a,canSetLabels:n,canSetMilestone:l,canSetProjects:i,canSetIssueFields:s,canSetType:r,issueTypesEnabled:o})=>{let{optionConfig:d}=(0,eg.a)(),{repository:c,labels:u,setLabels:m,assignees:p,setAssignees:g,projects:f,setProjects:h,milestone:y,setMilestone:b,issueType:k,setIssueType:x,setIssueFields:v}=(0,ef.u)(),C={insidePortal:d.insidePortal},j=(0,W.G7)("issue_metadata_add_field_button"),{pendingSelectedField:S,setPendingSelectedField:I,pinnedFields:N,unpinnedFields:F,selectedFieldNames:_,onPendingFieldCommit:L,onIssueFieldPickerSelectionChange:w,onIssueFieldValueChanged:T}=function({pinnedFieldsFromType:e,setIssueFieldsWithValues:t,scopedFields:a}){let[n,l]=(0,ec.useState)([]),[i,s]=(0,ec.useState)(null),r=(0,W.G7)("pinned_issue_fields"),o=(0,ec.useMemo)(()=>e?.map(e=>({id:e.id,name:e.name,dataType:e.dataType}))||[],[e]),d=(0,ec.useCallback)(e=>{l(e);let a=[];for(let t of e)t.value&&a.push(t);t(a)},[t]),c=(0,ec.useCallback)((e,t)=>{if(!i||i.id!==e)return;s(null);let a=(0,Q.HZ)(i.dataType),l=(0,Y.vl)(a,t);if("string"==typeof l?!l.trim():!l)return;let r=[...n];i.name&&!r.some(e=>e.field.name===i.name)&&r.push((0,Y.Y0)(i,t)),d(r)},[n,i,d]),u=(0,ec.useCallback)(e=>{let t=e[0];t?.id&&t?.name&&t?.dataType&&s({id:t.id,name:t.name,dataType:(0,Q.HZ)(t.dataType)})},[]),m=(0,ec.useCallback)((e,t)=>{o.find(t=>t.id===e.field.id)&&!n.find(t=>t.field.id===e.field.id)?d([...n,(0,Y.Y0)(e.field,t)]):d(n.map(a=>a.field.id===e.field.id?(0,Y.Y0)(a.field,t):a).filter(e=>null!==e))},[n,o,d]),p=r?((e,t,a)=>{let n=[];for(let l of t){let t=e.find(e=>e.field.id===l.id);if(t)n.push(t);else{let e=a.find(e=>e.fieldId===l.id);n.push((0,Y.IE)(l,e?e.value:null,!!e))}}return n})(n,o,a):[],g=r?((e,t,a)=>{let n=a?.map(e=>e.fieldId)||[],l=[...new Set([...e.map(e=>e.field.id).filter(e=>void 0!==e),...n])],i=[];for(let n of l)if(!t.find(e=>e.id===n)){let t=a?.find(e=>e.fieldId===n),l=e.find(e=>e.field.id===n);i.push(l||(0,Y.IE)({id:n,name:t.fieldName,dataType:t.fieldType},t.value,!0))}return i})(n,o,a):n,f=p.map(e=>e.field.name).concat(g.map(e=>e.field.name)).filter(e=>void 0!==e);return{pendingSelectedField:i,setPendingSelectedField:s,pinnedFields:p,unpinnedFields:g,selectedFieldNames:f,onPendingFieldCommit:c,onIssueFieldPickerSelectionChange:u,onIssueFieldValueChanged:m}}({pinnedFieldsFromType:k?.pinnedFields??[],setIssueFieldsWithValues:v,scopedFields:d.scopedFields||[]}),A=f[0]?.title||"",{sendAnalyticsEvent:E}=(0,ee.s)(),K=c&&(a||p.length>0)&&!d.scopedAssignees?{repo:c.name,owner:c.owner.login,readonly:!a,includeAuthorableBots:!1,includeAssignableBots:!0,assignees:p,assigneeTokens:[],anchorElement:(e,t)=>(0,O.jsx)(eM,{assignees:p,readonly:!a,anchorProps:{...e,id:"assignees-select-menu"},ref:t,...C}),onSelectionChange:g,...C}:null,P=null;return K&&(P=(0,O.jsx)(eV._g,{...K})),(0,O.jsx)(ec.Suspense,{fallback:(0,O.jsx)(e4,{}),children:(0,O.jsxs)("div",{className:"MetadataFooter-module__MetadataFooterContainer--omn3p",children:[P,d.scopedAssignees&&(0,O.jsx)(eD,{assignees:d.scopedAssignees,displayHotkey:!1,anchorProps:void 0,readonly:!0}),(n||u.length>0)&&(0,O.jsx)(eX.tJ,{repo:e,owner:t,readonly:!n,canCreateLabel:n,labels:u,anchorElement:(e,t)=>(0,O.jsx)(eQ,{readonly:!n,labels:u,anchorProps:e,ref:t,...C}),onSelectionChange:m,...C}),o&&(r||null!==k)&&!d.scopedIssueType&&(0,O.jsx)(eU.uF,{repo:e,owner:t,onSelectionChange:e=>{let t=e?.[0]||null;E("issue_create.update_issue_type","ISSUE_CREATE_UPDATE_ISSUE_TYPE_DIALOG",{issueTypeId:t?.id??""}),x(t)},anchorElement:e=>(0,O.jsx)(e$,{readonly:!r,activeIssueType:k,anchorProps:e,...C}),readonly:!r,activeIssueType:k??null,width:"medium",...C}),s&&N.map(e=>(0,O.jsx)(ts,{field:e,onChange:T,className:e6,readonly:e.readonly},e.field.id)),d.scopedIssueType&&(0,O.jsx)(eK._,{anchorText:d.scopedIssueType,leadingIcon:ea.IssueOpenedIcon,readonly:!0}),c&&!d.scopedProjectTitle&&(i||f.length>0)&&(0,O.jsx)(e1.t,{fallback:(0,O.jsx)(eK._,{anchorText:"Projects are unavailable",leadingIcon:ea.AlertIcon,readonly:!0}),children:(0,O.jsx)(e0.wX,{pickerId:"create-issue-projects-picker",readonly:!i,onSave:h,selectedProjects:f,owner:c.owner.login,repo:c.name,anchorElement:e=>(0,O.jsx)(eZ.C,{nested:!1,readonly:!i,anchorProps:e,firstSelectedProjectTitle:A,...C}),...C})}),d.scopedProjectTitle&&(0,O.jsx)(eK._,{anchorText:d.scopedProjectTitle,leadingIcon:ea.TableIcon,readonly:!0}),(l||null!==y)&&!d.scopedMilestone&&(0,O.jsx)(eJ.D,{repo:e,owner:t,readonly:!l,canCreateMilestone:l,activeMilestone:y,anchorElement:(e,t)=>(0,O.jsx)(eY,{nested:!1,readonly:!l,activeMilestone:y,anchorProps:e,ref:t,...C}),onSelectionChange:e=>b(e?.[0]||null),...C}),d.scopedMilestone&&(0,O.jsx)(eK._,{anchorText:d.scopedMilestone,leadingIcon:ea.MilestoneIcon,readonly:!0}),s&&F.map(e=>(0,O.jsx)(ts,{field:e,onChange:T,className:e6,readonly:e.readonly},e.field.id)),S&&(0,O.jsx)(ti,{pendingField:S,onCommit:L,onClose:()=>{I(null)}}),s&&j&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:"MetadataFooter-module__MetadataFooterSeparator--zajRG"}),(0,O.jsx)(eT.iF,{owner:t,title:ep.k.addIssueField,fieldsSet:_,onSelectionChange:w,anchorElement:tn,...C})]})]})})};try{tm.displayName||(tm.displayName="MetadataFooter")}catch{}var tp=a(58805),tg=a(56242),tf=a(36001),th=a(43952),ty=a(30107),tb=a(47817);let tk="MetadataSidebar-module__CreateIssueAssigneesSection--CPHmR",tx=({canSetAssignees:e,canSetLabels:t,canSetMilestone:a,canSetProjects:n,canSetType:l,canSetIssueFields:i,issueTypesEnabled:s})=>{let{optionConfig:r}=(0,eg.a)(),{repository:o,labels:d,setLabels:c,assignees:u,setAssignees:m,projects:p,setProjects:g,milestone:f,setMilestone:h,issueType:y,setIssueType:b,setIssueFields:k}=(0,ef.u)(),x={insidePortal:r.insidePortal};return o?(0,O.jsxs)("div",{className:"MetadataSidebar-module__MetadataSidebarContainer--Q36lm",children:[(0,O.jsx)("h2",{className:"sr-only",children:"Metadata"}),o&&(0,O.jsx)(tp.b2,{repo:o.name,owner:o.owner.login,readonly:!e,assignees:u,onSelectionChange:m,className:tk,repository:o,issueNumber:void 0,onIssueUpdate:void 0,...x}),(0,O.jsx)(tf.qn,{repo:o.name,owner:o.owner.login,readonly:!t,labels:d,onSelectionChange:c,...x}),s&&(0,O.jsx)(tb.pf,{owner:o.owner.login,repo:o.name,...x,viewerCanType:l,type:y,onSelectionChange:b}),i&&(0,O.jsx)(tg.u,{owner:o.owner.login,ownerId:o.owner.databaseId,onSelectionChange:k,issueType:y,...x}),(0,O.jsx)(ty.PH,{owner:o.owner.login,repo:o.name,projects:p,readonly:!n,onSelectionChange:g,...x}),(0,O.jsx)(th.C5,{repo:o.name,owner:o.owner.login,milestone:f,onSelectionChange:h,viewerCanSetMilestone:a??!1,className:tk,...x})]}):null};try{tx.displayName||(tx.displayName="MetadataSidebar")}catch{}let tv=()=>{let{optionConfig:e}=(0,eg.a)(),t=!e.insidePortal,{repository:a}=(0,ef.u)(),n=a?.viewerIssueCreationPermissions?.assignable??!1,l=a?.viewerIssueCreationPermissions?.labelable??!1,i=a?.viewerIssueCreationPermissions?.milestoneable??!1,s=a?.viewerIssueCreationPermissions?.triageable??!1,r=a?.viewerIssueCreationPermissions?.typeable??!1,o=a?.viewerIssueCreationPermissions?.canSetIssueFields??!1,d=a?.owner?.issueTypesEnabled??!1,c={repo:a?.name||"",owner:a?.owner.login||"",canSetAssignees:n,canSetLabels:l,canSetMilestone:i,canSetProjects:s,canSetType:r,canSetIssueFields:o,issueTypesEnabled:d};return t?(0,O.jsx)(tx,{...c}):(0,O.jsx)(tm,{...c})};try{tv.displayName||(tv.displayName="MetadataSelectors")}catch{}let tC=(s={defaultValue:!1,kind:"LocalArgument",name:"fetchParent"},r={defaultValue:null,kind:"LocalArgument",name:"input"},o=[{kind:"Variable",name:"input",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},h=[{kind:"Literal",name:"first",value:100}],b=[y={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],k={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},C={alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[u,v={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[x={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},m,c],storageKey:null},c],storageKey:null},{fragment:{argumentDefinitions:[s,r],kind:"Fragment",metadata:null,name:"createIssueMutationWithCopilotMutation",selections:[{alias:null,args:o,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[d,c,u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[m],storageKey:null}],storageKey:null},p,g,c,f,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[c,{alias:null,args:h,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:b,storageKey:"subIssues(first:100)"},{args:null,kind:"FragmentSpread",name:"SubIssuesListView"}],storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[k],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,s],kind:"Operation",name:"createIssueMutationWithCopilotMutation",selections:[{alias:null,args:o,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[d,c,u,v],storageKey:null},p,g,c,f,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[c,{alias:null,args:h,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:[y,{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,concreteType:"IssueDependenciesSummary",kind:"LinkedField",name:"issueDependenciesSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedBy",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[y,{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[c,m,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},f,C,d,p,g,{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[c,u,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SubIssuesSummary",kind:"LinkedField",name:"subIssuesSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"completed",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:0},{kind:"Literal",name:"includeClosedPrs",value:!0}],concreteType:"PullRequestConnection",kind:"LinkedField",name:"closedByPullRequestsReferences",plural:!1,selections:b,storageKey:"closedByPullRequestsReferences(first:0,includeClosedPrs:true)"},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null}],storageKey:null}],storageKey:"subIssues(first:100)"},C,{alias:"subIssuesConnection",args:null,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:b,storageKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[x,k],storageKey:null}],storageKey:null}]},params:{id:"5c0cd00f3a2b4a58f8b62ebc5b78e42b",metadata:{},name:"createIssueMutationWithCopilotMutation",operationKind:"mutation",text:null}});tC.hash="44b7c0ccdf59cc3ff3738e51cab242f5";let tj=(j={defaultValue:!1,kind:"LocalArgument",name:"fetchParent"},S={defaultValue:null,kind:"LocalArgument",name:"input"},I=[{kind:"Variable",name:"input",variableName:"input"}],N={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},E=[{kind:"Literal",name:"first",value:100}],P=[K={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],D={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},V={alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[_,M={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[R={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},L,F],storageKey:null},F],storageKey:null},{fragment:{argumentDefinitions:[j,S],kind:"Fragment",metadata:null,name:"createIssueMutation",selections:[{alias:null,args:I,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[N,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[N,F,_,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[L],storageKey:null}],storageKey:null},w,T,F,A,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[F,{alias:null,args:E,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:P,storageKey:"subIssues(first:100)"},{args:null,kind:"FragmentSpread",name:"SubIssuesListView"}],storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[D],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[S,j],kind:"Operation",name:"createIssueMutation",selections:[{alias:null,args:I,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[N,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[N,F,_,M],storageKey:null},w,T,F,A,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[F,{alias:null,args:E,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:[K,{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"nodes",plural:!0,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,concreteType:"IssueDependenciesSummary",kind:"LinkedField",name:"issueDependenciesSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedBy",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[K,{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[F,L,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},A,V,N,w,T,{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[F,_,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SubIssuesSummary",kind:"LinkedField",name:"subIssuesSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"completed",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:0},{kind:"Literal",name:"includeClosedPrs",value:!0}],concreteType:"PullRequestConnection",kind:"LinkedField",name:"closedByPullRequestsReferences",plural:!1,selections:P,storageKey:"closedByPullRequestsReferences(first:0,includeClosedPrs:true)"},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null}],storageKey:null}],storageKey:"subIssues(first:100)"},V,{alias:"subIssuesConnection",args:null,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:P,storageKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[R,D],storageKey:null}],storageKey:null}]},params:{id:"0198a2c5745a80475b22cd004e1d9672",metadata:{},name:"createIssueMutation",operationKind:"mutation",text:null}});tj.hash="52d12f0951eb99b4e97acd8c5026e0f0";var tS=a(10991),tI=a(21373);let tN=({reasonHTML:e,issuesUrl:t})=>(0,O.jsxs)("div",{className:"UserRestrictedView-module__userRestrictedContainer--Ootl2",children:[e&&(0,O.jsx)(el.l,{"aria-label":"Warning",variant:"warning",hideTitle:!0,title:"Action restricted",children:(0,O.jsx)(el.l.Description,{children:(0,O.jsx)(eH.JR,{html:e})})}),t&&(0,O.jsx)(tI.Q,{as:"a",href:t,className:"UserRestrictedView-module__backToAllIssuesButton--pt4aq",children:ep.k.backToAllIssues})]});try{tN.displayName||(tN.displayName="UserRestrictedView")}catch{}var tF=a(50167),t_=a(81724),tL=a(94007);let tw=({repository:e,title:t,setTitle:a,body:n,setBody:l,clearOnCreate:i,onCreateSuccess:s,onCreateError:r,selectedTemplate:o,footer:d,issueFormRef:c,onBeforeCreate:u,defaultValuesById:m,showUserRestrictedView:p=!1,onFieldChange:g,clientMutationId:f})=>{let{optionConfig:h,createMore:y,createMoreCreatedPath:b,setCreateMoreCreatedPath:k,isSubmitting:x,setIsSubmitting:v,onCreateAction:C,setIsFileUploading:j,displayMode:S}=(0,eg.a)(),I=!h.insidePortal,N=(0,ec.useRef)(null),[F,_]=(0,ec.useState)(),[L,w]=(0,ec.useState)(void 0),[T,A]=(0,ec.useState)(void 0),[E,K]=(0,ec.useState)(null),P=function({repoId:e}){let t=(0,eu.useRelayEnvironment)(),[a,n]=(0,ec.useState)(null);return(0,ec.useEffect)(()=>{eL.X3||(0,e_.SD)({environment:t,query:eF,variables:{id:e}}).subscribe({next:e=>{n({securityPolicyUrl:e.node?.securityPolicyUrl??null,contributingFileUrl:e.node?.contributingFileUrl??null,codeOfConductFileUrl:e.node?.codeOfConductFileUrl??null,supportFileUrl:e.node?.supportFileUrl??null})}})},[t,e]),a}({repoId:e.id}),D=(0,ec.useRef)(null),R=(0,eu.useRelayEnvironment)(),{sendAnalyticsEvent:M}=(0,ee.s)(),{labels:V,assignees:eh,projects:ey,milestone:eb,issueType:ek,issueFields:ex,parentIssue:eC,usedStorageKeyPrefix:ej,isCrossRepositoryDialogOpen:eS,setIsCrossRepositoryDialogOpen:eI,copilotAssignmentAttributes:eT,setCopilotAssignmentAttributes:eA}=(0,ef.u)(),eE=(0,ew.E)({additionalConditions:[!o||!(0,t_.GQ)(o.data)],repositoryVisibility:e.visibility,userCanPushToRepo:e.viewerCanPush,userSettingCopilotEnabled:h.copilotShowFunctionality});(0,ec.useEffect)(()=>{eE&&M("analytics.view","ISSUE_CREATE_NEW_ISSUE_WITH_COPILOT_BUTTON_VIEW",{repoNWO:`${e.owner.login}/${e.name}`})},[e.name,e.owner.login,M,eE]);let eK=(0,O.jsx)(tN,{reasonHTML:e.viewerInteractionLimitReasonHTML,issuesUrl:`/${e.owner.login}/${e.name}/issues`}),eP=e.viewerIssueCreationPermissions.typeable,eD=e.viewerIssueCreationPermissions.canSetIssueFields,eR=e=>{let t=e.map(e=>e?.message).filter(Boolean).join(", ");return(t?t.charAt(0).toUpperCase()+t.slice(1):null)??em.S.createIssueError},eM=m||(0,tL.Zi)();(0,ec.useEffect)(()=>{E&&E.length>0&&D?.current&&D.current.focus()},[D,E]),(0,ec.useImperativeHandle)(C,()=>({onCreate:async(a,l)=>{let d,m;if(a)return;let p=(0,q.O_)(t);w(p.errorMessage),!p.isValid&&N.current&&(d=N.current);let g=o&&(0,t_.GQ)(o.data),h=n;if(g&&c.current){let e=c.current.getInvalidInputs();e.length>0?d=d||e[0]:h=c.current.markdown()??""}if(d||void 0!==L||0===(t??"").trim().length||void 0===e||void 0!==T)return void d?.focus();K(null),v(!0),u&&(h=await u(h)),o&&(o.kind===t_.t7.IssueTemplate||o.kind===t_.t7.IssueForm)&&(m=o.name);let y={repositoryId:e.id,title:t?t.trim():"",body:h,labelIds:V.length>0?V.map(e=>e.id):void 0,assigneeIds:eh.length>0?eh.map(e=>e.id):void 0,milestoneId:eb?.id,issueTypeId:eP||m?ek?.id:null,issueFields:eD?ex.map(e=>{if(void 0===e.field.dataType||void 0===e.field.id)return null;let t=(0,Y.vl)((0,Q.HZ)(e.field.dataType),e.value);return{fieldId:e.field.id,...(0,Q.Ft)((0,Q.HZ)(e.field.dataType),t)}}).filter(e=>!!e):null,issueTemplate:m,isDuplicated:S===tF.q.IssueDuplication,parentIssueId:eC?eC.id:null,clientMutationId:f,copilotAssignment:eT??void 0};!function({environment:e,input:t,useCopilotMutation:a=!1,onError:n,onCompleted:l}){a?(0,eu.commitMutation)(e,{mutation:tC,variables:{input:t,fetchParent:!!t.parentIssueId},onError:e=>n&&n(e),onCompleted:e=>{l?.(e),(0,tS.f)()}}):(0,eu.commitMutation)(e,{mutation:tj,variables:{input:t,fetchParent:!!t.parentIssueId},onError:e=>n&&n(e),onCompleted:e=>{l?.(e),(0,tS.f)()}})}({environment:R,input:y,useCopilotMutation:eh.some(e=>(0,$.v)(e.login)),onError:e=>{(0,G.N7)(tT(e.message)),r(e),v(!1);let t=em.S.createIssueError;e.cause&&Array.isArray(e.cause)&&e.cause.length>0&&(t=eR(e.cause)),K(t)},onCompleted:e=>{if(v(!1),!e.createIssue?.issue){e.createIssue?.errors.map(e=>(0,G.N7)(tT(e.message)));let t=em.S.createIssueError;e.createIssue?.errors&&e.createIssue?.errors.length>0&&(t=eR(e.createIssue.errors)),K(t);return}let t=e.createIssue.issue;M("analytics.click","ISSUE_CREATE_NEW_ISSUE_BUTTON",{issueId:t.id,issueNumber:t.number,issueNWO:`${t.repository.owner.login}/${t.repository.name}`}),ey.length>0&&function(e,t,a){for(let n of t)(0,J.Z)({environment:a,issueId:e,projectId:n.id})}(t.id,ey,R),l?(_("edit"),k({...b,number:t.number})):i(),s({issue:t,createMore:l})}})}}),[t,o,n,c,L,e,T,v,u,V,eh,eb?.id,eP,ek?.id,eD,ex,S,eC,f,eT,R,r,M,ey,s,k,b,i]);let eV=o&&(0,t_.GQ)(o.data),eO=(0,ec.useMemo)(()=>{if(e)return{type:"issue",repository:{databaseId:e.databaseId,nwo:`${e.owner.login}/${e.name}`,slashCommandsEnabled:e.slashCommandsEnabled}}},[e]),eB=(0,ec.useId)(),e$=[],eU=(0,et.Z)(),eH=(0,ec.useRef)(null),ez=(0,ec.useRef)(null),[eq,eG]=(0,ec.useState)(!1),[eW,eQ]=(0,ec.useState)(!1),eX=(0,W.G7)("create_issue_description_with_copilot");(0,ec.useEffect)(()=>{let e=document.getElementById("assignees-select-menu");e&&(ez.current=e)},[]);let eY=()=>{M("analytics.click","ISSUE_CREATE_NEW_ISSUE_WITH_COPILOT_BUTTON",{repoNWO:`${e.owner.login}/${e.name}`});let t=new URLSearchParams({prompt:`Create an issue in ${e.nameWithOwner} to `});eU(`${z.Jz}?${t.toString()}`)};eE&&e$.push((0,O.jsx)(Z.n.FooterButton,{ref:eH,variant:"invisible",leadingVisual:eX?ea.CopilotIcon:ea.ArrowUpRightIcon,size:"small",className:"CreateIssueForm-module__footerButton--pogcH",onClick:()=>{eX?eQ(!0):n.length||t.length?eG(!0):eY()},children:ep.k.copilotCTAButton},"create-issue-with-copilot"));let eJ=()=>{eI(!1)},eZ=p?eK:(0,O.jsxs)(O.Fragment,{children:[eq&&(0,O.jsx)(en.l,{title:ep.k.copilotCTADialogTitle,onClose:()=>eG(!1),footerButtons:[{buttonType:"default",content:ep.k.copilotCTADialogCancelButton,onClick:()=>eG(!1)},{buttonType:"primary",content:ep.k.copilotCTADialogContinueButton,onClick:eY}],returnFocusRef:eH,children:ep.k.copilotCTADialogDescription}),eX&&(0,O.jsx)(ev,{isOpen:eW,onClose:()=>eQ(!1),onGenerate:(e,t)=>{a(e),l(t),eQ(!1)},repoOwner:e.owner.login,repoName:e.name,title:t,body:n,returnFocusRef:eH}),E&&(0,O.jsx)(el.l,{ref:D,title:"Error",description:(0,O.jsx)(er.o,{children:E}),variant:"critical",className:"CreateIssueForm-module__errorBanner--eNPfc",role:"alert"}),(0,O.jsx)(B.B,{isOpen:eS,onClose:eJ,onSubmit:(e,t,a,n)=>{eA({targetRepositoryId:e,baseRef:t,customInstructions:a,customAgent:n}),eJ()},repository:{name:e.name,owner:{login:e.owner.login}},returnFocusRef:ez}),(0,O.jsx)(eN,{title:t,titleInputRef:N,handleTitleChange:e=>{var t;t=e.currentTarget.value,(0,q.O_)(t).isValid&&w(void 0),a(t)},titleValidationResult:L}),eO&&!eV&&(0,O.jsxs)("div",{className:"CreateIssueForm-module__commentBox--vEs40",children:[(0,O.jsx)(U.hF,{subject:eO,label:ep.k.issueCreateBodyLabel,showLabel:!0,placeholder:ep.k.issueBodyPlaceholder,viewMode:F,onChangeViewMode:_,value:n,onSave:()=>C?.current?.onCreate(x,y),onChange:e=>{var t;t=e,A((0,q.QK)(t).errorMessage),l(t)},saveButtonTrailingIcon:!1,minHeightLines:h.insidePortal?14:20,"aria-describedby":T?eB:void 0,setIsFileUploading:j,footerButtons:e$}),T&&(0,O.jsxs)(ei.A,{variant:"danger",id:eB,children:[(0,O.jsx)(es.A,{icon:ea.AlertIcon}),T]})]}),eO&&eV&&(0,t_.GQ)(o.data)&&(0,O.jsx)(X.Z,{outputRef:c,issueFormRef:o.data,subject:eO,sessionStorageKey:ej,defaultValuesById:eM,onSave:()=>C?.current?.onCreate(x,y),setIsFileUploading:j,onFieldChange:g})]}),e0=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(tv,{}),P&&(0,O.jsx)(H.t,{supportFileUrl:P.supportFileUrl??void 0,codeOfConductFileUrl:P.codeOfConductFileUrl??void 0,securityPolicyUrl:P.securityPolicyUrl??void 0,contributingFileUrl:P.contributingFileUrl??void 0})]}),e1=p?null:(0,O.jsx)(O.Fragment,{children:d&&(0,O.jsx)(eo.az,{sx:{gridArea:"footer",mt:[4,4,2*!!eV]},children:d})});return I?(0,O.jsx)("div",{className:"CreateIssueForm-module__CreateIssueFormWrapper--xluI0",children:(0,O.jsxs)(eo.az,{className:(0,ed.$)("width-fit","CreateIssueForm-module__formGridContainer--SxqjE"),sx:{gridTemplateAreas:`
              "body metadata"
              "footer nil"
            `},children:[(0,O.jsx)("div",{className:"CreateIssueForm-module__mainContentSection--rApst",children:eZ}),(0,O.jsx)("div",{className:"CreateIssueForm-module__metadataSection--r67Zi",children:e0}),e1]})}):(0,O.jsxs)(O.Fragment,{children:[eZ,e0,e1]})};function tT(e){return Error(`Issue create mutation failed with error: ${e}`)}try{tw.displayName||(tw.displayName="CreateIssueForm")}catch{}},12360:(e,t,a)=>{a.d(t,{C:()=>c});var n=a(74848),l=a(21728),i=a(74807),s=a(38621),r=a(34164);let o={copilotAvatar:"CopilotAvatar-module__copilotAvatar--VK2n9",small:"CopilotAvatar-module__small--OG22P",medium:"CopilotAvatar-module__medium--onZfu",large:"CopilotAvatar-module__large--KgXbi",defaultStyle:"CopilotAvatar-module__defaultStyle--T4PhU"},d={small:{default:12,minimal:16},medium:{default:16,minimal:20},large:{default:24,minimal:32}};function c(e){let t,a,c,u=(0,l.c)(10),{size:m,minimal:p,className:g}=e,f=void 0===m?"small":m,h=void 0!==p&&p,y=void 0===g?"":g,b=h?d[f].minimal:d[f].default,k=o[f],x=!h&&o.defaultStyle;return u[0]!==y||u[1]!==k||u[2]!==x?(t=(0,r.$)(o.copilotAvatar,k,x,y),u[0]=y,u[1]=k,u[2]=x,u[3]=t):t=u[3],u[4]!==b||u[5]!==f?(a="large"===f?(0,n.jsx)(i.N,{animationType:"static",loopAnimation:!0,size:b}):(0,n.jsx)(s.CopilotIcon,{size:b}),u[4]=b,u[5]=f,u[6]=a):a=u[6],u[7]!==t||u[8]!==a?(c=(0,n.jsx)("span",{className:t,"data-testid":"copilot-avatar",role:"img","aria-label":"Copilot avatar",children:a}),u[7]=t,u[8]=a,u[9]=c):c=u[9],c}try{c.displayName||(c.displayName="CopilotAvatar")}catch{}},13083:(e,t,a)=>{function n(e){return`line-${e}`}function l(e,t,a){return`${e}${"left"===t?"L":"R"}${a}`}function i(e){return"DELETION"===e?"left":"right"}function s(e,t=!1,a=!1){if(a)return"var(--bgColor-attention-muted, var(--color-attention-subtle))";switch(e){case"ADDITION":return t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";case"DELETION":return t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";case"HUNK":return t?"var(--diffBlob-hunkNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";case"EMPTY":return t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";default:return}}function r(e){let t=0;if(e)for(let a of e)t=Math.max(t,a?.left??0,a?.right??0);return Math.max(8*t.toString().length+20,40).toString()}a.d(t,{IQ:()=>l,Sq:()=>n,XU:()=>i,c7:()=>r,gK:()=>s})},13771:(e,t,a)=>{a.d(t,{A:()=>n});let n={avatarOuter:"Avatar-module__avatarOuter--waYVs",avatarInner:"Avatar-module__avatarInner--leXLe",avatarLink:"Avatar-module__avatarLink--leRdV",hiddenActivityAvatar:"Avatar-module__hiddenActivityAvatar--SrQQa",activityAvatar:"Avatar-module__activityAvatar--xUQh3",issueViewerAvatar:"Avatar-module__issueViewerAvatar--LY0E0",avatarWithDivider:"Avatar-module__avatarWithDivider--ge7w7",avatarWithoutDivider:"Avatar-module__avatarWithoutDivider--XoLX3",avatarWithoutLink:"Avatar-module__avatarWithoutLink--sASpy"}},14307:(e,t,a)=>{a.d(t,{M3:()=>o,Nh:()=>d,Wk:()=>r,i4:()=>i});var n=a(35811),l=a(96540);let i=["GRAY","BLUE","GREEN","YELLOW","ORANGE","RED","PINK","PURPLE"],s={BLUE:"accent",GREEN:"success",YELLOW:"attention",ORANGE:"severe",RED:"danger",PINK:"sponsors",PURPLE:"done"},r=(e="GRAY")=>{let{getPresentationalColor:t}=o();return t(e)},o=()=>{let{theme:e,resolvedColorScheme:t="light"}=(0,n.DP)();return{getPresentationalColor:(0,l.useCallback)((a="GRAY")=>{let n=c(t),l=e?.colorSchemes?.[n]?.colors;if("GRAY"===a)return{bg:l?.canvas?.subtle,fg:l?.fg?.muted,border:l?.border?.default,accent:l?.fg?.subtle};{let e=l?.[s[a]];return{bg:e?.subtle,fg:e?.fg,border:e?.muted,accent:e?.emphasis}}},[e,t])}},d=e=>i.includes(e),c=e=>"light_colorblind"===e||"light_tritanopia"===e?"light":"dark_colorblind"===e||"dark_tritanopia"===e?"dark":e},14406:(e,t,a)=>{a.d(t,{o:()=>u});var n,l,i=a(74848),s=a(59394),r=a(96540),o=a(18312),d=a(69487);let c={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"unblockUserFromOrganizationMutation",selections:l=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UnblockUserFromOrganizationPayload",kind:"LinkedField",name:"unblockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"unblockUserFromOrganizationMutation",selections:l},params:{id:"3bb2b18124f6d9e474f1e4d67f4d648c",metadata:{},name:"unblockUserFromOrganizationMutation",operationKind:"mutation",text:null}};c.hash="05b84828fae0f7858c1ccd7347bfbb3e";let u=e=>e.onUnblock?(0,i.jsx)(p,{...e}):(0,i.jsx)(m,{...e}),m=({contentAuthor:e,organization:t,onClose:a,contentId:n})=>{let l=(0,o.useRelayEnvironment)(),u=(0,r.useCallback)(i=>{"confirm"===i&&function({environment:e,input:{organizationId:t,unblockedUserId:a},onError:n,onCompleted:l}){(0,o.commitMutation)(e,{mutation:c,variables:{input:{organizationId:t,unblockedUserId:a}},onError:e=>n&&n(e),onCompleted:()=>{l?.()}})}({environment:l,input:{unblockedUserId:e.id,organizationId:t.id},onCompleted:()=>(0,d.commitLocalUpdate)(l,e=>{let t=e.get(n);t?.setValue(!0,"pendingUnblock"),t?.setValue(!1,"pendingBlock")})}),a()},[a,l,e.id,t.id,n]);return(0,i.jsxs)(s.K,{title:`Unblock ${e.login} from ${t.login}`,confirmButtonContent:"Unblock user",confirmButtonType:"danger",onClose:u,children:["Are you sure you want to unblock ",(0,i.jsx)("strong",{children:e.login})," from ",(0,i.jsx)("strong",{children:t.login}),"?"]})},p=({contentAuthor:e,organization:t,onClose:a,onUnblock:n})=>{let l=(0,r.useCallback)(l=>{"confirm"===l&&n?.(t.login,e.login),a()},[a,n,t.login,e.login]);return(0,i.jsxs)(s.K,{title:`Unblock ${e.login} from ${t.login}`,confirmButtonContent:"Unblock user",confirmButtonType:"danger",onClose:l,children:["Are you sure you want to unblock ",(0,i.jsx)("strong",{children:e.login})," from ",(0,i.jsx)("strong",{children:t.login}),"?"]})};try{u.displayName||(u.displayName="UnblockUserFromOrgDialog")}catch{}try{m.displayName||(m.displayName="UnblockUserFromOrgDialogWithRelay")}catch{}try{p.displayName||(p.displayName="UnblockUserFromOrgDialogWithoutRelay")}catch{}},14709:(e,t,a)=>{a.d(t,{N:()=>o,z:()=>d});var n,l=a(74848),i=a(14307),s=a(38621),r=a(35811);function o(e){return"TEXT"===e?s.TypographyIcon:"SINGLE_SELECT"===e?s.SingleSelectIcon:"DATE"===e?s.CalendarIcon:"NUMBER"===e?s.NumberIcon:void 0}let d=e=>function(){let t=i.i4.find(t=>t===e),{bg:a,accent:n}=(0,i.Wk)(t);return(0,l.jsx)(r.az,{sx:{bg:a,borderColor:n,borderWidth:2,borderStyle:"solid",width:12,height:12,borderRadius:8,flexShrink:0}})};try{(n=IssueSingleSelectFieldPickerItemLeadingVisual).displayName||(n.displayName="IssueSingleSelectFieldPickerItemLeadingVisual")}catch{}},14969:(e,t,a)=>{a.d(t,{_:()=>C});var n,l,i=a(74848),s=a(43258),r=a(84268),o=a(94236),d=a(5524),c=a(21373),u=a(56149),m=a(15837),p=a(86877),g=a(39183),f=a(15220),h=a(96540),y=a(18312);let b={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"submitAbuseReportMutation",selections:l=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SubmitAbuseReportPayload",kind:"LinkedField",name:"submitAbuseReport",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"submitAbuseReportMutation",selections:l},params:{id:"0603fe0f6dabc68adea31e484c57deb7",metadata:{},name:"submitAbuseReportMutation",operationKind:"mutation",text:null}};b.hash="8b252221b8eab001809aa2a2d583cb84";let k="ReportContentDialog-module__ReportContentContainer--N0pcI",x="ReportContentDialog-module__ReportContentHelpText--z0X7C",v="ReportContentDialog-module__ReportContentSubmitButton--r7_yG",C=({owner:e,ownerUrl:t,reportUrl:a,contentId:n,onClose:l,contentType:C="content"})=>{let j=(0,y.useRelayEnvironment)(),{addToast:S}=(0,s.Y6)(),[I,N]=(0,h.useState)("Choose a reason"),[F,_]=(0,h.useState)(!1),[L,w]=(0,h.useState)("admins"),T=(0,h.useCallback)(()=>{var e;_(!0),function({environment:e,input:{reportedContentId:t,reason:a},onError:n,onCompleted:l}){(0,y.commitMutation)(e,{mutation:b,variables:{input:{reportedContent:t,reason:a}},onError:e=>n&&n(e),onCompleted:()=>l&&l()})}({environment:j,input:{reportedContentId:n,reason:"Choose a reason"===(e=I)?"UNSPECIFIED":e},onError(e){S({type:"error",message:`Unable to submit report: ${e}`}),_(!1)},onCompleted(){S({type:"success",message:"Report submitted"}),_(!1),l()}})},[S,n,j,l,I]),A=(0,i.jsxs)("div",{className:k,children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:[(0,i.jsxs)("span",{children:["This ",C," violates "]}),(0,i.jsx)(r.A,{inline:!0,href:t,children:`@${e}'s`}),(0,i.jsx)("span",{children:" Code of Conduct and should be submitted to the maintainers of this repository for review."})]}),(0,i.jsx)("p",{children:"This report, as well as your username as the reporter, will be viewable by all admins of this repository."}),(0,i.jsxs)("p",{children:["Choose a reason for reporting this ",C]})]}),(0,i.jsx)("div",{className:"ReportContentDialog-module__ReportContentSpacing--CM9Pl",children:(0,i.jsxs)(o.W,{children:[(0,i.jsx)(o.W.Button,{children:I}),(0,i.jsx)(o.W.Overlay,{children:(0,i.jsxs)(d.l,{children:[(0,i.jsx)(d.l.Item,{onSelect:()=>N("ABUSE"),children:"Abuse"}),(0,i.jsx)(d.l.Item,{onSelect:()=>N("SPAM"),children:"Spam"}),(0,i.jsx)(d.l.Item,{onSelect:()=>N("OFF_TOPIC"),children:"Off Topic"})]})})]})}),(0,i.jsxs)("div",{className:"ReportContentDialog-module__ReportContentTopMargin--f_wU_",children:[(0,i.jsxs)("div",{className:x,children:[(0,i.jsx)("span",{children:"Learn more about "}),(0,i.jsx)(r.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"requesting that maintainers moderate content."})]}),(0,i.jsx)(c.Q,{variant:"danger",onClick:()=>T(),disabled:F,className:v,children:"Report to repository admins"})]})]}),E=(0,i.jsxs)("div",{className:k,children:[(0,i.jsx)("span",{children:"Contact GitHub Support about this user's spammy or abusive behavior."}),(0,i.jsxs)("div",{className:"ReportContentDialog-module__ReportContentFooterSpacing--Eb8cV",children:[(0,i.jsxs)("div",{className:x,children:[(0,i.jsx)("span",{children:"Learn more about "}),(0,i.jsx)(r.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"reporting abuse to GitHub support"})]}),(0,i.jsx)(c.Q,{variant:"danger",as:"a",href:a,disabled:F,className:v,children:"Report abuse to GitHub support"})]})]});return(0,i.jsx)(u.ZL,{children:(0,i.jsx)(f.l,{title:`Report ${C}`,width:"xlarge",height:"auto",onClose:l,className:"ReportContentDialog-module__ReportContentDialog--WgQ4X",children:(0,i.jsxs)("div",{className:"ReportContentDialog-module__ReportContentRadioContainer--hWsdC",children:[(0,i.jsxs)(m.A,{name:"choiceGroup",onChange:e=>{w(e)},children:[(0,i.jsxs)(m.A.Label,{className:"ReportContentDialog-module__ReportContentRadioLabel--V9lmm",children:["Where would you like to report this ",C," to?"]}),(0,i.jsxs)(p.A,{children:[(0,i.jsx)(g.A,{value:"admins",defaultChecked:!0}),(0,i.jsx)(p.A.Label,{children:"To repository admins"})]}),(0,i.jsxs)(p.A,{children:[(0,i.jsx)(g.A,{value:"support"}),(0,i.jsx)(p.A.Label,{children:"To GitHub support"})]})]}),"admins"===L&&A,"support"===L&&E]})})})};try{C.displayName||(C.displayName="ReportContentDialog")}catch{}},16642:(e,t,a)=>{a.d(t,{S:()=>n});let n={createIssueError:"Unable to create issue.",unableToLoadSelectedTemplate:"Unable to selected template"}},16790:(e,t,a)=>{a.d(t,{eX:()=>r,xe:()=>o,zq:()=>s});var n=a(74848),l=a(96540);let i=(0,l.createContext)({loggingPayload:void 0,loggingPrefix:void 0});function s({children:e,loggingInfo:t}){return(0,n.jsx)(i.Provider,{value:t,children:e})}function r(){let e=(0,l.useContext)(i);return void 0!==e.loggingPayload&&void 0!==e.loggingPrefix}function o(){return(0,l.useContext)(i)}try{i.displayName||(i.displayName="CommitsLoggingContext")}catch{}try{s.displayName||(s.displayName="CommitsLoggingInfoProvider")}catch{}},16810:(e,t,a)=>{a.d(t,{w:()=>s});var n=a(74848),l=a(35811),i=a(34164);function s({children:e,emptyText:t,sectionHeader:a,sectionFooter:s,hideDivider:r,id:o,sx:d,className:c}){return(0,n.jsxs)(l.az,{"data-testid":o??"sidebar-section",sx:{marginBottom:2*!r,":after":r?void 0:{content:'""',position:"absolute",height:"1px",bottom:"-8px",left:"8px",right:"8px",bg:"border.muted"},...d},className:(0,i.$)("Section-module__SectionContainer--bIlEv",c),children:[(0,n.jsxs)("div",{className:"Section-module__headerContentWrapper--OIm9m",children:[a,t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"Section-module__emptyText--qZ0Bc",children:t}),(0,n.jsx)("div",{className:"Section-module__hiddenChildrenContainer--X126P",children:e})]})]}),!t&&(0,n.jsx)("div",{className:"Section-module__childrenContainer--bY_oH",children:e}),s]})}try{s.displayName||(s.displayName="Section")}catch{}},17831:(e,t,a)=>{a.d(t,{s:()=>p,u:()=>g});var n=a(74848),l=a(17855),i=a(32232),s=a(71315),r=a(40104),o=a(96540),d=a(79403);function c(e,t,a,n){if(!e)return{projectsToSet:[],milestoneToSet:null};let l=n?.repository?.owner.login===n?.selectedRepository?.owner.login,i=l&&n?.repository?.name===n?.selectedRepository?.name;return{projectsToSet:l&&t.length>0?t:[],milestoneToSet:i&&a?a:null}}var u=a(81724);let m=(0,o.createContext)(null);function p({optionConfig:e,preselectedData:t,children:a}){let{storageKeyPrefix:p,issueCreateArguments:g}=e,{issueTitle:f,issueBody:h}=d.tT.localTitleAndBodyStorageKeys,{issueLabels:y,issueAssignees:b,issueProjects:k,issueMilestone:x,issueIssueType:v,issueIssueFields:C}=d.tT.localStorageMetadataKeys,[j,S]=(0,o.useState)(t?.repository),[I,N]=(0,o.useState)(t?.template),[F,_]=(0,o.useState)(`${p}.${I?.fileName||u.$K}`),L="";if(g?.initialValues?.discussion)L=g?.initialValues?.discussion.title;else if(g?.initialValues?.title)L=g?.initialValues?.title;else if(I){let e,t=(e="",I?.data&&(e=I?.data.title||""),e),a="";g?.initialValues?.appendTitleToTemplate&&(a=` ${g?.initialValues?.appendTitleToTemplate}`),L=[t,a].join("").trimStart()}else g?.initialValues?.appendTitleToTemplate&&(L=g?.initialValues?.appendTitleToTemplate);let[w,T,A]=(0,r.Fo)(f(F),L),E="";if(g?.initialValues?.discussion)E=g?.initialValues?.discussion.formattedBody;else if(g?.initialValues?.body)E=g?.initialValues?.body;else{let e;I&&(e="",I?.data&&(0,u.Al)(I?.data)&&(e=I?.data.body||""),E=e)}let[K,P,D]=(0,r.Fo)(h(F),E),R=[];if(g?.initialValues?.discussion)R=g?.initialValues?.discussion?.labels||[];else if(g?.initialValues?.labels)R=g?.initialValues?.labels;else{let e;I&&(e=[],I?.data&&(e=I?.data.labels?.edges?.flatMap(e=>e?.node?[e?.node]:[])||[]),R=e)}let[M,V,O]=(0,r.Fo)(y(F),R),B=[];if(g?.initialValues?.assignees)B=g?.initialValues?.assignees;else{let e;I&&(e=[],I?.data&&(e=I?.data.assignees?.edges?.flatMap(e=>e?.node?[(0,i.uX)(e?.node)]:[])||[]),B=e)}let[$,U,H]=(0,r.Fo)(b(F),B),z=(0,o.useMemo)(()=>g?.initialValues?.projects??[],[g?.initialValues?.projects]),q=function(e){let t,{template:a,projects:n=[],isParentInheritance:l=!1}=e;if(!l&&n.length>0)return n;let i=a?(t=[],a?.data&&(0,u.GQ)(a?.data)&&(t=a.data.projects?.edges?.flatMap(e=>e?.node?[e.node]:[])||[]),t):[];return i.length>0?i:n}({template:I,projects:g?.initialValues?.projects??[],isParentInheritance:!!g?.parentIssue}),[G,W,Q]=(0,r.Fo)(k(F),q),X=(0,o.useMemo)(()=>g?.initialValues?.milestone??null,[g?.initialValues?.milestone]),Y=(0,o.useMemo)(()=>X&&t?.parentIssue?c(!0,[],X,{repository:t?.repository,selectedRepository:j}).milestoneToSet:X,[X,t?.parentIssue,t?.repository,j]),[J,Z,ee]=(0,r.Fo)(x(F),Y),et=null;if(g?.initialValues?.type)et=g?.initialValues?.type;else{let e;I&&(e=null,I?.data&&((0,u.GQ)(I?.data)||(0,u.Al)(I?.data))&&(e=I?.data.type||null),et=e)}let[ea,en,el]=(0,r.Fo)(v(F),et),[ei,es]=(0,r.Fo)(C(F),[]),[er,eo]=(0,o.useState)(!1),[ed,ec]=(0,o.useState)(null),[eu,em]=(0,o.useState)(w),[ep,eg]=(0,o.useState)(K),ef=(0,o.useCallback)(e=>{T(e),em(e)},[T,em]),eh=(0,o.useCallback)(e=>{P(e),eg(e)},[P,eg]),ey=(0,o.useCallback)(t=>{U(t),!e.disableCopilotAssignmentModal&&t.some(e=>(0,l.v)(e.login))&&eo(!0)},[U,e.disableCopilotAssignmentModal]),eb=(0,o.useCallback)(e=>{ey([]),V([]),es([]);let a=c(!!t?.parentIssue,z,X,e);W(a.projectsToSet),Z(a.milestoneToSet)},[ey,V,es,t?.parentIssue,X,z,W,Z]),ek=(0,o.useCallback)(()=>{(0,r.D6)((0,d.wK)(F))},[F]),ex=(0,o.useCallback)(()=>{(0,r.D6)((0,d.Zf)(F))},[F]),ev=(0,o.useCallback)(()=>{(0,r.D6)((0,d.bV)(F))},[F]),eC=(0,o.useCallback)(()=>{(0,r.D6)([`config.${d.tT.localStorageKeys.issueCreateMore(p)}`])},[p]),ej=(0,o.useCallback)(()=>{T(""),P(""),em(""),eg("")},[T,P,em,eg]),eS=s.fV?.origin??"",eI=j?.nameWithOwner??"",eN=(0,o.useMemo)(()=>`${eS}/${eI}`,[eS,eI]),eF=t?.parentIssue??null,e_=(0,o.useCallback)(e=>{N(e),_(`${p}.${e?.fileName||u.$K}`)},[p]),eL=(0,o.useMemo)(()=>({reinitTitle:A,reinitBody:D,reinitAssignees:H,reinitLabels:O,reinitProjects:Q,reinitMilestone:ee,reinitIssueType:el,usedStorageKeyPrefix:F,clearSessionData:ek,clearSessionMetadata:ex,clearSessionTitleAndBody:ev,clearSessionCreateMore:eC,resetMetadata:eb,clearTitleAndBody:ej,setNewTitle:ef,setNewBody:eh,originalTitle:eu,setOriginalTitle:em,originalBody:ep,setOriginalBody:eg,title:w,setTitle:T,body:K,setBody:P,repository:j,setRepository:S,repositoryAbsolutePath:eN,template:I,setTemplate:e_,preselectedRepository:t?.repository,preselectedTemplate:t?.template,labels:M,setLabels:V,assignees:$,setAssignees:ey,projects:G,setProjects:W,milestone:J,setMilestone:Z,issueType:ea,setIssueType:en,issueFields:ei,setIssueFields:es,parentIssue:eF,isCrossRepositoryDialogOpen:er,setIsCrossRepositoryDialogOpen:eo,copilotAssignmentAttributes:ed,setCopilotAssignmentAttributes:ec}),[A,D,H,O,Q,ee,el,F,ek,ex,ev,eC,eb,ej,ef,eh,eu,ep,w,T,K,P,j,eN,I,e_,t?.repository,t?.template,M,V,$,ey,G,W,J,Z,ea,en,ei,es,eF,er,ed]);return(0,n.jsx)(m.Provider,{value:eL,children:a})}let g=()=>{let e=(0,o.useContext)(m);if(!e)throw Error("useIssueCreateDataContext must be used within a IssueCreateDataContextProvider.");return e};try{m.displayName||(m.displayName="IssueCreateDataContext")}catch{}try{p.displayName||(p.displayName="IssueCreateDataContextProvider")}catch{}},17855:(e,t,a)=>{a.d(t,{v:()=>n});function n(e){let t=e.toLocaleLowerCase();return"copilot-swe-agent"===t||"copilot"===t}},18815:(e,t,a)=>{a.d(t,{AE:()=>l,En:()=>n,ek:()=>o,gO:()=>r,jX:()=>i,u4:()=>s});let n=25,l=50,i=64,s=256,r=["issue","pr","pull-request","pull request"],o=10},19976:(e,t,a)=>{a.d(t,{Jg:()=>c,nq:()=>u,uP:()=>m.u,$e:()=>h,P3:()=>g,wj:()=>y,l4:()=>j,Qe:()=>b,Ah:()=>I});var n=a(74848),l=a(21728),i=a(34164),s=a(73017),r=a(13083);let o=e=>{let t,a,o,d,c,u,m,p,g,f,h=(0,l.c)(34),{dragging:y,isHighlighted:b,isLeftColumn:k,colSpan:x,line:v,lineAnchor:C}=e,j=v.html,S="";if(["ADDITION","DELETION"].includes(v.type)&&["+","-"].includes(j[0])){let e;S=j[0],h[0]!==j?(e=j.slice(1),h[0]=j,h[1]=e):e=h[1],j=e}let I=y&&b,N=k&&"HUNK"!==v.type;h[2]!==I||h[3]!==N?(t=(0,i.$)("diff-text-cell",{"border-left color-border-accent-emphasis":I,"border-right":N}),h[2]=I,h[3]=N,h[4]=t):t=h[4],h[5]!==C?(a=C?(0,r.Sq)(C):void 0,h[5]=C,h[6]=a):a=h[6],h[7]!==b||h[8]!==v.type?(o=(0,r.gK)(v.type,!1,b),h[7]=b,h[8]=v.type,h[9]=o):o=h[9],h[10]!==o?(d={backgroundColor:o},h[10]=o,h[11]=d):d=h[11];let F=S,_="ADDITION"===v.type,L="DELETION"===v.type;h[12]!==_||h[13]!==L?(c=(0,i.$)("diff-text syntax-highlighted-line",{addition:_,deletion:L}),h[12]=_,h[13]=L,h[14]=c):c=h[14];let w=e.lineChild,T="HUNK"===v.type;h[15]!==T?(u=(0,i.$)("diff-text-inner",{"color-fg-muted":T}),h[15]=T,h[16]=u):u=h[16];let A="CONTEXT"===v.type?"-7px":void 0;return h[17]!==A?(m={marginLeft:A},h[17]=A,h[18]=m):m=h[18],h[19]!==j||h[20]!==u||h[21]!==m?(p=(0,n.jsx)(s.$6,{className:u,html:j,style:m}),h[19]=j,h[20]=u,h[21]=m,h[22]=p):p=h[22],h[23]!==S||h[24]!==e.lineChild||h[25]!==p||h[26]!==c?(g=(0,n.jsxs)("code",{"data-code-marker":F,className:c,children:[w,p]}),h[23]=S,h[24]=e.lineChild,h[25]=p,h[26]=c,h[27]=g):g=h[27],h[28]!==x||h[29]!==g||h[30]!==t||h[31]!==a||h[32]!==d?(f=(0,n.jsx)("td",{className:t,colSpan:x,id:a,style:d,children:g}),h[28]=x,h[29]=g,h[30]=t,h[31]=a,h[32]=d,h[33]=f):f=h[33],f};try{o.displayName||(o.displayName="DiffText")}catch{}let d=e=>{let t,a,s,o,d,c,u,m,p,g,f,h,y,b=(0,l.c)(30);b[0]!==e?({ariaLabel:t,children:a,hasExpanderButton:o,lineType:u,colSpan:s,interactiveProps:d,isHighlighted:c,...m}=e,b[0]=e,b[1]=t,b[2]=a,b[3]=s,b[4]=o,b[5]=d,b[6]=c,b[7]=u,b[8]=m):(t=b[1],a=b[2],s=b[3],o=b[4],d=b[5],c=b[6],u=b[7],m=b[8]),b[9]!==a?(p=(0,n.jsx)("code",{className:"pr-2",children:a}),b[9]=a,b[10]=p):p=b[10];let k=p;if(d){let e;b[11]!==t||b[12]!==d||b[13]!==k?(e=(0,n.jsx)("button",{className:"diff-line-number-button",...d,"aria-label":t,children:k}),b[11]=t,b[12]=d,b[13]=k,b[14]=e):e=b[14],k=e}let x=d?void 0:t,v=!!d;b[15]!==o||b[16]!==v?(g=(0,i.$)("diff-line-number",{"has-expander":o,clickable:v}),b[15]=o,b[16]=v,b[17]=g):g=b[17];let C=s||1;return b[18]!==c||b[19]!==u?(f=(0,r.gK)(u,!0,c),b[18]=c,b[19]=u,b[20]=f):f=b[20],b[21]!==f?(h={backgroundColor:f},b[21]=f,b[22]=h):h=b[22],b[23]!==m||b[24]!==x||b[25]!==g||b[26]!==C||b[27]!==h||b[28]!==k?(y=(0,n.jsx)("td",{"aria-label":x,"data-line-number":!0,className:g,colSpan:C,style:h,...m,children:k}),b[23]=m,b[24]=x,b[25]=g,b[26]=C,b[27]=h,b[28]=k,b[29]=y):y=b[29],y};try{d.displayName||(d.displayName="LineNumber")}catch{}let c=e=>{let t,a,i,s,r=(0,l.c)(28),{dragging:c,isHighlighted:u,isLeftColumn:m,isSplit:p,lineAnchor:g,line:f,lineChild:h,onLineNumberClick:y}=e,b="CONTEXT"===f.type||"INJECTED_CONTEXT"===f.type,k="ADDITION"!==f.type,x=k||!p,v="DELETION"!==f.type,C=v&&!b||!p,j=p&&b?m?f.left:f.right:f.left;return r[0]!==j||r[1]!==u||r[2]!==f.left||r[3]!==f.right||r[4]!==f.type||r[5]!==y||r[6]!==k||r[7]!==x?(t=x&&(0,n.jsx)(d,{ariaLabel:`Line ${k?f.left?.toString():f.right?.toString()}`,lineType:f.type,interactiveProps:y?{onClick:y}:null,isHighlighted:u,children:k&&j}),r[0]=j,r[1]=u,r[2]=f.left,r[3]=f.right,r[4]=f.type,r[5]=y,r[6]=k,r[7]=x,r[8]=t):t=r[8],r[9]!==u||r[10]!==f.left||r[11]!==f.right||r[12]!==f.type||r[13]!==y||r[14]!==v||r[15]!==C?(a=C&&(0,n.jsx)(d,{ariaLabel:`Line ${v?f.right?.toString():f.left?.toString()}`,lineType:f.type,interactiveProps:y?{onClick:y}:null,isHighlighted:u,children:v&&f.right}),r[9]=u,r[10]=f.left,r[11]=f.right,r[12]=f.type,r[13]=y,r[14]=v,r[15]=C,r[16]=a):a=r[16],r[17]!==c||r[18]!==u||r[19]!==m||r[20]!==f||r[21]!==g||r[22]!==h?(i=(0,n.jsx)(o,{dragging:c,isHighlighted:u,isLeftColumn:m,line:f,lineAnchor:g,lineChild:h}),r[17]=c,r[18]=u,r[19]=m,r[20]=f,r[21]=g,r[22]=h,r[23]=i):i=r[23],r[24]!==t||r[25]!==a||r[26]!==i?(s=(0,n.jsxs)(n.Fragment,{children:[t,a,i]}),r[24]=t,r[25]=a,r[26]=i,r[27]=s):s=r[27],s};try{c.displayName||(c.displayName="DiffLinePart")}catch{}function u(){let e,t,a=(0,l.c)(2);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsxs)("clipPath",{id:"diff-placeholder",children:[(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"67.0175439",x:"0",y:"0"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"100.701754",x:"18.9473684",y:"47.7194983"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"37.8947368",x:"0",y:"71.930126"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"53.3333333",x:"127.017544",y:"48.0703769"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"72.9824561",x:"187.719298",y:"48.0703769"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"76.8421053",y:"0"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"17.8947368",y:"23.8597491"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"173.684211",x:"166.315789",y:"23.8597491"})]}),a[0]=e):e=a[0],a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("svg",{"aria-hidden":"true",version:"1.1",viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",className:"DiffPlaceholder-module__DiffPlaceholderSVG--zRrf1",children:(0,n.jsxs)("defs",{children:[e,(0,n.jsxs)("linearGradient",{id:"animated-diff-gradient",spreadMethod:"reflect",x1:"0",x2:"0",y1:"0",y2:"1",children:[(0,n.jsx)("stop",{offset:"0",stopColor:"#eee"}),(0,n.jsx)("stop",{offset:"0.2",stopColor:"#eee"}),(0,n.jsx)("stop",{offset:"0.5",stopColor:"#ddd"}),(0,n.jsx)("stop",{offset:"0.8",stopColor:"#eee"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#eee"}),(0,n.jsx)("animateTransform",{attributeName:"y1",dur:"1s",repeatCount:"3",values:"0%; 100%; 0"}),(0,n.jsx)("animateTransform",{attributeName:"y2",dur:"1s",repeatCount:"3",values:"100%; 200%; 0"})]})]})}),a[1]=t):t=a[1],t}try{u.displayName||(u.displayName="DiffPlaceholder")}catch{}var m=a(88098);a(91618);var p=a(38621);function g(e){let t,a,i,s=(0,l.c)(10),{currentLine:r,hunkButton:c,isLeftColumn:u,isSplit:m}=e;if(m&&!u)return null;s[0]!==r.type||s[1]!==c||s[2]!==m?(t=c?(0,n.jsx)(d,{colSpan:m?1:2,hasExpanderButton:!0,lineType:r.type,children:c}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d,{lineType:r.type,children:(0,n.jsx)(p.KebabHorizontalIcon,{})}),!m&&(0,n.jsx)(d,{lineType:r.type,children:(0,n.jsx)(p.KebabHorizontalIcon,{})})]}),s[0]=r.type,s[1]=c,s[2]=m,s[3]=t):t=s[3];let g=m?3:void 0;return s[4]!==r||s[5]!==g?(a=(0,n.jsx)(o,{isHighlighted:!1,isLeftColumn:!0,colSpan:g,line:r}),s[4]=r,s[5]=g,s[6]=a):a=s[6],s[7]!==t||s[8]!==a?(i=(0,n.jsxs)(n.Fragment,{children:[t,a]}),s[7]=t,s[8]=a,s[9]=i):i=s[9],i}try{g.displayName||(g.displayName="HunkHeaderDiffLine")}catch{}function f(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"hunk-kebab-icon pr-2 pb-1",children:(0,n.jsx)(p.KebabHorizontalIcon,{})}),t[0]=e):e=t[0],e}try{f.displayName||(f.displayName="HunkKebabIcon")}catch{}function h(e){let t,a,s,r=(0,l.c)(5),{isLeftColumn:o}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(d,{lineType:"EMPTY"}),r[0]=t):t=r[0],r[1]!==o?(a=(0,i.$)("empty-diff-line",{"border-right":o}),r[1]=o,r[2]=a):a=r[2],r[3]!==a?(s=(0,n.jsxs)(n.Fragment,{children:[t,(0,n.jsx)("td",{className:a,colSpan:1})]}),r[3]=a,r[4]=s):s=r[4],s}try{h.displayName||(h.displayName="EmptyDiffLine")}catch{}function y(e){let t,a,i,s,r,o,d,c,u=(0,l.c)(15);return u[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("thead",{className:"sr-only",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",children:"Original file line number"}),(0,n.jsx)("th",{scope:"col",children:"Original file line"}),(0,n.jsx)("th",{scope:"col",children:"Diff line number"}),(0,n.jsx)("th",{scope:"col",children:"Diff line change"})]})}),u[0]=t):t=u[0],u[1]!==e.lineWidth?(a=(0,n.jsx)("col",{width:e.lineWidth}),u[1]=e.lineWidth,u[2]=a):a=u[2],u[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)("col",{}),u[3]=i):i=u[3],u[4]!==e.lineWidth?(s=(0,n.jsx)("col",{width:e.lineWidth}),u[4]=e.lineWidth,u[5]=s):s=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)("col",{}),u[6]=r):r=u[6],u[7]!==a||u[8]!==s?(o=(0,n.jsxs)("colgroup",{children:[a,i,s,r]}),u[7]=a,u[8]=s,u[9]=o):o=u[9],u[10]!==e.children?(d=(0,n.jsx)("tbody",{children:e.children}),u[10]=e.children,u[11]=d):d=u[11],u[12]!==o||u[13]!==d?(c=(0,n.jsxs)(n.Fragment,{children:[t,o,d]}),u[12]=o,u[13]=d,u[14]=c):c=u[14],c}try{y.displayName||(y.displayName="SplitDiffTable")}catch{}function b(e){let t,a,i,s,r,o,d,c=(0,l.c)(13);return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("thead",{className:"sr-only",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",children:"Original file line number"}),(0,n.jsx)("th",{scope:"col",children:"Diff line number"}),(0,n.jsx)("th",{scope:"col",children:"Diff line change"})]})}),c[0]=t):t=c[0],c[1]!==e.lineWidth?(a=(0,n.jsx)("col",{width:e.lineWidth}),i=(0,n.jsx)("col",{width:e.lineWidth}),c[1]=e.lineWidth,c[2]=a,c[3]=i):(a=c[2],i=c[3]),c[4]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)("col",{width:"100%"}),c[4]=s):s=c[4],c[5]!==a||c[6]!==i?(r=(0,n.jsxs)("colgroup",{children:[a,i,s]}),c[5]=a,c[6]=i,c[7]=r):r=c[7],c[8]!==e.children?(o=(0,n.jsx)("tbody",{children:e.children}),c[8]=e.children,c[9]=o):o=c[9],c[10]!==r||c[11]!==o?(d=(0,n.jsxs)(n.Fragment,{children:[t,r,o]}),c[10]=r,c[11]=o,c[12]=d):d=c[12],d}try{b.displayName||(b.displayName="UnifiedDiffTable")}catch{}let k="UnifiedDiffLines-module__diffTextInner--z42oB";function x(e){let t,a,i,s,o=(0,l.c)(9),{line:d,children:c}=e;return o[0]!==d.type?(t=(0,r.gK)(d.type,!0),o[0]=d.type,o[1]=t):t=o[1],o[2]!==t?(a={backgroundColor:t,textAlign:"center"},o[2]=t,o[3]=a):a=o[3],o[4]!==c?(i=(0,n.jsx)("code",{children:c}),o[4]=c,o[5]=i):i=o[5],o[6]!==a||o[7]!==i?(s=(0,n.jsx)("td",{className:"UnifiedDiffLines-module__diffLineNumber--Ls6hS",style:a,children:i}),o[6]=a,o[7]=i,o[8]=s):s=o[8],s}function v(e){let t,a,r,o=(0,l.c)(4),{line:d}=e;o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(f,{}),o[0]=t):t=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.$)(k,"color-fg-muted"),o[1]=a):a=o[1];let c=d.html;return o[2]!==c?(r=(0,n.jsx)("td",{colSpan:4,className:"UnifiedDiffLines-module__diffHunkCell--PwOTu",valign:"top",children:(0,n.jsxs)("div",{className:"d-flex flex-row",children:[t,(0,n.jsx)("code",{className:"UnifiedDiffLines-module__diffHunkText--nwvt0",children:(0,n.jsx)(s.$6,{className:a,html:c})})]})}),o[2]=c,o[3]=r):r=o[3],r}function C(e){let t,a,o,d=(0,l.c)(13),{line:c}=e,u="HUNK"===c.type,m="ADDITION"!==c.type,p="DELETION"!==c.type,g="ADDITION"===c.type?"+":"DELETION"===c.type?"-":void 0,f=!!g;return d[0]!==u||d[1]!==c?(t=u&&(0,n.jsx)(v,{line:c}),d[0]=u,d[1]=c,d[2]=t):t=d[2],d[3]!==u||d[4]!==c||d[5]!==g||d[6]!==m||d[7]!==f||d[8]!==p?(a=!u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{line:c,children:m&&c.left}),(0,n.jsx)(x,{line:c,children:p&&c.right}),(0,n.jsx)("td",{className:"UnifiedDiffLines-module__diffTextCell--y7sIw",style:{backgroundColor:(0,r.gK)(c.type,!1)},children:(0,n.jsxs)("code",{className:(0,i.$)("ADDITION"===c.type&&"UnifiedDiffLines-module__syntaxHighlightedAdditionLine--GBB6F","DELETION"===c.type&&"UnifiedDiffLines-module__syntaxHighlightedDeletionLine--mmCob"),children:[f&&(0,n.jsx)("span",{className:"UnifiedDiffLines-module__diffTextMarker--XE3qq",children:g}),(0,n.jsx)(s.$6,{className:k,html:c.html,style:{backgroundColor:(0,r.gK)(c.type,!1)}})]})})]}),d[3]=u,d[4]=c,d[5]=g,d[6]=m,d[7]=f,d[8]=p,d[9]=a):a=d[9],d[10]!==t||d[11]!==a?(o=(0,n.jsxs)("tr",{children:[t,a]}),d[10]=t,d[11]=a,d[12]=o):o=d[12],o}function j(e){let t,a,s,r,o=(0,l.c)(14),{className:d,lines:c,lineWidth:u,tabSize:m}=e;if(o[0]!==c||o[1]!==m){let e;o[3]!==m?(e=(e,t)=>(0,n.jsx)(C,{line:e,tabSize:m},t),o[3]=m,o[4]=e):e=o[4],t=c.map(e),o[0]=c,o[1]=m,o[2]=t}else t=o[2];let p=t;return o[5]!==d?(a=(0,i.$)("UnifiedDiffLines-module__unifiedDiffLines--UDm5a",d,"tab-size"),o[5]=d,o[6]=a):a=o[6],o[7]!==p||o[8]!==u?(s=(0,n.jsx)(b,{lineWidth:u,children:p}),o[7]=p,o[8]=u,o[9]=s):s=o[9],o[10]!==a||o[11]!==s||o[12]!==m?(r=(0,n.jsx)("table",{className:a,"data-tab-size":m,children:s}),o[10]=a,o[11]=s,o[12]=m,o[13]=r):r=o[13],r}try{x.displayName||(x.displayName="LineNumberCell")}catch{}try{v.displayName||(v.displayName="HunkCell")}catch{}try{C.displayName||(C.displayName="UnifiedDiffRow")}catch{}try{j.displayName||(j.displayName="UnifiedDiffLines")}catch{}function S(e){return"LEFT"===e?"-":"RIGHT"===e?"+":""}function I({startDiffSide:e,endDiffSide:t,originalStartLine:a,originalEndLine:n}){return e&&t&&"number"==typeof a&&"number"==typeof n?0===a&&1===n&&e===t?"-1 to +1":e===t&&a===n?`${S(e)}${a}`:`${S(e)}${a} to ${S(t)}${n}`:""}},20177:(e,t,a)=>{a.d(t,{Y:()=>n});let n={assignees:"issue-assignees",issueLabels:"issue-labels",milestoneContainer:"issue-milestone-container",milestoneProgressIcon:"issue-milestone-progress-bar",typeContainer:"issue-type-container"}},20403:(e,t,a)=>{a.d(t,{S:()=>l});var n=a(25407);function l(e,{isCopilot:t=!1,tracking:a=!0}={}){return t?function(e,{tracking:t=!0}={}){let a={"data-hovercard-url":(0,n._nf)({bot_slug:e}),"data-hovercard-type":"copilot"};return t?i(a):a}(e,{tracking:a}):function(e,{tracking:t=!0}={}){let a={"data-hovercard-url":(0,n.dCN)({owner:e}),"data-hovercard-type":"user"};return t?i(a):a}(e,{tracking:a})}function i(e){return{...e,"octo-click":"hovercard-link-click","octo-dimensions":"link_type:self"}}},20459:(e,t,a)=>{a.d(t,{E:()=>o,s:()=>i});var n=a(66661),l=a(96760);function i(e){if(!e)return e;let t=e.split(`
`),a="";for(let e of t)a=a.concat(`> ${e}
`);return a}let s=e=>"none"===e.style.display||"hidden"===e.style.visibility||"true"===e.ariaHidden,r=e=>{let t=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,{acceptNode:()=>NodeFilter.FILTER_ACCEPT}),a=t.nextNode();for(;a;)a instanceof HTMLElement&&s(a)&&a.remove(),a=t.nextNode()};function o(e,t,a){if(!e)return;let i=e.querySelector((0,l.Sp)(l.mU.markdownBody)),s=new n.g("",r);t&&i.contains(t.anchorNode)&&i.contains(t.range.startContainer)&&i.contains(t.range.endContainer)&&!t.range.collapsed&&""!==t.range.toString().trim()?s.range=t.range:s.select(i),a&&(s.processSelectionTextFn=e=>{for(let t of a.matchAll(/(!\[[^[]+?\]\([^()]+\/)([\w\d-]+)(.+)/g)){let a=t[1],n=t[2],l=t[3];if(!a||!n||!l)continue;let i=`${a}${n}${l.split(")")[0]})`,s=e.split(n);if(s.length<2)continue;let r=s[0]?.match(/!\[[^[]+$/),o=s[1]?.split(")")[0],d=`${r}${n}${o})`;e=e.replaceAll(d,i)}return e});let o=(0,l.tD)();if(o){let e=o?.querySelector("textarea"),t=o?.querySelector("button");if(e)return s.insert(e),e.value;if(t)return s.quotedText}}},20622:(e,t,a)=>{a.d(t,{u:()=>n});let n={baseComparisonInfo:"base_comparison_info",changeGroups:"change_groups",codeButton:"code_button",codeowners:"codeowners",diffEntries:"diff_entries",diffstat:"diffstat",header:"header",mergeBox:"merge_box",mergeInstructions:"merge_instructions",pendingReview:"pending_review",statusChecks:"status_checks",tabCounts:"tab_counts",threadPreviews:"thread_previews",diffSummaries:"diff_summaries",diffViewUserSettings:"user_diff_view_settings",diffContextLines:"diff_entry_lines",richDiff:"rich_diff",abandonReview:"abandon_review",addCommentReaction:"add_comment_reaction",changeBase:"change_base",cleanupCodespaces:"cleanup_codespaces",convertToDraft:"convert_to_draft",createReviewComment:"create_review_comment",deleteHeadRef:"delete_head_ref",dequeuePullRequest:"dequeue_pull_request",disableAutoMerge:"disable_auto_merge",dismissReview:"dismiss_review",enableAutoMerge:"enable_auto_merge",generateChangeGroups:"generate_change_groups",markReadyForReview:"mark_ready_for_review",merge:"merge",removeCommentReaction:"remove_comment_reaction",reRequestReviewFromUser:"re_request_review_from_user",restoreHeadRef:"restore_head_ref",resolveThread:"resolve_thread",runActionRequiredWorkflows:"run_action_required_workflows",submitCopilotGroupsFeedback:"submit_copilot_groups_feedback",submitReview:"submit_review",submitSuggestedChanges:"apply_suggestions",unresolveThread:"unresolve_thread",updateReviewComment:"update_review_comment",updatePullRequestBranch:"update_pull_request_branch",updateTitle:"update_title",updateShowChangeGroupsPreference:"update_show_change_groups_preference",updateDiffViewUserSettings:"update_diff_view_user_settings",updateViewedFiles:"update_viewed_files",updateMergeBoxUserPreference:"update_merge_box_user_preference",updateWhitespacePreference:"update_whitespace_preference",hideComment:"hide_comment",unhideComment:"unhide_comment",addSuggestionToBatch:"add_suggestion_to_batch",removeSuggestionFromBatch:"remove_suggestion_from_batch",discardSuggestionBatch:"discard_suggestion_batch"}},21052:(e,t,a)=>{a.d(t,{N:()=>u});let n={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"setLabelsForLabelableRelayMutation",selections:[{alias:null,args:i=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SetLabelsForLabelablePayload",kind:"LinkedField",name:"setLabelsForLabelable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"labelableRecord",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"LabelPickerAssignedLabels"},{args:null,kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"setLabelsForLabelableRelayMutation",selections:[{alias:null,args:i,concreteType:"SetLabelsForLabelablePayload",kind:"LinkedField",name:"setLabelsForLabelable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"labelableRecord",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isLabelable"},{alias:null,args:r=[{kind:"Literal",name:"first",value:100},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'labels(first:100,orderBy:{"direction":"ASC","field":"NAME"})'},{alias:null,args:r,filters:d=["orderBy"],handle:"connection",key:"LabelPickerLabel_labels",kind:"LinkedHandle",name:"labels"},{alias:null,args:r,filters:d,handle:"connection",key:"MetadataSectionAssignedLabels_labels",kind:"LinkedHandle",name:"labels"},{kind:"InlineFragment",selections:[o],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}]},params:{id:"cc27faa8796e4e88179a62e698c107d0",metadata:{},name:"setLabelsForLabelableRelayMutation",operationKind:"mutation",text:null}};n.hash="2e1af78830e66ce4f38c9225b2337b75";var l,i,s,r,o,d,c=a(18312);function u({environment:e,input:{labelableId:t,labels:a,labelableTypeName:l},clientMutationId:i,onError:s,onCompleted:r}){return(0,c.commitMutation)(e,{mutation:n,variables:{input:{labelableId:t,labelIds:a.map(e=>e.id),clientMutationId:i}},optimisticResponse:{setLabelsForLabelable:{labelableRecord:{__typename:l,__isNode:"true",__isLabelable:"true",id:t,labels:{pageInfo:{hasNextPage:!1,endCursor:null},edges:a.map(e=>({cursor:e.id,node:{__typename:"Label",id:e.id,name:e.name,nameHTML:e.nameHTML,color:e.color,url:e.url,description:e.description}}))}}}},onError:e=>s&&s(e),onCompleted:e=>r&&r(e)})}},21067:(e,t,a)=>{let n;function l(){if(!n)throw Error("Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.");return n}function i(){return n?.locale??"en-US"}function s(){return!!l().login}function r(){return l().login}if(a.d(t,{JK:()=>i,M3:()=>s,_$:()=>l,cj:()=>r}),"undefined"!=typeof document){let e=document.getElementById("client-env");if(e)try{n=JSON.parse(e.textContent||"")}catch(e){console.error("Error parsing client-env",e)}}},21798:(e,t,a)=>{a.d(t,{X:()=>u});var n=a(74848),l=a(38621),i=a(21373),s=a(11196),r=a(35811),o=a(34164),d=a(96540),c=a(41848);let u=(0,d.forwardRef)(({id:e,title:t,buttonProps:a,headingProps:{as:d="h3",...u}={},readonly:m,errorPresent:p,...g},f)=>{let h=m?{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",pb:"8px",...g.sx}:{width:"100%",position:"relative",display:"flex",alignItems:"center",...g.sx},y=(0,n.jsxs)(r.az,{sx:h,children:[(0,n.jsx)(r.DZ,{id:e,as:d,sx:{position:m?"relative":"absolute",...u},className:"SectionHeader-module__SectionHeaderTitle--TxSJL",children:t}),!m&&(0,n.jsxs)(i.Q,{ref:f,...a,variant:"invisible",size:"small",trailingAction:()=>p?(0,n.jsx)(l.AlertIcon,{className:"fgColor-danger"}):(0,n.jsx)(l.GearIcon,{}),block:!0,className:"SectionHeader-module__editButton--pMar1","aria-describedby":p?`error-message-${e}`:void 0,children:[(0,n.jsx)("span",{className:(0,o.$)("sr-only","SectionHeader-module__screenReaderText--O1ZJ0"),children:c.k.editFieldValueLabel(t)}),p&&(0,n.jsx)("span",{id:`error-message-${e}`,className:"sr-only",children:c.k.errorUpdatingIssueField})]})]});return p&&!m?(0,n.jsx)(s.m,{text:c.k.errorUpdatingIssueField,children:y}):y});u.displayName="SectionHeader"},21935:(e,t,a)=>{a.d(t,{c:()=>c,y:()=>u});var n,l=a(74848),i=a(73189),s=a(25407),r=a(96379),o=a(96540);let d=(0,o.createContext)({comments:[],addComment:i.l,deleteComment:i.l,updateComment:i.l,loadMore:i.l,retry:i.l,canLoadMore:!1,count:0,subscribed:!1,providerState:"initial"});function c({children:e,comments:t=[],commentCount:a=0,canLoadMore:n=!1,subscribed:i=!1,providerState:c="initial",repo:u,commitOid:m}){let[p,g]=(0,o.useState)(t),[f,h]=(0,o.useState)(a),[y,b]=(0,o.useState)(n),[k,x]=(0,o.useState)(c),[v,C]=(0,o.useState)(i);(0,o.useEffect)(()=>{h(a),g(t),b(n),C(i),x(c)},[c]);let j=(0,o.useCallback)(async e=>{x("loading");let t=await (0,r.Sr)((0,s.Mo3)({owner:u.ownerLogin,repo:u.name,commitOid:m,beforeCommentId:e}));if(t.ok){let a=await t.json();e?g(e=>[...a.comments,...e]):g(a.comments),x("loaded"),h(a.count),C(a.subscribed),b(a.canLoadMore)}else x("error")},[u.ownerLogin,u.name,m]),S=(0,o.useCallback)(()=>{let e=p[0];e&&y&&j(e.id.toString())},[y,p,j]),I=(0,o.useCallback)(e=>{g([...p,e]),h((f??0)+1)},[p,f]),N=(0,o.useCallback)(e=>{g(p.filter(t=>t.id!==e)),h((f??0)-1)},[p,f]),F=(0,o.useCallback)(e=>{g(p.map(t=>t.id===e.id?e:t))},[p]),_=(0,o.useMemo)(()=>({addComment:I,canLoadMore:y,comments:p,count:f,deleteComment:N,loadMore:S,retry:j,subscribed:v,providerState:k,updateComment:F}),[I,y,p,f,N,j,S,k,v,F]);return(0,l.jsx)(d.Provider,{value:_,children:e})}function u(){let e=(0,o.useContext)(d);if(!e)throw Error("useDiscussionComments must be used within a DiscussionCommentsProvider");return e}try{d.displayName||(d.displayName="DiscussionCommentsContext")}catch{}try{c.displayName||(c.displayName="DiscussionCommentsProvider")}catch{}try{(n=DiscussionComments).displayName||(n.displayName="DiscussionComments")}catch{}},22463:(e,t,a)=>{a.d(t,{$H:()=>et,uF:()=>J,iT:()=>X,RX:()=>Y});var n,l,i,s,r,o,d,c,u,m,p,g,f,h,y,b,k,x,v,C,j,S=a(74848);let I={kind:"InlineDataFragment",name:"IssueTypePickerIssueTypeShared"};I.hash="ad8f00cd9d8c47c96b5370cc5d7c1878";let N={kind:"InlineDataFragment",name:"IssueTypePickerPaginatedShared"};N.hash="8f239d052f7531271a3f749f1efc064f";let F=(n={defaultValue:null,kind:"LocalArgument",name:"issueTypesPageSize"},l={defaultValue:null,kind:"LocalArgument",name:"owner"},i={defaultValue:null,kind:"LocalArgument",name:"repo"},s=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],d={alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={kind:"InlineFragment",selections:p=[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],type:"IssueFieldText",abstractKey:null},b={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},x={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},v=[{kind:"Variable",name:"first",variableName:"issueTypesPageSize"}],{fragment:{argumentDefinitions:[n,l,i],kind:"Fragment",metadata:null,name:"IssueTypePickerSharedQuery",selections:[{alias:null,args:s,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueTypePickerPaginatedShared",selections:[{alias:"issueTypes",args:null,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"__Repository_issueTypes_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueTypePickerIssueTypeShared",selections:[r,o,d,c,u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[m,g,f={kind:"InlineFragment",selections:p,type:"IssueFieldSingleSelect",abstractKey:null},h={kind:"InlineFragment",selections:p,type:"IssueFieldDate",abstractKey:null},y={kind:"InlineFragment",selections:p,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],args:null,argumentDefinitions:[]},m],storageKey:null},b],storageKey:null},k,x],storageKey:null}],args:[{kind:"Variable",name:"issueTypesPageSize",variableName:"issueTypesPageSize"}],argumentDefinitions:[n]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,i,n],kind:"Operation",name:"IssueTypePickerSharedQuery",selections:[{alias:null,args:s,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:v,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[r,o,d,c,u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[m,g,f,h,y,{kind:"InlineFragment",selections:[r],type:"Node",abstractKey:"__isNode"}],storageKey:null},m],storageKey:null},b],storageKey:null},k,x],storageKey:null},{alias:null,args:v,filters:null,handle:"connection",key:"Repository_issueTypes",kind:"LinkedHandle",name:"issueTypes"},r],storageKey:null}]},params:{id:"a54fe599477ad1ec59ac4afddc715479",metadata:{},name:"IssueTypePickerSharedQuery",operationKind:"query",text:null}});F.hash="6c503c2b0f9e5ac8900fc7fde8cb34a9";var _=a(69599),L=a(18815),w=a(19918),T=a(81289),A=a(81709),E=a(51928),K=a(83001),P=a(30721),D=a(71315),R=a(30459),M=a(96540),V=a(18312);let O={fragment:{argumentDefinitions:C=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"updateIssueIssueTypeBulkSharedMutation",selections:j=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:C,kind:"Operation",name:"updateIssueIssueTypeBulkSharedMutation",selections:j},params:{id:"f06da034e8edb97ccc97158971f670cc",metadata:{},name:"updateIssueIssueTypeBulkSharedMutation",operationKind:"mutation",text:null}};function B(e,t,a){for(let n of t){let t=e.get(n);if(!t)return;let l=a?e.get(a):null;if(!l){t.setValue(null,"issueType");continue}t.setLinkedRecord(l,"issueType")}}O.hash="cac662d4342aa0566134c233e0fe3139";var $=a(49275),U=a(94747),H=a(96379),z=a(47544);async function q(e){let t=(0,z.R1)(),a={ids:e.ids};return"issueTypeId"in e?a.issueTypeId=e.issueTypeId:a.clearIssueType=e.clearIssueType,(await (0,H.lS)(t,{method:"POST",body:a})).json()}var G=a(73049);function W({onError:e,onCompleted:t,onMutate:a,issuesToActOn:n,activeIssueType:l,...i}){let{mutate:s}=function({onMutate:e}){return(0,U.n)({mutationFn:async({issueType:e,...t})=>{let a=await q(t);return(0,G.A)(a)},onMutate:e})}({onMutate:a}),{sendAnalyticsEvent:r}=(0,R.s)(),o=(0,M.useCallback)(a=>{let i,o=1===a.length?a[0]?.id:null;if(!o||o===l?.id)return;let d=[...n];i=o===$.v.noTypeData.id||o===E.i?{ids:d,clearIssueType:!0}:{ids:d,issueTypeId:o,issueType:a[0]},r("issues_index.bulk_action_issue_type","BULK_ISSUE_ISSUE_TYPE_PICKER",{initialIssueTypeId:l?.id??"",issueTypeId:o===E.i?"":o??"",issueIds:[...n]}),s(i,{onSuccess:e=>t?.(e.data.updateIssuesBulk.jobId),onError:e})},[s,n,l?.id,t,e,r]);return(0,S.jsx)(K.u,{onSelectionChange:o,activeIssueType:l,showUnset:!0,...i})}try{W.displayName||(W.displayName="BulkIssueIssueTypePicker")}catch{}function Q(e){let t=(0,V.useRelayEnvironment)(),a=(0,M.useCallback)(e=>{t.commitUpdate(t=>{let{ids:a,...n}=e,l="issueTypeId"in n?n.issueTypeId:void 0;l&&n.issueType&&function(e,t,a){let n=e.get(t)||e.create(t,"IssueType");for(let[e,l]of Object.entries({id:t,name:a.name,description:a.description,color:a.color,isEnabled:a.isEnabled}))null!=l&&n.setValue(l,e)}(t,l,n.issueType),B(t,a,l)})},[t]);return(0,S.jsx)(W,{...e,onMutate:a})}try{Q.displayName||(Q.displayName="BulkIssueIssueTypePickerTsqWithRelayWrapper")}catch{}let X="UNSET";async function Y(e,t){let{pageSize:a=10,owner:n,repo:l}=t,i=await (0,V.fetchQuery)(e,F,{owner:n,repo:l,issueTypesPageSize:a},{fetchPolicy:"store-or-network"}).toPromise();if(!i?.repository)return[];let s=(0,V.readInlineData)(N,i.repository);return(s?.issueTypes?.edges?.flatMap(e=>e?.node)??[]).filter(e=>!!e).map(e=>(0,V.readInlineData)(I,e))}function J(e){return(0,_.G7)("item_picker_issue_type_tsq_migration")?(0,S.jsx)(K.u,{...e}):(0,S.jsx)(Z,{...e})}function Z({anchorElement:e,...t}){return(0,S.jsx)(T.y,{keybindingCommandId:"item-pickers:open-issue-type",anchorElement:t=>e(t),createChild:()=>(0,S.jsx)(ee,{anchorElement:t=>e(t),...t})})}function ee({owner:e,repo:t,anchorElement:a,issueTypes:n,...l}){let i=(0,V.useRelayEnvironment)(),[s,r]=(0,M.useState)(!0),[o,d]=(0,M.useState)(0),[c,u]=(0,M.useState)(!1),[m,p]=(0,M.useState)(null);(0,M.useEffect)(()=>{D.X3||(0,P.SD)({environment:i,query:F,variables:{owner:e,repo:t,issueTypesPageSize:L.En}}).subscribe({next:e=>{p(e.repository??null),r(!1),u(!1)},error:()=>{u(!0),r(!1)}})},[i,o,e,t]);let g=(0,V.readInlineData)(N,m),f=(0,M.useMemo)(()=>g?.issueTypes?.edges?.flatMap(e=>e?.node?[(0,V.readInlineData)(I,e.node)]:[])||[],[g]),{createFallbackComponent:h}=(0,A.j)({errorMessage:w.k.cantEditItems("types"),anchorElement:a,open:!0});return c?h(()=>d(e=>e+1)):(0,S.jsx)(E.f,{isLoading:s,anchorElement:a,issueTypes:f,...l})}function et(e){return(0,_.G7)("item_picker_issue_type_tsq_migration")?(0,S.jsx)(Q,{...e}):(0,S.jsx)(ea,{...e})}function ea({onError:e,onCompleted:t,issuesToActOn:a,activeIssueType:n,...l}){let i=(0,V.useRelayEnvironment)(),{sendAnalyticsEvent:s}=(0,R.s)(),r=(0,M.useCallback)(l=>{let r=1===l.length?l[0]?.id:null;r&&r!==n?.id&&(s("issues_index.bulk_action_issue_type","BULK_ISSUE_ISSUE_TYPE_PICKER",{initialIssueTypeId:n?.id??"",issueTypeId:"UNSET"===r?"":r??"",issueIds:[...a]}),function({environment:e,input:{ids:t,issueTypeId:a},onCompleted:n,onError:l}){let i={ids:t};a!==X?i.issueTypeId=a:i.unsetIssueType=!0,(0,V.commitMutation)(e,{mutation:O,variables:{input:i},updater:e=>B(e,t,i.issueTypeId),optimisticUpdater:e=>B(e,t,i.issueTypeId),onCompleted:e=>n&&n(e),onError:e=>l&&l(e)})}({...{environment:i,onError:t=>{e?.(t)}},input:{ids:[...a],issueTypeId:r},onCompleted:({updateIssuesBulk:e})=>{t?.(e?.jobId||void 0)}}))},[n?.id,i,a,t,e,s]);return(0,S.jsx)(J,{...l,onSelectionChange:r,showUnset:!0,activeIssueType:n})}try{J.displayName||(J.displayName="IssueTypePicker")}catch{}try{Z.displayName||(Z.displayName="IssueTypePickerRelay")}catch{}try{ee.displayName||(ee.displayName="IssueTypePickerFetcher")}catch{}try{et.displayName||(et.displayName="BulkIssueIssueTypePicker")}catch{}try{ea.displayName||(ea.displayName="BulkIssueIssueTypePickerRelay")}catch{}},23490:(e,t,a)=>{a.d(t,{iF:()=>L});var n,l,i,s,r,o,d,c=a(74848);let u={kind:"InlineDataFragment",name:"IssueFieldPickerIssueField"};u.hash="31d854fea63dea594c796cfb9821b91c";let m={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"issueFieldsPageSize"}],kind:"Fragment",metadata:{connection:[{count:"issueFieldsPageSize",cursor:null,direction:"forward",path:["issueFields"]}]},name:"IssueFieldPickerPaginated",selections:[{alias:"issueFields",args:null,concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"__Organization_issueFields_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueFieldsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueFieldPickerIssueField",selections:[{kind:"InlineFragment",selections:n=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:n,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:n,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:n,type:"IssueFieldNumber",abstractKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"Organization",abstractKey:null};m.hash="8a6dd6e5fd4fe5d70ead8019af2bbe61";let p={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"issueFieldsPageSize"},i={defaultValue:null,kind:"LocalArgument",name:"name"}],kind:"Fragment",metadata:null,name:"IssueFieldPickerQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"login",variableName:"name"}],concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{args:[{kind:"Variable",name:"issueFieldsPageSize",variableName:"issueFieldsPageSize"}],kind:"FragmentSpread",name:"IssueFieldPickerPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,l],kind:"Operation",name:"IssueFieldPickerQuery",selections:[{alias:null,args:s,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:r=[{kind:"Variable",name:"first",variableName:"issueFieldsPageSize"}],concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"issueFields",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueFieldsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isIssueFields"},{kind:"InlineFragment",selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:d,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:d,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:d,type:"IssueFieldNumber",abstractKey:null},{kind:"InlineFragment",selections:[o],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:r,filters:null,handle:"connection",key:"Organization_issueFields",kind:"LinkedHandle",name:"issueFields"},o],storageKey:null}]},params:{id:"dadedc2e94c39085c4fdd2fe515621a9",metadata:{},name:"IssueFieldPickerQuery",operationKind:"query",text:null}};p.hash="9a4fe5cc933711b34b06c8deb4838e9d";var g=a(18815),f=a(19918),h=a(86391),y=a(81289),b=a(81709),k=a(30721),x=a(71315),v=a(11083),C=a(26607),j=a(84268),S=a(96540),I=a(18312),N=a(14709);let F=(0,v.X)(),_=(0,c.jsxs)("div",{className:"IssueFieldPicker-module__footer--mYJzU",children:[(0,c.jsx)(C.A,{variant:"success",children:"Preview"}),(0,c.jsx)(j.A,{href:F?"https://github-grid.enterprise.slack.com/archives/C0969KWTU01":"https://github.com/orgs/community/discussions/175366",children:"Share feedback"})]});function L({anchorElement:e,...t}){return(0,c.jsx)(y.y,{anchorElement:t=>e(t),createChild:()=>(0,c.jsx)(w,{anchorElement:(t,a)=>e(t,a),...t}),insidePortal:t.insidePortal,keybindingCommandId:"item-pickers:open-fields"})}function w({owner:e,anchorElement:t,...a}){let n=(0,I.useRelayEnvironment)(),[l,i]=(0,S.useState)(!0),[s,r]=(0,S.useState)(0),[o,d]=(0,S.useState)(!1),[u,m]=(0,S.useState)(null);(0,S.useEffect)(()=>{x.X3||(0,k.SD)({environment:n,query:p,variables:{name:e,issueFieldsPageSize:g.AE}}).subscribe({next:e=>{m(e.organization??null),i(!1),d(!1)},error:()=>{d(!0),i(!1)}})},[n,s,e]);let{createFallbackComponent:h}=(0,b.j)({errorMessage:f.k.cantEditItems("fields"),anchorElement:t,open:!0});return o?h(()=>r(e=>e+1)):(0,c.jsx)(T,{owner:e,fields:u,isLoading:l,anchorElement:t,...a})}function T({title:e=f.k.fieldsHeader,width:t="medium",fields:a,fieldsSet:n,onSelectionChange:l,insidePortal:i,anchorElement:s,isLoading:r,nested:o,notice:d}){let[p,g]=(0,S.useState)(""),y=(0,I.useFragment)(m,a),b=(0,S.useMemo)(()=>(y?.issueFields?.edges?.flatMap(e=>e?.node?[(0,I.readInlineData)(u,e.node)]:[])||[]).filter(e=>!!e&&(!(n.length>0)||!e.name||-1===n.indexOf(e.name))),[y,n]),k=(0,S.useMemo)(()=>p?b.filter(e=>e.name&&e.name.toLowerCase().indexOf(p.toLowerCase())>=0):b,[b,p]),x=(0,S.useCallback)(e=>{g(e)},[]),v=(0,S.useCallback)(e=>e.id||"",[]),C=(0,S.useId)(),j=(0,S.useCallback)(e=>({id:e.id||C,text:e.name,description:e.description||"",descriptionVariant:"block",leadingVisual:(0,N.N)(e.dataType||"TEXT"),source:e}),[C]),F=(0,S.useRef)(null),L=(0,S.useMemo)(()=>0===k.length,[k.length]);return(0,c.jsx)(h.O,{loading:r,items:k,initialSelectedItems:[],filterItems:x,title:e,getItemKey:v,convertToItemProps:j,placeholderText:"Filter fields",selectionVariant:"single",onSelectionChange:l,renderAnchor:e=>s(e,F),insidePortal:i,height:"large",width:t,nested:o,resultListAriaLabel:"Issue Fields results",triggerOpen:!0,secondaryAction:_,notice:d,selectPanelRef:F,keybindingCommandId:"item-pickers:open-fields",improvedNoMatchAccessibility:L,noMatchMessage:L?{title:"No issue fields were found",variant:"empty",body:"Try searching with a different query for results."}:void 0})}try{_.displayName||(_.displayName="SECONDARY_ACTION")}catch{}try{L.displayName||(L.displayName="IssueFieldPicker")}catch{}try{w.displayName||(w.displayName="IssueFieldPickerFetcher")}catch{}try{T.displayName||(T.displayName="ItemPickerWrapper")}catch{}},24453:(e,t,a)=>{a.d(t,{O:()=>l});var n=a(59403);let l=(e,t)=>(0,n.dt)(e,t)>n.IP},24550:(e,t,a)=>{a.d(t,{t:()=>u});var n=a(74848),l=a(38621),i=a(84268),s=a(35811),r=a(10095),o=a(96540),d=a(99223),c=a(34164);function u(e){let{contributingFileUrl:t,securityPolicyUrl:a,codeOfConductFileUrl:l,supportFileUrl:i}=e;return!(0,d.k)()&&(t||a||l||i)?(0,n.jsx)(m,{...e}):null}function m({contributingFileUrl:e,securityPolicyUrl:t,codeOfConductFileUrl:a,supportFileUrl:d,sx:u,className:m}){let p=(0,o.useMemo)(()=>{let l=[];if(e&&l.push((0,n.jsx)(i.A,{inline:!0,href:e,children:"contributing guidelines"})),t&&l.push((0,n.jsx)(i.A,{inline:!0,href:t,children:"security policy"})),a&&l.push((0,n.jsx)(i.A,{inline:!0,href:a,children:"code of conduct"})),d&&l.push((0,n.jsx)(i.A,{inline:!0,href:d,children:"Support"})),1===l.length)return(0,n.jsx)(n.Fragment,{children:l[0]});let s=l.slice(0,-1),r=l[l.length-1];return(0,n.jsxs)(n.Fragment,{children:[s.map((e,t)=>(0,n.jsxs)(o.Fragment,{children:[e,(0,n.jsx)("span",{children:t!==s.length-1?", ":" "})]},t)),(0,n.jsxs)("span",{children:["and ",r]})]})},[e,t,a,d]);return(0,n.jsxs)(s.az,{"data-testid":"contributor-footer",sx:u,className:(0,c.$)("ContributorFooter-module__ContributorFooterContainer--lDUwn",m),children:[(0,n.jsx)(r.A,{icon:l.InfoIcon}),(0,n.jsxs)("div",{"data-testid":"contributor-footer-text",children:[(0,n.jsx)("span",{children:"Remember, contributions to this repository should follow its "}),(0,n.jsx)("span",{children:p}),(0,n.jsx)("span",{children:"."})]})]})}try{u.displayName||(u.displayName="ContributorFooter")}catch{}try{m.displayName||(m.displayName="ContributorFooterContent")}catch{}},24967:(e,t,a)=>{a.d(t,{e:()=>i});var n=a(74848),l=a(81945);function i(){return(0,n.jsx)("div",{className:"d-flex flex-wrap gap-1",children:(0,n.jsx)(l.O,{variant:"elliptical",height:"28px",width:"28px"})})}try{i.displayName||(i.displayName="ReactionViewerLoading")}catch{}},25556:(e,t,a)=>{a.d(t,{m:()=>f});var n=a(74848),l=a(11683),i=a(96540),s=a(56149),r=a(35811),o=a(34164);let d=a(38267).Ay.span.withConfig({displayName:"ControlledTooltip__TooltipBase",componentId:"sc-a45d872d-0"})(["&::after{position:absolute;z-index:1000000;display:none;padding:0.5em 0.75em;font:normal normal 11px/1.5 ",";-webkit-font-smoothing:subpixel-antialiased;color:",";text-align:center;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-wrap:break-word;white-space:pre;pointer-events:none;content:attr(data-visible-text);background:",";border-radius:",";opacity:0;}@keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}&.tooltipped-open,&:hover,&:active,&:focus{&::after{display:inline-block;text-decoration:none;animation-name:tooltip-appear;animation-duration:0.1s;animation-fill-mode:forwards;animation-timing-function:ease-in;animation-delay:0s;}}&.tooltipped-no-delay.tooltipped-open,&.tooltipped-no-delay:hover,&.tooltipped-no-delay:active,&.tooltipped-no-delay:focus{&::after{animation-delay:0s;}}&.tooltipped-s,&.tooltipped-se,&.tooltipped-sw{&::after{top:100%;right:50%;margin-top:6px;}}&.tooltipped-se{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-sw::after{margin-right:-",";}&.tooltipped-n,&.tooltipped-ne,&.tooltipped-nw{&::after{right:50%;bottom:100%;margin-bottom:6px;}}&.tooltipped-ne{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-nw::after{margin-right:-",";}&.tooltipped-s::after,&.tooltipped-n::after{transform:translateX(50%);}&.tooltipped-w{&::after{right:100%;bottom:50%;margin-right:6px;transform:translateY(50%);}}&.tooltipped-e{&::after{bottom:50%;left:100%;margin-left:6px;transform:translateY(50%);}}&.tooltipped-align-right-2::after{right:0;margin-right:0;}&.tooltipped-align-left-2::after{left:0;margin-left:0;}",";"],(0,r.yB)("fonts.normal"),(0,r.yB)("colors.fg.onEmphasis"),(0,r.yB)("colors.neutral.emphasisPlus"),(0,r.yB)("radii.2"),(0,r.yB)("space.3"),(0,r.yB)("space.3"),(0,r.yB)("space.3"),(0,r.yB)("space.3"),r.sx),c=()=>()=>void 0,u=()=>!1,m=()=>!0,p=(0,i.forwardRef)(function({direction:e="n",className:t,text:a,noDelay:l,align:r,wrap:p,open:g=!1,portalProps:f={},...h},y){let b=(0,i.useSyncExternalStore)(c,m,u),k=(0,o.$)(t,`tooltipped-${e}`,r&&`tooltipped-align-${r}-2`,l&&"tooltipped-no-delay",p&&"tooltipped-multiline",g&&"tooltipped-open");return b?(0,n.jsx)(s.ZL,{...f,children:(0,n.jsx)(d,{ref:y,role:"tooltip","aria-label":a,"data-visible-text":a||h["aria-label"],...h,sx:{position:"fixed",zIndex:1,...h.sx},className:k})}):null});try{p.displayName||(p.displayName="ControlledTooltip")}catch{}var g=a(65787);let f=(0,i.forwardRef)(function({contentRef:e,open:t,anchoredPositionAlignment:a,anchorSide:s,anchorOffset:r,alignmentOffset:o,allowOutOfBounds:d,...c},u){let m=(0,i.useRef)(null);(0,i.useImperativeHandle)(u,()=>m.current);let f=(0,i.useRef)({left:0,top:0}),h=(0,i.useSyncExternalStore)((0,i.useCallback)(a=>{if(!m.current||!e.current||!t)return()=>void 0;let n=(0,g.U)(e.current);return n?.addEventListener("scroll",a),()=>{n?.removeEventListener("scroll",a)}},[e,t]),(0,i.useCallback)(()=>{if(!m.current||!e.current)return f.current;let t=(0,l.uG)(m.current,e.current,{align:a??"center",side:s??"outside-top",alignmentOffset:o??0,anchorOffset:r??0,allowOutOfBounds:d});return(t.left!==f.current.left||t.top!==f.current.top)&&(f.current=t),f.current},[e,o,r,a,s,d]),(0,i.useCallback)(()=>f.current,[]));return(0,n.jsx)(p,{...c,ref:m,open:t,style:{position:"absolute",...h,...c.style}})});try{f.displayName||(f.displayName="PortalTooltip")}catch{}},25779:(e,t,a)=>{a.d(t,{v:()=>o});let n={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"updateIssueMilestoneRelayMutation",selections:s=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"updateIssueMilestoneRelayMutation",selections:s},params:{id:"15f7936034547bc129d53f9c6b14fba9",metadata:{},name:"updateIssueMilestoneRelayMutation",operationKind:"mutation",text:null}};n.hash="253dc6aa9f06016bb138f16bb1697b39";var l,i,s,r=a(18312);function o({environment:e,input:{issueId:t,milestone:a,clientMutationId:l},onError:i,onCompleted:s}){return(0,r.commitMutation)(e,{mutation:n,variables:{input:{id:t,milestoneId:a?a.id:null,clientMutationId:l}},optimisticResponse:{updateIssue:{issue:{id:t,milestone:a?{id:a.id,title:a.title,closed:a.closed,dueOn:a.dueOn,progressPercentage:a.progressPercentage,url:a.url,closedAt:a.closedAt}:null}}},onError:e=>i&&i(e),onCompleted:e=>s&&s(e)})}},25983:(e,t,a)=>{a.d(t,{n:()=>d});var n=a(74848),l=a(84268),i=a(35811),s=a(96540),r=a(11196),o=a(34164);let d=({name:e,color:t,href:a,getTooltipText:d,size:u,sx:m,className:p})=>{let g=(0,s.useRef)(null),[f,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>h(c(g.current)),[h,g]);let y=(0,n.jsx)(l.A,{href:a,children:(0,n.jsx)(i.ou,{className:(0,o.$)("IssueTypeToken-module__token--QZUId",p),"data-color":t,ref:g,sx:m,text:(0,n.jsx)("span",{className:"IssueTypeToken-module__tokenText--jTqtr",children:e})})}),b=d(f);return(0,n.jsx)("div",{className:"IssueTypeToken-module__issueTypeTokenContainer--u7mnl","data-size":u,children:b?(0,n.jsx)(r.m,{text:b,children:y}):y})},c=e=>!!e&&!!e.firstElementChild&&e.firstElementChild.scrollWidth>e.firstElementChild.clientWidth;try{d.displayName||(d.displayName="IssueTypeToken")}catch{}},26052:(e,t,a)=>{a.d(t,{v:()=>r});var n=a(74848),l=a(21728),i=a(96540),s=a(68245);function r(e){let t,a=(0,l.c)(5),{login:r,profileName:o}=e;if("name_handle"===(0,i.useContext)(s._)&&o?.trim()){let e;return a[0]!==r||a[1]!==o?(e=(0,n.jsxs)(n.Fragment,{children:[o," (",r,")"]}),a[0]=r,a[1]=o,a[2]=e):e=a[2],e}return a[3]!==r?(t=(0,n.jsx)(n.Fragment,{children:r}),a[3]=r,a[4]=t):t=a[4],t}try{r.displayName||(r.displayName="ProfileReference")}catch{}},26156:(e,t,a)=>{a.d(t,{v:()=>I,S:()=>S});var n=a(74848),l=a(69599),i=a(77430),s=a(25407),r=a(26052),o=a(38621),d=a(84268),c=a(62935),u=a(26607),m=a(35811),p=a(34164),g=a(96540),f=a(96901),h=a(46173),y=a(29554),b=a(13771),k=a(41248),x=a(40846);let v=({viewerDidAuthor:e,subjectType:t})=>(0,n.jsx)(x.C,{viewerDidAuthor:e,ariaLabel:f.k.commentSubjectAuthor(e??!1,t??"comment"),label:f.k.commentAuthor,testId:h.Y.commentSubjectAuthor});try{v.displayName||(v.displayName="CommentSubjectAuthor")}catch{}var C=a(85757);let j=({createdAt:e,owner:t,viewerDidAuthor:a})=>{let l=new Date(e),i=l.toLocaleString("default",{month:"long"}),s=f.k.sponsor(t,`${i} ${l.getFullYear()}`);return(0,n.jsx)(x.C,{label:f.k.sponsorBadge,ariaLabel:s,testId:h.Y.sponsorLabel,viewerDidAuthor:a})};try{j.displayName||(j.displayName="SponsorsBadge")}catch{}let S={Bot:"Bot",Mannequin:"Mannequin",User:"User"};function I({actions:e,comment:t,commentAuthorType:a,commentAuthorSlug:i,commentAuthorLogin:I,commentAuthorProfileName:F,isMinimized:_=!1,avatarUrl:L,lastEditedByMessage:w,editHistoryComponent:T,additionalHeaderMessage:A,sx:E,viewerDidAuthor:K=!1,userAvatar:P,commentSubjectAuthorLogin:D,commentSubjectType:R,isReply:M=!1,headingProps:{as:V,...O}={as:"h3"},id:B,forceInlineAvatar:$,containerStyle:U,originalDiffPathUri:H,isOutdated:z,hideProfileLink:q=!1}){let G,W=U||M?{}:{backgroundColor:K?"accent.subtle":"canvas.subtle",borderTopLeftRadius:"6px",borderTopRightRadius:"6px",borderBottom:"1px solid",borderColor:K?"accent.muted":"border.default",borderBottomWidth:+!_,py:$?[1,1,2,2]:1,pr:1,pl:3,...E},Q=t.pendingMinimizeReason??t.minimizedReason,X=!!Q||t.isHidden,Y=new Date(t.createdAt),J=a===S.Bot,Z=a===S.Mannequin,ee=J&&("Copilot"===I&&!!i||"copilot-swe-agent"===I),et=Z||q?void 0:`/${J?"apps/":""}${i??I}`,ea=ee?"Copilot":I;G=ee?(0,s._nf)({bot_slug:i??I}):Z?void 0:(0,s.dCN)({owner:I});let en=(0,n.jsxs)(n.Fragment,{children:[A&&(0,n.jsx)("span",{className:y.A.HeaderMutedText,children:A}),(0,n.jsxs)("span",{className:y.A.HeaderMutedText,children:[(0,n.jsx)(d.A,{href:z?function(e){if(!e)return;let t=new URL(e,window.location.origin);return t.searchParams.set("new_files_changed","true"),t.toString()}(H):t.url,"data-turbo":z?"false":"true",className:y.A.HeaderLink,children:(0,n.jsxs)(c.A,{date:Y,children:["on ",Y.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),t.createdViaEmail&&(0,n.jsx)("span",{children:` ${f.k.sentViaEmail}`}),t.viaApp&&(0,n.jsxs)("span",{children:[" ","\u2013 with"," ",(0,n.jsx)(d.A,{inline:!0,href:t.viaApp.url,children:t.viaApp.name})]})]}),X&&(0,n.jsxs)("span",{className:y.A.HeaderMutedTextNoEllipsis,children:[" ","\xb7"," ",Q?(0,n.jsxs)("span",{children:[f.k.hiddenCommentWithReason," ",Q.replace(/_/g,"-").toLowerCase()]}):(0,n.jsx)("span",{children:f.k.hiddenComment})]}),w&&!X&&(0,n.jsx)(g.Suspense,{children:w})]});return(0,n.jsx)(m.az,{id:B,sx:{...W},"data-testid":h.Y.commentHeader,className:y.A.ActivityHeaderContainer,children:(0,n.jsxs)(m.az,{className:(0,p.$)(y.A.activityHeader,y.A.ActivityHeaderGridLayout),sx:{paddingBottom:w||$?0:"var(--base-size-6, 6px)"},children:[(0,n.jsx)(V,{...O,className:"sr-only",children:(0,n.jsxs)(n.Fragment,{children:[ee?"Copilot":I," ",M?"replied":"commented"," ",(0,n.jsxs)(c.A,{date:Y,children:["on ",Y.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," "]})]})}),(0,n.jsx)(m.az,{className:(0,p.$)($?"":b.A.avatarInner,y.A.AvatarContainer),sx:{display:$?"flex":["flex","flex","none","none"]},children:P??(0,n.jsx)(N,{avatarUrl:L,login:I,isCopilot:ee,isHidden:X,hovercardUrl:G,profileUrl:et})}),(0,n.jsxs)("div",{className:(0,p.$)(y.A.narrowViewportWrapper,y.A.CommentHeaderContentContainer),"data-testid":h.Y.commentHeaderLeftSideItems,children:[(0,n.jsxs)("div",{className:y.A.TitleContainer,children:[et?(0,n.jsx)(d.A,{href:et,"data-testid":h.Y.avatarLink,"data-hovercard-url":G,className:(0,p.$)(y.A.AuthorName,y.A.AuthorLink,X?"color-fg-muted":"color-fg-default"),children:(0,l.G7)("render_user_display_name")?(0,n.jsx)(r.v,{login:ea,profileName:F}):ea}):(0,n.jsx)("span",{"data-testid":h.Y.avatarName,"data-hovercard-url":G,className:(0,p.$)(y.A.AuthorName,X?"color-fg-muted":"color-fg-default"),children:(0,l.G7)("render_user_display_name")?(0,n.jsx)(r.v,{login:ea,profileName:F}):ea}),(J||Z)&&(0,n.jsx)(u.A,{variant:"secondary",className:"ml-1",children:f.k.authorLabel(J,ee)})]}),(0,n.jsx)("div",{className:(0,p.$)(y.A.footer,y.A.FooterContainer),children:en})]}),(0,n.jsxs)("div",{"data-testid":h.Y.commentHeaderRightSideItems,className:(0,p.$)(y.A.narrowViewportWrapper,y.A.ActionsContainer),children:[T&&(0,n.jsx)("div",{className:y.A.EditsContainer,children:T}),(0,n.jsxs)("div",{className:y.A.BadgesContainer,children:[(0,n.jsxs)("div",{className:y.A.BadgesGroupContainer,children:[t.state?.toUpperCase()==="PENDING"&&(0,n.jsx)(x.C,{leadingElement:(0,n.jsx)(o.DotFillIcon,{}),label:"Pending",ariaLabel:"This review comment is pending",testId:"pending-badge",variant:"attention",className:y.A.CommentHeaderBadge}),!X&&!_&&t.authorToRepoOwnerSponsorship&&t.authorToRepoOwnerSponsorship.isActive&&(0,n.jsx)(j,{createdAt:t.authorToRepoOwnerSponsorship.createdAt,owner:t.repository.owner.login,viewerDidAuthor:K}),!X&&!_&&t.showSpammyBadge&&(0,n.jsx)(C.b,{}),!t.repository.isPrivate&&!X&&!_&&(0,n.jsx)(k.m,{association:t.authorAssociation,viewerDidAuthor:K,org:t.repository.owner.login,repo:t.repository.name}),I===D&&(0,n.jsx)(v,{viewerDidAuthor:K,subjectType:R})]}),(0,n.jsx)("div",{className:y.A.ActionsButtonsContainer,children:e})]})]})]})})}function N({avatarUrl:e,login:t,isHidden:a,isCopilot:l,hovercardUrl:s,profileUrl:r}){let o=(0,n.jsx)(i.r,{src:e,alt:l?"Copilot":`@${t}`,size:24,square:l,className:a?b.A.hiddenActivityAvatar:b.A.activityAvatar});return r?(0,n.jsx)(d.A,{href:r,className:b.A.avatarLink,"data-hovercard-url":s,"aria-label":l?"Copilot":`@${t}'s profile`,children:o}):(0,n.jsx)("div",{className:b.A.avatarWithoutLink,"data-hovercard-url":s,children:o})}try{I.displayName||(I.displayName="ActivityHeader")}catch{}try{N.displayName||(N.displayName="DefaultAvatar")}catch{}},28014:(e,t,a)=>{a.d(t,{B:()=>c,r:()=>d});var n=a(74848),l=a(73189),i=a(96540);let s=(0,i.createContext)({comments:[],addComments:l.l,findInlineComment:()=>void 0,findInlineCommentWithRelay:()=>void 0,getCommentCountByPath:()=>0,getThreadDataByPathAndPosition:()=>void 0,updateInlineCommentMapWithNewComment:()=>void 0,getInlineCommentInfoByPathAndPosition:()=>void 0});function r(e){return e.reduce((e,t)=>(e.set(`${t.path}::${t.position}`,t),e),new Map)}function o(e){let t=new Map;for(let a in e)if(e.hasOwnProperty(a)){let n=new Map;for(let t in e[a])e[a].hasOwnProperty(t)&&n.set(Number(t),e[a][Number(t)]);t.set(a,n)}return t}function d({children:e,initialFiles:t,initialExpandedThreadId:a,initialInlineComments:l}){let[d,c]=(0,i.useState)(()=>l?Object.values(l).flatMap(e=>Array.from(Object.values(e).flat())):[]),[u,m]=(0,i.useState)(t??[]),[p,g]=(0,i.useState)(()=>t?r(t):new Map),[f,h]=(0,i.useState)(()=>l?o(l):new Map),y=(0,i.useCallback)((e,t,a,n)=>{if(n){let n=f.get(e)?.get(t)??[];n=n.concat(a);let l=f.get(e)?.set(t,n);h(f.set(e,l??new Map)??f)}else{let n=f.get(e)?.set(t,a);h(f.set(e,n??new Map)??f)}},[f]);(0,i.useEffect)(()=>{m(t??[]),g(t?r(t):new Map),h(l?o(l):new Map),c(l?Object.values(l).flatMap(e=>Array.from(Object.values(e).flat())):[])},[t,l]);let b=(0,i.useCallback)((e,t,a)=>{let n=e.map(e=>e.id),l=d.filter(e=>!n.includes(e.id)),i=u.filter(e=>e.path!==t||e.position!==parseInt(a)),s={path:t,position:parseInt(a),count:e.length,threads:[{id:`${t}::${a}`,diffSide:"RIGHT",commentsData:{totalCount:e.length,comments:e.map(e=>({id:e.id,author:{avatarUrl:e?.author?.avatarUrl??"",login:e?.author?.login??"",url:""}}))}}]};c([...l,...e]),m([...i,s]),g(r([...i,s])),y(t,parseInt(a),e,!1)},[u,d,y]),k=(0,i.useCallback)(e=>{if(e)return d.find(t=>t.id===e)},[d]),x=(0,i.useCallback)(e=>d.find(t=>t.relayId===e),[d]),v=(0,i.useCallback)(e=>{let t=0;for(let a of u)a.path===e&&(t+=a.count);return t},[u]),C=(0,i.useCallback)((e,t)=>p.get(`${e}::${t}`),[p]),j=(0,i.useCallback)((e,t)=>f.get(e)?.get(t),[f]),S=(0,i.useMemo)(()=>({comments:d,addComments:b,findInlineComment:k,findInlineCommentWithRelay:x,getCommentCountByPath:v,getThreadDataByPathAndPosition:C,getInlineCommentInfoByPathAndPosition:j,updateInlineCommentMapWithNewComment:y,initialExpandedThreadId:a}),[b,d,k,x,v,C,j,y,a]);return(0,n.jsx)(s.Provider,{value:S,children:e})}function c(){let e=(0,i.useContext)(s);if(!e)throw Error("useInlineComments must be used within a InlineCommentsProvider");return e}try{s.displayName||(s.displayName="InlineCommentsContext")}catch{}try{d.displayName||(d.displayName="InlineCommentsProvider")}catch{}},28600:(e,t,a)=>{a.d(t,{A:()=>r});let{getItem:n,setItem:l,removeItem:i}=(0,a(82075).A)("localStorage"),s="REACT_PROFILING_ENABLED",r={enable:()=>l(s,"true"),disable:()=>i(s),isEnabled:()=>!!n(s)}},29554:(e,t,a)=>{a.d(t,{A:()=>n});let n={activityHeader:"ActivityHeader-module__activityHeader--WiwzD",footer:"ActivityHeader-module__footer--ssKOW",narrowViewportWrapper:"ActivityHeader-module__narrowViewportWrapper--k4ncm",edits:"ActivityHeader-module__edits--WkfqY",HeaderMutedText:"ActivityHeader-module__HeaderMutedText--aJAo0",HeaderLink:"ActivityHeader-module__HeaderLink--fStdK",HeaderMutedTextNoEllipsis:"ActivityHeader-module__HeaderMutedTextNoEllipsis--zWavP",ActivityHeaderContainer:"ActivityHeader-module__ActivityHeaderContainer--fKwFm",ActivityHeaderGridLayout:"ActivityHeader-module__ActivityHeaderGridLayout--Jwd78",AvatarContainer:"ActivityHeader-module__AvatarContainer--p2vAR",CommentHeaderContentContainer:"ActivityHeader-module__CommentHeaderContentContainer--OOrIN",TitleContainer:"ActivityHeader-module__TitleContainer--pa99A",AuthorName:"ActivityHeader-module__AuthorName--Im5nP",AuthorLink:"ActivityHeader-module__AuthorLink--D7Ojk",FooterContainer:"ActivityHeader-module__FooterContainer--FHEpM",ActionsContainer:"ActivityHeader-module__ActionsContainer--Ebsux",EditsContainer:"ActivityHeader-module__EditsContainer--aMWsI",BadgesContainer:"ActivityHeader-module__BadgesContainer--lAU4a",BadgesGroupContainer:"ActivityHeader-module__BadgesGroupContainer--thmDS",CommentHeaderBadge:"ActivityHeader-module__CommentHeaderBadge--ZOgwo",ActionsButtonsContainer:"ActivityHeader-module__ActionsButtonsContainer--L7GUK"}},30107:(e,t,a)=>{a.d(t,{PH:()=>t2,le:()=>t3,ym:()=>t1,nf:()=>t4});var n,l,i,s,r,o,d,c,u,m,p,g,f,h,y,b,k,x,v,C,j,S,I,N,F,_,L,w,T,A,E,K,P,D,R,M,V,O,B,$,U,H,z,q,G,W,Q,X,Y,J,Z,ee,et,ea,en,el,ei,es,er,eo,ed,ec,eu,em,ep,eg,ef,eh,ey,eb,ek,ex,ev,eC,ej,eS,eI,eN,eF,e_,eL,ew,eT,eA,eE=a(74848);let eK=(n={count:null,cursor:null,direction:"forward",path:["projectItemsNext"]},i={alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null},d={alias:"projectItemsNext",args:[{kind:"Literal",name:"allowSameEnterprise",value:!0},{kind:"Variable",name:"allowedOwner",variableName:"allowedOwner"}],concreteType:"ProjectV2ItemConnection",kind:"LinkedField",name:"__ProjectSection_projectItemsNext_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSection"},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"allowedOwner"}],kind:"Fragment",metadata:{connection:[n,n]},name:"ProjectsSectionFragment",selections:[{kind:"InlineFragment",selections:[l,i,s,d,{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdateMetadata",storageKey:null}],type:"Issue",abstractKey:null},{kind:"InlineFragment",selections:[l,i,s,d,r],type:"PullRequest",abstractKey:null}],type:"IssueOrPullRequest",abstractKey:"__isIssueOrPullRequest"});eK.hash="aa1087bc958c9976db83d919e693e720";var eP=a(73580),eD=a(99892),eR=a(75202),eM=a(43258),eV=a(38621),eO=a(5524),eB=a(21373),e$=a(96540),eU=a(18312),eH=a(69487),ez=a(93513);let eq={fragment:{argumentDefinitions:c=[{defaultValue:null,kind:"LocalArgument",name:"connections"},{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"deleteIssueProjectsMutation",selections:[{alias:null,args:u=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"DeleteProjectV2ItemPayload",kind:"LinkedField",name:"deleteProjectV2Item",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"deletedItemId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:c,kind:"Operation",name:"deleteIssueProjectsMutation",selections:[{alias:null,args:u,concreteType:"DeleteProjectV2ItemPayload",kind:"LinkedField",name:"deleteProjectV2Item",plural:!1,selections:[m,{alias:null,args:null,filters:null,handle:"deleteEdge",key:"",kind:"ScalarHandle",name:"deletedItemId",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{id:"cdc2c4b69492faa142269c6a6a60df92",metadata:{},name:"deleteIssueProjectsMutation",operationKind:"mutation",text:null}};eq.hash="b546b455603fb197fd8347b4cec2351a";var eG=a(2495),eW=a(16810),eQ=a(21798);let eX={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSection",selections:[p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[p],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionView"}],type:"ProjectV2Item",abstractKey:null};eX.hash="d514f44f54887c87d0f242aa077953b2";let eY=(g=[{defaultValue:null,kind:"LocalArgument",name:"id"}],f=[{kind:"Variable",name:"id",variableName:"id"}],h={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},v=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],C={alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"isIssueField",storageKey:null},L={alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:_=[b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:_,storageKey:null}],storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},K={kind:"InlineFragment",selections:E=[b],type:"Node",abstractKey:"__isNode"},P={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[k,{kind:"InlineFragment",selections:[b,j],type:"ProjectV2Field",abstractKey:null},K],storageKey:null},{fragment:{argumentDefinitions:g,kind:"Fragment",metadata:null,name:"ProjectItemSectionFieldListQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[h,y,b],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFields"}],type:"ProjectV2Item",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:g,kind:"Operation",name:"ProjectItemSectionFieldListQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[k,b,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[h,y,b,x,{alias:null,args:v,concreteType:"ProjectV2FieldConfigurationConnection",kind:"LinkedField",name:"fields",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2FieldConfigurationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[k,{kind:"InlineFragment",selections:[b,C,j,S],type:"ProjectV2Field",abstractKey:null},{kind:"InlineFragment",selections:[b,C,j,S,L],type:"ProjectV2IterationField",abstractKey:null},{kind:"InlineFragment",selections:[b,C,j,S,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[b,w,j,T,A,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null},K],storageKey:null}],storageKey:null}],storageKey:'fields(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:v,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[k,{kind:"InlineFragment",selections:[b,P,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[b,P,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[b,P,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[k,{kind:"InlineFragment",selections:E,type:"ProjectV2SingleSelectField",abstractKey:null},K],storageKey:null},w,j,T,A],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[k,{kind:"InlineFragment",selections:[b,j,L],type:"ProjectV2IterationField",abstractKey:null},K],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},x,I,N,F],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},K],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:v,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"}],type:"ProjectV2Item",abstractKey:null}],storageKey:null}]},params:{id:"241d243a15a751aa4668f46296a39636",metadata:{},name:"ProjectItemSectionFieldListQuery",operationKind:"query",text:null}});eY.hash="b0347ba7355910f2a5163bb08004baef";var eJ=a(84268);let eZ={fragment:{argumentDefinitions:D=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"unarchiveProjectItemMutation",selections:[{alias:null,args:R=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UnarchiveProjectV2ItemPayload",kind:"LinkedField",name:"unarchiveProjectV2Item",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"item",plural:!1,selections:[M={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:D,kind:"Operation",name:"unarchiveProjectItemMutation",selections:[{alias:null,args:R,concreteType:"UnarchiveProjectV2ItemPayload",kind:"LinkedField",name:"unarchiveProjectV2Item",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"item",plural:!1,selections:[M,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"1d1e59700f5c9977430696b2338a0674",metadata:{},name:"unarchiveProjectItemMutation",operationKind:"mutation",text:null}};eZ.hash="774df17c4810f952c016355065fbcd6c";let e0={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSectionFields",selections:[V={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],concreteType:"ProjectV2FieldConfigurationConnection",kind:"LinkedField",name:"fields",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2FieldConfigurationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[V,O={alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"isIssueField",storageKey:null},{args:null,kind:"FragmentSpread",name:"TextFieldConfigFragment"},{args:null,kind:"FragmentSpread",name:"DateFieldConfigFragment"},{args:null,kind:"FragmentSpread",name:"NumberFieldConfigFragment"}],type:"ProjectV2Field",abstractKey:null},{kind:"InlineFragment",selections:[V,O,B,$,{args:null,kind:"FragmentSpread",name:"IterationFieldConfigFragment"}],type:"ProjectV2IterationField",abstractKey:null},{kind:"InlineFragment",selections:[V,O,B,$,{args:null,kind:"FragmentSpread",name:"SingleSelectFieldConfigFragment"}],type:"ProjectV2SingleSelectField",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:'fields(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"}],type:"ProjectV2Item",abstractKey:null};e0.hash="9e108cec835ef8bbd41e623d8601e11b";let e1=(H=[U={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["fieldValues"]}]},name:"ProjectItemSectionFieldsValues",selections:[{alias:"fieldValues",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"__ProjectItemSection_fieldValues_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:z=[U,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:H,type:"ProjectV2Field",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"TextFieldFragment"},{kind:"InlineFragment",selections:z,type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"NumberFieldFragment"},{kind:"InlineFragment",selections:z,type:"ProjectV2ItemFieldDateValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"DateFieldFragment"},{kind:"InlineFragment",selections:[U,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:H,type:"ProjectV2SingleSelectField",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"SingleSelectFieldFragment"},{kind:"InlineFragment",selections:[U,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:H,type:"ProjectV2IterationField",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"IterationFieldFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__ProjectItemSection_fieldValues_connection(orderBy:{"direction":"ASC","field":"POSITION"})'}],type:"ProjectV2Item",abstractKey:null});e1.hash="6064e6f5025ede2958816599a371f827";var e2=a(34164);let e4={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DateFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DateFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null};e4.hash="77aee2b1b5d211b322b848ac87e2ca19";let e3={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DateFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};e3.hash="137f1e064b5aa98d4b4aa184ee4db814";var e8=a(83463);let e7=(q=[{defaultValue:null,kind:"LocalArgument",name:"input"}],G=[{kind:"Variable",name:"input",variableName:"input"}],Q={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},Y={alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:X=[W={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},J=[{kind:"Literal",name:"name",value:"Status"}],ee={kind:"InlineFragment",selections:[Z={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},et=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],el={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[ea={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[W,Z],type:"ProjectV2Field",abstractKey:null},en={kind:"InlineFragment",selections:X,type:"Node",abstractKey:"__isNode"}],storageKey:null},ed=[W,ei={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},es={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},er={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},eo={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],{fragment:{argumentDefinitions:q,kind:"Fragment",metadata:null,name:"clearProjectItemFieldValueMutation",selections:[{alias:null,args:G,concreteType:"ClearProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"clearProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[W,Q,Y,{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"},{alias:null,args:J,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[ee],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:q,kind:"Operation",name:"clearProjectItemFieldValueMutation",selections:[{alias:null,args:G,concreteType:"ClearProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"clearProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[W,Q,Y,{alias:null,args:et,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[ea,{kind:"InlineFragment",selections:[W,el,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[W,el,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[W,el,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[W,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[ea,{kind:"InlineFragment",selections:X,type:"ProjectV2SingleSelectField",abstractKey:null},en],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},Z,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[W,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[ea,{kind:"InlineFragment",selections:[W,Z,{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:ed,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:ed,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null},en],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},ei,es,er,eo],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},en],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:et,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"},{alias:null,args:J,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[ea,ee,en],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}]},params:{id:"d132dec069be1a67131a5e271bc909a6",metadata:{},name:"clearProjectItemFieldValueMutation",operationKind:"mutation",text:null}});function e5({environment:e,input:t,onError:a,onCompleted:n}){return(0,eU.commitMutation)(e,{mutation:e7,variables:{input:t},optimisticUpdater:e=>{let a,n;return a=`${eU.ConnectionHandler.getConnectionID(t.itemId,"ProjectItemSection_fieldValues")}(orderBy:{"direction":"ASC","field":"POSITION"})`,void((n=e.get(a))&&n.getLinkedRecords("edges")?.map((e,a)=>{if(e?.getLinkedRecord("node")?.getLinkedRecord("field")?.getDataID()===t.fieldId){let e=n.getLinkedRecords("edges")||[];e.splice(a,1),n.setLinkedRecords(e,"edges")}}))},onError:e=>a&&a(e),onCompleted:e=>n&&n(e)})}e7.hash="1cc97421540c4997953175725e1f92c9";let e9=(ec=[{defaultValue:null,kind:"LocalArgument",name:"input"}],eu=[{kind:"Variable",name:"input",variableName:"input"}],em=[{kind:"Literal",name:"name",value:"Status"}],eg={kind:"InlineFragment",selections:[ep={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},ef=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],eh={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},ek={kind:"InlineFragment",selections:eb=[ey={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},ex={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[eh,{kind:"InlineFragment",selections:[ey,ep],type:"ProjectV2Field",abstractKey:null},ek],storageKey:null},eI=[ey,ev={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},eC={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},ej={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},eS={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],{fragment:{argumentDefinitions:ec,kind:"Fragment",metadata:null,name:"updateProjectItemFieldValueMutation",selections:[{alias:null,args:eu,concreteType:"UpdateProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"updateProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"},{alias:null,args:em,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[eg],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:ec,kind:"Operation",name:"updateProjectItemFieldValueMutation",selections:[{alias:null,args:eu,concreteType:"UpdateProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"updateProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[{alias:null,args:ef,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[eh,{kind:"InlineFragment",selections:[ey,ex,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[ey,ex,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[ey,ex,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[ey,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[eh,{kind:"InlineFragment",selections:eb,type:"ProjectV2SingleSelectField",abstractKey:null},ek],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},ep,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[ey,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[eh,{kind:"InlineFragment",selections:[ey,ep,{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:eI,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:eI,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null},ek],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},ev,eC,ej,eS],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},ek],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:ef,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"},{alias:null,args:em,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[eh,eg,ek],storageKey:'fieldValueByName(name:"Status")'},ey],storageKey:null}],storageKey:null}]},params:{id:"8b296fae9f2499af49f72d6df68d6b5c",metadata:{},name:"updateProjectItemFieldValueMutation",operationKind:"mutation",text:null}});function e6({environment:e,input:t,onError:a,onCompleted:n}){return(0,eU.commitMutation)(e,{mutation:e9,variables:{input:t},optimisticUpdater:e=>(function(e,t){let a=`${eU.ConnectionHandler.getConnectionID(t.itemId,"ProjectItemSection_fieldValues")}(orderBy:{"direction":"ASC","field":"POSITION"})`,n=e.get(a);if(!n)return;let l=(n.getLinkedRecords("edges")?.map(e=>e.getLinkedRecord("node"))||[]).find(e=>{if(!e)return!1;let a=e.getLinkedRecord("field");return!!a&&a.getDataID()===t.fieldId});if(l)switch(l.getType()){case"ProjectV2ItemFieldTextValue":l.setValue(t.value.text,"text");break;case"ProjectV2ItemFieldNumberValue":l.setValue(t.value.number,"number");break;case"ProjectV2ItemFieldDateValue":l.setValue(t.value.date,"date");break;case"ProjectV2ItemFieldSingleSelectValue":{if(!t.value.singleSelectOptionId)return;let a=e.get(t.value.singleSelectOptionId);if(!a)return;for(let e of(l.setValue(t.value.singleSelectOptionId,"optionId"),["color","name","nameHTML"]))l.setValue(a.getValue(e),e);break}case"ProjectV2ItemFieldIterationValue":{if(!t.value.iterationId)return;let a=e.get(t.value.iterationId);if(!a)return;for(let e of(l.setValue(t.value.iterationId,"iterationId"),["duration","startDate","title","titleHTML"]))l.setValue(a.getValue(e),e)}}})(e,t),onError:e=>a&&a(e),onCompleted:e=>n&&n(e)})}e9.hash="de3a39d4584b64ead2a58f140d26d900";var te=a(8816),tt=a(73189),ta=a(26108),tn=a(35811);let tl="ProjectsSections-module__FieldListLi--wheLp",ti="ProjectsSections-module__FieldListUl--nweud";function ts({children:e,onClick:t,anchorProps:a,disabled:n,isStatusField:l=!1,placeholder:i}){return(0,eE.jsx)(tn.az,{as:n?void 0:"button","aria-label":n?"Field is not editable":i,onClick:n?tt.l:t,sx:{py:l?1:"var(--control-medium-paddingBlock)",minHeight:l?"var(--control-small-size)":"var(--control-xsmall-size)",...n?{paddingLeft:"6px",paddingRight:"6px"}:{"&:hover":{backgroundColor:"actionListItem.default.hoverBg"}}},className:"FieldWrapper-module__metadataFieldButton--qr7tn",...a,children:(0,eE.jsx)("div",{className:"FieldWrapper-module__fieldContentContainer--UA6kk",children:e})})}let tr=(0,e$.forwardRef)(function({name:e,placeholder:t,value:a,input:n,inputRef:l,anchorProps:i,showInput:s,setShowInput:r,canUpdate:o=!0,isStatusField:d=!1,onCommit:c=tt.l},u){let m=(0,e$.useRef)(null),p=(0,e$.useId)(),g=(0,e$.useCallback)(e=>{!i&&o?r(!0):i?.onClick&&i.onClick(e)},[i,o,r]);(0,e$.useEffect)(()=>{!0===s&&l&&l.current&&l.current.focus()},[l,s]);let f=(0,e2.$)("ProjectsSections-module__ListFieldWrapperText--cXqRk",d&&"ProjectsSections-module__FieldBasisAuto--kiwmO");return(0,eE.jsx)("span",{ref:u||m,className:"ProjectsSections-module__ListFieldWrapper--XmHs2",children:s?(0,eE.jsxs)("label",{className:"ProjectsSections-module__FieldWrapperLabel--EzGZt",children:[(0,eE.jsx)("p",{className:f,children:e}),(0,eE.jsxs)("span",{className:"ProjectsSections-module__FieldWrapperInputContainer--Vem8C",children:[n,(0,eE.jsx)(ta.K,{"aria-label":"Update","data-testid":"commit",size:"small",icon:eV.CheckIcon,onClick:()=>{c(),r(!1)},disabled:!o})]})]}):(0,eE.jsxs)(eE.Fragment,{children:[(0,eE.jsx)("p",{id:p,className:f,children:e}),(0,eE.jsx)(ts,{isStatusField:d,anchorProps:{...i,"aria-describedby":p},onClick:g,placeholder:"string"==typeof t?t:void 0,disabled:!o,children:a?(0,eE.jsx)("span",{className:"FieldWrapper-module__fieldValueText--CgERg",children:a}):(0,eE.jsx)("span",{className:"FieldWrapper-module__fieldPlaceholderText--qU9l7",children:t})})]})})});try{ts.displayName||(ts.displayName="MetadataButton")}catch{}try{tr.displayName||(tr.displayName="FieldWrapper")}catch{}function to({viewerCanUpdate:e,itemId:t,projectId:a,field:n,value:l,onIssueUpdate:i}){let s=(0,eU.useRelayEnvironment)(),r=(0,eU.useFragment)(e3,n),o=(0,eU.useFragment)(e4,l),d=r.id,c=r.name,u=o?new Date(o.date):null,m=u?(0,te.b)(u):"No date",[p,g]=(0,e$.useState)(u),[f,h]=(0,e$.useState)(!1),y=(0,e$.useCallback)(e=>{g(e),e?e6({environment:s,input:{fieldId:d,itemId:t,projectId:a,value:{date:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10)}},onCompleted:i}):e5({environment:s,input:{fieldId:d,itemId:t,projectId:a},onCompleted:i})},[s,d,t,i,a]),b=(0,e$.useCallback)(e=>(0,eE.jsx)(tr,{showInput:f,setShowInput:h,anchorProps:e,placeholder:ez.k.emptySections.datePlaceholder,value:m||ez.k.emptySections.noValue(c),name:c}),[m,c,f]);return e?(0,eE.jsx)(e8.DatePicker,{variant:"single",showClearButton:!0,value:p,onChange:y,anchor:b}):(0,eE.jsx)(tr,{showInput:f,setShowInput:h,placeholder:ez.k.emptySections.noValue(c),canUpdate:!1,name:c,value:m})}try{to.displayName||(to.displayName="DateField")}catch{}let td={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IterationFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"IterationFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldIterationValue",abstractKey:null};td.hash="57212d5c33092763cd6c9ea8afef0615";let tc=(eF=[{kind:"InlineDataFragmentSpread",name:"IterationFieldIterationFragment",selections:[eN={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],args:null,argumentDefinitions:[]}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IterationFieldConfigFragment",selections:[eN,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:eF,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:eF,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null});tc.hash="1820eb43fb63bb62abf4c8f24979732c";let tu={kind:"InlineDataFragment",name:"IterationFieldIterationFragment"};tu.hash="28591c2749a30e9b111acd7e77a057f9";var tm=a(86391),tp=a(73017),tg=a(84929);function tf({startDate:e,durationInDays:t,titleHTML:a}){var n,l;let i=new Date,s=(0,tg.H)(e),r=(n=s,l=t,new Date(n.getTime()+(l-1)*864e5)),o=s<=i&&i<=r,d=e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric"});return(0,eE.jsxs)("div",{className:"IterationItem-module__IterationItemContainer--DDoTl",children:[(0,eE.jsx)("div",{className:"IterationItem-module__iterationTitleContainer--Dlq2Q",children:(0,eE.jsx)(tp.JR,{html:a})}),(0,eE.jsx)(eE.Fragment,{children:"\u2022 "}),(0,eE.jsxs)("span",{className:"IterationItem-module__iterationDateRange--V5IVr",children:[`${d(s)} - ${d(r)}`," ",o&&(0,eE.jsx)(eE.Fragment,{children:"\u2022 "})]}),o&&(0,eE.jsx)("span",{className:"IterationItem-module__currentIndicator--vXDTT",children:"Current"})]})}try{tf.displayName||(tf.displayName="IterationItem")}catch{}let th={groupId:"completed",header:{title:"Completed",variant:"filled"}},ty={groupId:"active",header:{title:"Active",variant:"filled"}};function tb({viewerCanUpdate:e,itemId:t,projectId:a,field:n,value:l,onIssueUpdate:i}){let[s,r]=(0,e$.useState)(!1),o=(0,eU.useRelayEnvironment)(),d=(0,eU.useFragment)(tc,n),c=(0,eU.useFragment)(td,l),u=d.id,m=d.name,[p,g]=(0,e$.useState)(""),f=(0,e$.useCallback)(e=>{1===e.length?e6({environment:o,input:{fieldId:u,itemId:t,projectId:a,value:{iterationId:e[0].id}},onCompleted:i}):0===e.length&&e5({environment:o,input:{fieldId:u,itemId:t,projectId:a},onCompleted:i}),r(!1)},[o,u,t,a,i]),h=(0,e$.useCallback)(e=>{g(e)},[]),y=(0,e$.useMemo)(()=>{let e=(d.configuration?.iterations||[]).concat(d.configuration?.completedIterations||[]).map(e=>(0,eU.readInlineData)(tu,e));return p?e.filter(e=>e.title.toLowerCase().indexOf(p.toLowerCase())>=0):e},[d.configuration?.completedIterations,d.configuration?.iterations,p]),b=(0,e$.useMemo)(()=>new Set((d.configuration?.completedIterations||[]).map(e=>(0,eU.readInlineData)(tu,e).id)),[d.configuration?.completedIterations]),k=(0,e$.useMemo)(()=>{let e=d.configuration?.iterations||[],t=d.configuration?.completedIterations||[];return e.concat(t).map(e=>(0,eU.readInlineData)(tu,e)).filter(e=>e.id===c?.iterationId)},[d.configuration?.completedIterations,d.configuration?.iterations,c?.iterationId]),x=(0,e$.useCallback)(e=>({id:e.id,children:(0,eE.jsx)(tf,{startDate:e.startDate,durationInDays:e.duration,titleHTML:e.titleHTML}),source:e,groupId:b.has(e.id)?th.groupId:ty.groupId}),[b]),v=(0,e$.useCallback)(e=>(0,eE.jsx)(tr,{showInput:s,setShowInput:r,anchorProps:e,placeholder:ez.k.emptySections.iterationPlaceholder,value:c?(0,eE.jsx)(tf,{startDate:c.startDate,durationInDays:c.duration,titleHTML:c.titleHTML}):null,name:m}),[m,s,c]),C=(0,e$.useMemo)(()=>b.size>0?[ty,th]:[ty],[b.size]);return e?(0,eE.jsx)(tm.O,{items:y,groups:C,initialSelectedItems:k,filterItems:h,getItemKey:e=>e.id,convertToItemProps:x,placeholderText:ez.k.emptySections.iterationFilterPlaceholder,selectionVariant:"single",onSelectionChange:f,renderAnchor:v,height:"large"}):(0,eE.jsx)(tr,{showInput:s,setShowInput:r,value:c?(0,eE.jsx)(tf,{startDate:c.startDate,durationInDays:c.duration,titleHTML:c.titleHTML}):null,placeholder:ez.k.emptySections.noValue(m),canUpdate:!1,name:m})}try{tb.displayName||(tb.displayName="IterationField")}catch{}let tk={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NumberFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"NumberFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null};tk.hash="ac86c256f18719392417c8d6f6be4c01";let tx={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NumberFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};tx.hash="aa7c72083a9ec843850d1089ba1ddda3";var tv=a(66718),tC=a(99511),tj=a(29295);function tS({viewerCanUpdate:e,itemId:t,projectId:a,field:n,value:l,onIssueUpdate:i}){let[s,r]=(0,e$.useState)(!1),o=(0,e$.useRef)(null),d=(0,eU.useRelayEnvironment)(),c=(0,eU.useFragment)(tx,n),u=(0,eU.useFragment)(tk,l),m=c.id,p=c.name,g=u?.number?.toString()??"",[f,h]=(0,e$.useState)(g),[y,b]=(0,e$.useState)(void 0),k=(0,e$.useCallback)(()=>{y?(h(g),b(void 0)):e6({environment:d,input:{fieldId:m,itemId:t,projectId:a,value:{number:""===f?null:(0,tv.$J)(f)}},onCompleted:i})},[f,d,m,y,t,i,g,a]),x=(0,e$.useCallback)(e=>{b((0,tv.Ge)(e.target.value)),h(e.currentTarget.value)},[]),v=(0,e$.useCallback)(e=>{"Enter"===e.key&&(k(),r(!1)),"Escape"===e.key&&(e.stopPropagation(),o.current&&(h(g),o.current.blur(),r(!1)))},[k,g]);return e?(0,eE.jsx)(tr,{showInput:s,setShowInput:r,value:f,name:p,placeholder:ez.k.emptySections.numberPlaceholder,inputRef:o,onCommit:k,input:(0,eE.jsxs)("div",{children:[(0,eE.jsx)(tC.A,{"data-testid":"number-field-input",ref:o,size:"small",type:"number",onChange:x,onKeyDown:v,value:f,className:"NumberField-module__numberInput--niEAY"}),(0,eE.jsx)(tj.A,{caret:"top-left",open:!!y,children:(0,eE.jsx)(tj.A.Content,{className:"NumberField-module__errorMessagePointer--OzQjU",children:(0,eE.jsx)("span",{children:y})})})]})}):(0,eE.jsx)(tr,{showInput:s,setShowInput:r,placeholder:ez.k.emptySections.noValue(p),canUpdate:!1,value:f,name:p})}try{tS.displayName||(tS.displayName="NumberField")}catch{}let tI={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleSelectFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null};tI.hash="46251798d3a30836a6711ecaa3cc54e8";let tN={kind:"InlineDataFragment",name:"SingleSelectFieldOptionFragment"};tN.hash="be640a30fa15271b4fa34e75d3ddb9b1";let tF={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleSelectFieldConfigFragment",selections:[e_={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},eL={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"SingleSelectFieldOptionFragment",selections:[e_,{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},eL,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},ew={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null}],args:null,argumentDefinitions:[]},e_,eL,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},ew],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null};tF.hash="7609e6b1ac2a8d003401b9f85fcd3e61";let t_={overflow:"hidden",cursor:"inherit","> span":{overflow:"hidden",textOverflow:"ellipsis"}},tL={overflow:"hidden",textOverflow:"ellipsis",display:"inline-flex",cursor:"inherit","> span":{verticalAlign:"text-top"}};var tw=a(14307);let tT=({inputName:e,inputColor:t})=>{let a=(0,tw.Wk)(t);return(0,eE.jsx)(tn.ou,{sx:{bg:a.bg,color:a.fg,borderColor:a.border,":hover":{bg:a.bg,color:a.fg,borderColor:a.border},...tL},size:"medium",text:e,className:"SingleSelectToken-module__Token--FOSN8"})},tA=({inputColor:e})=>{let{bg:t,accent:a}=(0,tw.Wk)(e);return(0,eE.jsx)(tn.az,{sx:{bg:t,borderColor:a},className:"SingleSelectToken-module__colorIndicator--mFcTC"})};try{tT.displayName||(tT.displayName="SingleSelectToken")}catch{}try{tA.displayName||(tA.displayName="SingleSelectLeadingVisual")}catch{}function tE({viewerCanUpdate:e,itemId:t,projectId:a,field:n,value:l,onIssueUpdate:i,isStatusField:s}){let[r,o]=(0,e$.useState)(!1),d=(0,eU.useRelayEnvironment)(),c=(0,eU.useFragment)(tF,n),u=(0,eU.useFragment)(tI,l),m=c.id,p=c.name,[g,f]=(0,e$.useState)(""),h=(0,e$.useCallback)(e=>{1===e.length?e6({environment:d,input:{fieldId:m,itemId:t,projectId:a,value:{singleSelectOptionId:e[0].optionId}},onCompleted:i}):0===e.length&&e5({environment:d,input:{fieldId:m,itemId:t,projectId:a},onCompleted:i}),o(!1)},[d,m,t,i,a]),y=(0,e$.useCallback)(e=>{f(e)},[]),b=(0,e$.useMemo)(()=>{let e=(c.options||[]).map(e=>(0,eU.readInlineData)(tN,e));return g?e.filter(e=>e.name.toLowerCase().indexOf(g.toLowerCase())>=0):e},[c.options,g]),k=(0,e$.useMemo)(()=>(c.options||[]).map(e=>(0,eU.readInlineData)(tN,e)).filter(e=>e.optionId===u?.optionId),[c.options,u?.optionId]),x=(0,e$.useCallback)(e=>({id:e.optionId,children:(0,eE.jsxs)("div",{className:"SingleSelectField-module__optionContent--xJjmm",children:[(0,eE.jsx)(tp.JR,{html:e.nameHTML}),(0,eE.jsx)(tp.JR,{html:e.descriptionHTML,className:"SingleSelectField-module__VerifiedHTMLText--zOUZc"})]}),source:e,leadingVisual:()=>(0,eE.jsx)(tA,{inputColor:e.color})}),[]),v=(0,e$.useCallback)(e=>(0,eE.jsx)(tr,{showInput:r,setShowInput:o,name:p,isStatusField:s,placeholder:s?(0,eE.jsxs)("div",{className:"SingleSelectField-module__statusPlaceholder--VhnZp",children:[ez.k.emptySections.status,(0,eE.jsx)(eV.TriangleDownIcon,{})]}):(0,eE.jsx)(eE.Fragment,{children:ez.k.emptySections.singleSelectFilterPlaceholder}),value:u?.name&&u?.color?(0,eE.jsxs)("div",{className:"SingleSelectField-module__selectedValueContainer--kmRuq",children:[(0,eE.jsx)(tT,{inputName:u.name,inputColor:u.color}),s&&(0,eE.jsx)(eV.TriangleDownIcon,{})]}):null,anchorProps:e}),[p,s,r,u?.color,u?.name]);if(!e)return(0,eE.jsx)(tr,{showInput:r,setShowInput:o,canUpdate:!1,name:p,placeholder:ez.k.emptySections.noValue(p),value:u?.name?(0,eE.jsx)(tn.ou,{sx:(u.name,tL),size:"large",text:u.name}):null,isStatusField:s});return(0,eE.jsx)(tm.O,{items:b,initialSelectedItems:k,filterItems:y,getItemKey:e=>e.optionId,convertToItemProps:x,placeholderText:ez.k.emptySections.singleSelectFilterPlaceholder,selectionVariant:"single",onSelectionChange:h,renderAnchor:v,height:"large"})}try{tE.displayName||(tE.displayName="SingleSelectField")}catch{}let tK={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"TextFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null};tK.hash="69f479d8a39d90ca27cb126efa7b738b";let tP={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};tP.hash="7fbd4e4b2889e3438c0acaa4655bcc8d";var tD=a(71315),tR=a(94236),tM=a(8645);function tV({viewerCanUpdate:e,itemId:t,projectId:a,field:n,value:l,onIssueUpdate:i}){let s=(0,eU.useRelayEnvironment)(),r=(0,e$.useRef)(null),o=(0,eU.useFragment)(tP,n),d=(0,eU.useFragment)(tK,l),c=o.id,u=o.name,[m,p]=(0,e$.useState)(!1),[g,f]=(0,e$.useState)(d?.text??""),h=(0,e$.useCallback)(()=>{e6({environment:s,input:{fieldId:c,itemId:t,projectId:a,value:{text:g}},onCompleted:i})},[s,c,t,a,g,i]),y=(0,e$.useCallback)(e=>{f(e.target.value)},[]),b=(0,e$.useCallback)(e=>{"Enter"===e.key&&(h(),p(!1)),"Escape"===e.key&&(e.stopPropagation(),r.current&&(f(d?.text??""),r.current.blur(),p(!1)))},[h,d?.text]),[k,x]=(0,e$.useState)(!1),v=(0,e$.useRef)(null),C=(0,e$.useCallback)(e=>()=>tD.cg?.open((0,tM.ml)(e),"_blank","noreferrer"),[]),j=(0,e$.useCallback)(()=>p(!0),[p]),S=(0,e$.useCallback)(()=>x(!0),[x]),I=(0,e$.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),S())},[S]),N=(0,e$.useCallback)(t=>e&&t.preventDefault(),[e]),F=(0,e$.useMemo)(()=>g.split(/(\s+)/),[g]),[_,L,w]=(0,e$.useMemo)(()=>{let e=[],t=!1;return[F.map((a,n)=>{let l=(0,tM.o2)(a),i=(0,tM.ml)(l);return(0,tM.Y9)(i)&&(0,tM.cE)(i)?(t=!0,e.push(a),(0,eE.jsx)(eJ.A,{tabIndex:0,href:(0,tM.ml)(a),onKeyDown:I,onClick:N,target:"_blank",children:a},`text-field-link-${n}`)):a}),t,e]},[F,N,I]),T=L?{onClick:S}:void 0,A=(0,eE.jsx)(tR.W,{open:k,onOpenChange:e=>x(e),anchorRef:v,children:(0,eE.jsx)(tR.W.Overlay,{width:"small",children:(0,eE.jsx)(eO.l,{children:(0,eE.jsxs)(eO.l.Group,{children:[w?.map((e,t)=>(0,eE.jsxs)(eO.l.Item,{onSelect:C(e),role:"button",children:[(0,eE.jsx)(eO.l.LeadingVisual,{children:(0,eE.jsx)(eV.LinkIcon,{})}),e]},t)),e&&(0,eE.jsxs)(eO.l.Item,{onSelect:j,role:"button",children:[(0,eE.jsx)(eO.l.LeadingVisual,{children:(0,eE.jsx)(eV.PencilIcon,{})}),"Edit"]})]})})})});return e?(0,eE.jsxs)(eE.Fragment,{children:[(0,eE.jsx)(tr,{ref:v,value:_,anchorProps:T,name:u,placeholder:"Enter text\u2026",inputRef:r,showInput:m,setShowInput:p,onCommit:h,input:(0,eE.jsx)(tC.A,{"data-testid":"text-field-input",ref:r,size:"small",onChange:y,onKeyDown:b,value:g,className:"TextField-module__projectTextInput--XPyxL"})}),A]}):(0,eE.jsx)(tr,{showInput:m,setShowInput:p,placeholder:`No ${u}`,canUpdate:!1,value:_,name:u})}try{tV.displayName||(tV.displayName="TextField")}catch{}function tO({projectItem:e,onIssueUpdate:t}){let a=(0,eU.useFragment)(e0,e),{fieldValues:n}=(0,eU.useFragment)(e1,a),l=(0,e$.useMemo)(()=>(a?.project.fields?.edges||[]).map(e=>{if(!e?.node||e.node.isIssueField||"Status"===e.node.name)return;let l=e.node,i=l.dataType,s=l.id,r=(n?.edges||[]).flatMap(e=>e?.node?[e.node]:[]).find(e=>e?.field?.id===s)||null,o={key:s,viewerCanUpdate:!a.isArchived&&a.project.viewerCanUpdate,itemId:a.id,projectId:a.project.id,field:l,value:r,onIssueUpdate:t};switch(i){case"SINGLE_SELECT":return(0,e$.createElement)(tE,{...o,key:o.key});case"TEXT":return(0,e$.createElement)(tV,{...o,key:o.key});case"DATE":return(0,e$.createElement)(to,{...o,key:o.key});case"NUMBER":return(0,e$.createElement)(tS,{...o,key:o.key});case"ITERATION":return(0,e$.createElement)(tb,{...o,key:o.key})}}).filter(e=>void 0!==e),[a.project.fields?.edges,a.project.viewerCanUpdate,a.project.id,a.isArchived,a.id,n?.edges,t]);return 0===l.length?(0,eE.jsx)(eE.Fragment,{children:" "}):(0,eE.jsx)("ul",{className:(0,e2.$)(ti,"ProjectsSections-module__FieldListInternal--NLirt"),children:l.map((e,t)=>(0,eE.jsx)("li",{className:tl,children:e},`project-field-${t}`))})}try{tO.displayName||(tO.displayName="ProjectItemSectionFields")}catch{}var tB=a(41057);function t$(){return(0,eE.jsx)("ul",{className:ti,children:(0,eE.jsxs)("li",{style:{margin:"0 2 2 3"},children:[(0,eE.jsx)(tU,{}),(0,eE.jsx)(tU,{}),(0,eE.jsx)(tU,{})]})})}function tU(){return(0,eE.jsxs)("span",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:5,width:"100%",marginTop:2},children:[(0,eE.jsx)(tB.Q,{height:"md",width:"25%"}),(0,eE.jsx)(tB.Q,{height:"md",width:"40%"})]})}try{t$.displayName||(t$.displayName="ProjectItemSectionFieldsLoading")}catch{}try{tU.displayName||(tU.displayName="ProjectFieldLoading")}catch{}function tH(e){return(0,eE.jsx)(e$.Suspense,{fallback:(0,eE.jsx)(t$,{}),children:(0,eE.jsx)(tz,{...e})})}function tz({isArchived:e,projectItemId:t,projectId:a,onIssueUpdate:n}){let l=(0,eU.useRelayEnvironment)(),{addToast:i}=(0,eM.Y6)(),{node:s}=(0,eU.useLazyLoadQuery)(eY,{id:t}),r=(0,e$.useCallback)(()=>{!function({environment:e,input:t,onError:a,onCompleted:n}){(0,eU.commitMutation)(e,{mutation:eZ,variables:{input:t},onError:e=>a&&a(e),onCompleted:e=>n&&n(e)})}({environment:l,input:{projectId:a,itemId:t},onCompleted:()=>{i({type:"success",message:ez.k.archivedSuccess})},onError:()=>{i({type:"error",message:ez.k.archivedError})}})},[l,a,t,i]);if(!s||!s.project)return null;let o=e&&s.project.viewerCanUpdate;return(0,eE.jsxs)(eE.Fragment,{children:[o&&(0,eE.jsx)("ul",{className:ti,children:(0,eE.jsx)("li",{className:tl,children:(0,eE.jsxs)("span",{className:"ProjectsSections-module__FieldListLiText--zEDBh",children:[ez.k.archivedDescription,"\xa0",(0,eE.jsx)(eJ.A,{onClick:r,className:"ProjectItemSectionFieldList-module__restoreLink--npi95",children:"Restore"})]})})}),(0,eE.jsx)(tO,{onIssueUpdate:n,projectItem:s})]})}try{tH.displayName||(tH.displayName="ProjectItemSectionFieldList")}catch{}try{tz.displayName||(tz.displayName="ProjectItemSectionFieldListInternal")}catch{}let tq={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSectionView",selections:[eT={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[eT,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:eA=[{kind:"Literal",name:"name",value:"Status"}],concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SingleSelectFieldConfigFragment"}],storageKey:'field(name:"Status")'}],storageKey:null},{alias:null,args:eA,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SingleSelectFieldFragment"}],storageKey:'fieldValueByName(name:"Status")'}],type:"ProjectV2Item",abstractKey:null};tq.hash="7d5cd0d9d7271a8e8f19cce6e01dac52";var tG=a(51802),tW=a(69497),tQ=a(10095);function tX({projectItem:e,setOpen:t,open:a,isProjectOpen:n}){let{id:l,project:i,fieldValueByName:s,isArchived:r}=(0,eU.useFragment)(tq,e);return(0,eE.jsxs)("div",{className:"ProjectItemSectionView-module__ProjectItemSectionViewContainer--Pjx02",children:[n?(0,eE.jsxs)("span",{className:"ProjectItemSectionView-module__projectTitleText--AeMlK",children:[(0,eE.jsx)(tQ.A,{icon:i.template?eV.ProjectTemplateIcon:eV.TableIcon}),(0,eE.jsx)("span",{className:"ProjectItemSectionView-module__truncatedProjectTitle--rFO6B",children:i.title})]}):(0,eE.jsx)("div",{className:"ProjectItemSectionView-module__projectLinkContainer--aLELu",children:(0,eE.jsxs)(eJ.A,{href:i.url,hoverColor:"accent.fg",tabIndex:0,className:"ProjectItemSectionView-module__projectLink--su_OB",children:[(0,eE.jsx)(tQ.A,{icon:i.template?eV.ProjectTemplateIcon:eV.TableIcon}),(0,eE.jsx)(tW.A,{title:i.title,"data-testid":tG.Y.projectTitle,className:"ProjectItemSectionView-module__Truncate--CxV2L",children:i.title})]})}),(0,eE.jsxs)("div",{className:"ProjectItemSectionView-module__statusFieldContainer--yap_1",children:[i.field&&void 0!==s&&(0,eE.jsx)(tE,{viewerCanUpdate:i.viewerCanUpdate&&!r,itemId:l,projectId:i.id,field:i.field,value:s,isStatusField:!0}),(0,eE.jsx)(ta.K,{variant:"invisible",onClick:()=>{t(!a)},size:"small",icon:a?eV.ChevronUpIcon:eV.ChevronDownIcon,"aria-label":a?ez.k.hideMoreProjectFields:ez.k.showMoreProjectFields,"aria-expanded":a})]})]})}try{tX.displayName||(tX.displayName="ProjectItemSectionView")}catch{}function tY({projectItem:e,onIssueUpdate:t,isOpen:a=!1}){let[n,l]=(0,e$.useState)(a),i=(0,eU.useFragment)(eX,e);return(0,eE.jsxs)("div",{className:"ProjectItemSection-module__ProjectItemSectionContainer--BQnwM",children:[(0,eE.jsx)(tX,{projectItem:i,open:n,setOpen:l,onIssueUpdate:t,isProjectOpen:a}),n&&(0,eE.jsx)(tH,{projectItemId:i.id,projectId:i.project.id,isArchived:i.isArchived,onIssueUpdate:t})]})}try{tY.displayName||(tY.displayName="ProjectItemSection")}catch{}let tJ=()=>(0,eE.jsx)(eG.h,{title:ez.k.sectionTitles.projects}),tZ=(0,e$.forwardRef)((e,t)=>(0,eE.jsx)(eQ.X,{ref:t,id:e.id,title:ez.k.sectionTitles.projects,buttonProps:e}));tZ.displayName="ProjectsSectionHeader";let t0=({sectionHeader:e,hasItems:t,children:a})=>(0,eE.jsx)(eW.w,{id:"sidebar-projects-section",sectionHeader:e,emptyText:t?void 0:ez.k.emptySections.projects,children:a}),t1=()=>(0,eE.jsx)(eW.w,{id:"projects-section-fallback",sectionHeader:(0,eE.jsx)(eG.h,{title:"Projects are currently unavailable"}),emptyText:"Please try again later"}),t2=({owner:e,repo:t,projects:a,readonly:n,onSelectionChange:l,...i})=>{let s="create-issue-sidebar-projects-section-heading",r=n?(0,eE.jsx)(tJ,{}):(0,eE.jsx)(eP.wX,{pickerId:"create-issue-projects-picker",owner:e,repo:t,selectedProjects:a,readonly:n,onSave:l,anchorElement:e=>(0,eE.jsx)(tZ,{...e,id:s}),...i});return(0,eE.jsx)(eR.t,{fallback:(0,eE.jsx)(t1,{}),children:(0,eE.jsx)(t0,{sectionHeader:r,hasItems:a.length>0,children:a.length>0&&(0,eE.jsx)(eO.l,{"aria-labelledby":s,variant:"full",className:"ProjectsSection-module__projectActionList--VG9Tr",children:a.map(e=>(0,eE.jsx)(eO.l.LinkItem,{href:e.url,className:"ProjectsSection-module__ActionList_LinkItem--fZc7M",children:e.title},e.id))})})})},t4=eK;function t3(e){let t=(0,eU.useFragment)(t4,e.issueOrPullRequest);return t.projectItemsNext?(0,eE.jsx)(t8,{projectsSectionData:t,...e}):(0,eE.jsx)(t1,{})}let t8=({projectsSectionData:e,allowedProjectOwner:t,onIssueUpdate:a,insideSidePanel:n,selectedProjectId:l,readonly:i})=>{let{addToast:s}=(0,eM.Y6)(),r=(e.projectItemsNext?.edges??[]).flatMap(e=>e?.node?e?.node:[]).filter(e=>!0!==e.project.closed),o=(e.projectItemsNext?.edges??[]).flatMap(e=>e?.node?e?.node:[]).filter(e=>!0===e.project.closed),[d,c]=(0,e$.useState)(!1),{viewerCanUpdateMetadata:u,viewerCanUpdate:m,repository:p}=e,g=i||!(u||m)||p?.isArchived,f=e.id||"",h=r.length>0||o.length>0,y=eH.ConnectionHandler.getConnectionID(f,"ProjectSection_projectItemsNext",{allowedOwner:t}),b=(0,eU.useRelayEnvironment)(),k=(0,e$.useCallback)(e=>{let t=e.filter(e=>!r.some(t=>t.project.id===e.id)),n=r.filter(t=>!e.some(e=>e.id===t.project.id)),l=!1;for(let e of t)(0,eD.Z)({environment:b,connectionId:y,projectId:e.id,issueId:f,onError:()=>l=!0,onCompleted:a});for(let e of n)!function({environment:e,connectionId:t,projectId:a,itemId:n,onError:l,onCompleted:i}){(0,eU.commitMutation)(e,{mutation:eq,variables:{input:{itemId:n,projectId:a},connections:[t]},onError:e=>l&&l(e),onCompleted:e=>i&&i(e)})}({environment:b,connectionId:y,projectId:e.project.id,itemId:e.id,onError:()=>l=!0,onCompleted:a});l&&s({type:"error",message:"Could not update projects"})},[s,y,b,f,a,r]),x=(0,e$.useMemo)(()=>r.map(e=>e.project),[r]),v=o.length,C=(0,e$.useMemo)(()=>!e.repository||g?(0,eE.jsx)(tJ,{}):(0,eE.jsx)(eP.wX,{pickerId:`edit-issue-projects-picker-${f}`,repo:e.repository.name,owner:e.repository.owner.login,selectedProjects:x,readonly:g,onSave:k,anchorElement:e=>(0,eE.jsx)(tZ,{...e}),insidePortal:n}),[f,e.repository,g,k,x,n]);return e.repository&&e.number?(0,eE.jsx)(t0,{sectionHeader:C,hasItems:h,children:(0,eE.jsxs)("div",{className:"ProjectsSection-module__projectItemsContainer--XwAWz",children:[r.map(e=>(0,eE.jsx)(tY,{onIssueUpdate:a,projectItem:e,isOpen:l===e.project.id},e.id)),v>0&&(0,eE.jsxs)(eE.Fragment,{children:[(0,eE.jsx)(eB.Q,{variant:"invisible",trailingVisual:d?eV.ChevronUpIcon:eV.ChevronDownIcon,onClick:()=>c(!d),"aria-label":ez.k.showClosedProjects,className:"ProjectsSection-module__toggleClosedProjectsButton--E9nMY",children:`${v} closed project${v>1?"s":""}`}),d&&o.map(e=>(0,eE.jsx)(tY,{onIssueUpdate:a,projectItem:e,isOpen:l===e.project.id},e.id))]})]})}):null};try{tJ.displayName||(tJ.displayName="ReadonlyProjectsSectionHeader")}catch{}try{t0.displayName||(t0.displayName="ProjectsSection")}catch{}try{t1.displayName||(t1.displayName="ProjectsSectionFallback")}catch{}try{t2.displayName||(t2.displayName="CreateIssueProjectsSection")}catch{}try{t3.displayName||(t3.displayName="EditIssueProjectsSection")}catch{}try{t8.displayName||(t8.displayName="EditIssueProjectsSectionInternal")}catch{}},30459:(e,t,a)=>{a.d(t,{S:()=>o,s:()=>r});var n=a(21728),l=a(96540),i=a(53419),s=a(49936);function r(){let e,t,a=(0,n.c)(6),r=(0,l.useContext)(s.I);if(!r)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:o,category:d,metadata:c}=r;a[0]!==o||a[1]!==d||a[2]!==c?(e=(e,t,a)=>{let n={react:!0,app_name:o,category:d,...c};(0,i.BI)(e,{...n,...void 0===a?{}:a,target:t})},a[0]=o,a[1]=d,a[2]=c,a[3]=e):e=a[3];let u=e;return a[4]!==u?(t={sendAnalyticsEvent:u},a[4]=u,a[5]=t):t=a[5],t}function o(){let e,t,a=(0,n.c)(4),{sendAnalyticsEvent:l}=r();a[0]!==l?(e=e=>{l("analytics.click",void 0,void 0===e?{}:e)},a[0]=l,a[1]=e):e=a[1];let i=e;return a[2]!==i?(t={sendClickAnalyticsEvent:i},a[2]=i,a[3]=t):t=a[3],t}},30617:(e,t,a)=>{a.d(t,{X:()=>o});var n=a(78314),l=a(25407),i=a(76648),s=a(96379),r=a(96540);function o(){let e=(0,n.t)(),{commit:t}=(0,i.B)(),a=`/${(0,l.QU3)(e.ownerLogin)}/${(0,l.QU3)(e.name)}/commit_comment`,o=`${a}/create`,d=(0,r.useCallback)(async(e,a,n)=>{let l=new FormData;l.append("commit_id",t.oid),l.append("comment[body]",e),a&&n&&(l.append("path",a),l.append("position",n.toString()));let i=await (0,s.DI)(o,{method:"POST",body:l});return i.ok?{error:null,comment:(await i.json()).comment}:{error:Error("Failed to add comment"),comment:null}},[t.oid,o]),c=(0,r.useCallback)(async(e,t)=>{let n=new FormData;n.append("_method","put"),n.append("commit_comment[id]",t.id.toString()),n.append("commit_comment[body]",e),n.append("commit_comment[bodyVersion]",t.bodyVersion);let l=await (0,s.DI)(a,{method:"POST",body:n});if(!l.ok)return{error:Error("Failed to edit comment"),updatedFields:null};{let e=await l.json();return{error:null,updatedFields:{body:e.source,bodyVersion:e.bodyVersion,htmlBody:e.body}}}},[a]),u=(0,r.useCallback)(async e=>{let t=new FormData;return(t.append("_method","delete"),t.append("commit_comment[id]",e),(await (0,s.DI)(a,{method:"POST",body:t})).ok)?"success":"error"},[a]),m=(0,r.useCallback)(async(e,t)=>{let n=new FormData;return(n.append("_method","put"),n.append("classifier",t),(await (0,s.DI)(`${a}/${e}/minimize`,{method:"POST",body:n,headers:{Accept:"application/json"}})).ok)?"success":"error"},[a]),p=(0,r.useCallback)(async e=>{let t=new FormData;return(t.append("_method","put"),(await (0,s.DI)(`${a}/${e}/unminimize`,{method:"POST",body:t,headers:{Accept:"application/json"}})).ok)?"success":"error"},[a]),g=(0,r.useMemo)(()=>({repository:{databaseId:e.id,nwo:`${e.ownerLogin}/${e.name}`,slashCommandsEnabled:!1},type:"commit",id:{id:t.oid}}),[e.id,e.name,e.ownerLogin,t.oid]);return(0,r.useMemo)(()=>({addComment:d,commentBoxSubject:g,editComment:c,deleteComment:u,hideComment:m,unhideComment:p}),[d,u,c,m,p,g])}},32232:(e,t,a)=>{a.d(t,{Ir:()=>eh,_g:()=>ek,mK:()=>eS,fH:()=>ep,uX:()=>em});var n,l,i,s,r,o,d,c,u,m,p,g,f,h,y,b,k,x,v,C,j,S,I,N,F,_,L,w,T,A,E,K,P,D,R=a(74848);let M=(n={defaultValue:null,kind:"LocalArgument",name:"first"},l={defaultValue:null,kind:"LocalArgument",name:"name"},i={defaultValue:null,kind:"LocalArgument",name:"number"},s={defaultValue:null,kind:"LocalArgument",name:"owner"},r={defaultValue:null,kind:"LocalArgument",name:"query"},o=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],d=[{kind:"Variable",name:"number",variableName:"number"}],c=[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"query",variableName:"query"}],u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},h={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},y={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},b={kind:"InlineFragment",selections:[m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},{fragment:{argumentDefinitions:[n,l,i,s,r],kind:"Fragment",metadata:null,name:"AssigneePickerSearchAssignableUsersSharedQuery",selections:[{alias:null,args:o,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"issueOrPullRequest",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"CatchField",field:{alias:null,args:c,concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[u,m,p,g,f,h,y],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null},action:"THROW"}],storageKey:null},to:"RESULT"}],type:"Assignable",abstractKey:"__isAssignable"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,l,i,r,n],kind:"Operation",name:"AssigneePickerSearchAssignableUsersSharedQuery",selections:[{alias:null,args:o,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"issueOrPullRequest",plural:!1,selections:[u,{kind:"InlineFragment",selections:[{alias:null,args:c,concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[u,{kind:"InlineFragment",selections:[m,p,g,f,h,y],type:"Actor",abstractKey:"__isActor"},b],storageKey:null}],storageKey:null}],type:"Assignable",abstractKey:"__isAssignable"},b],storageKey:null},m],storageKey:null}]},params:{id:"d5d76334fbdc19a4d20466060a837669",metadata:{},name:"AssigneePickerSearchAssignableUsersSharedQuery",operationKind:"query",text:null}});M.hash="d2141790a7808addaa1568cc651514c9";let V={fragment:{argumentDefinitions:[k={defaultValue:null,kind:"LocalArgument",name:"capabilities"},x={defaultValue:null,kind:"LocalArgument",name:"first"},v={defaultValue:null,kind:"LocalArgument",name:"loginNames"},C={defaultValue:null,kind:"LocalArgument",name:"name"},j={defaultValue:null,kind:"LocalArgument",name:"owner"},S={defaultValue:null,kind:"LocalArgument",name:"query"}],kind:"Fragment",metadata:null,name:"AssigneePickerSearchAssignableRepositoryUsersSharedQuery",selections:[{alias:null,args:I=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{kind:"CatchField",field:{alias:null,args:N=[{kind:"Variable",name:"capabilities",variableName:"capabilities"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"loginNames",variableName:"loginNames"},{kind:"Variable",name:"query",variableName:"query"}],concreteType:"ActorConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[F={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},A={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},E={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},action:"THROW"},K={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null},to:"RESULT"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[j,C,S,v,x,k],kind:"Operation",name:"AssigneePickerSearchAssignableRepositoryUsersSharedQuery",selections:[{alias:null,args:I,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:N,concreteType:"ActorConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[F,{kind:"TypeDiscriminator",abstractKey:"__isActor"},_,L,w,T,A,E],storageKey:null},K],storageKey:null},_],storageKey:null}]},params:{id:"dc39149f5b0808ed7057c07ebb22e923",metadata:{},name:"AssigneePickerSearchAssignableRepositoryUsersSharedQuery",operationKind:"query",text:null}};V.hash="f6c4e298b2947d454ba6232c27099acc";let O={kind:"InlineDataFragment",name:"AssigneePickerSharedAssignee"};O.hash="d8c57c253a2f9513f6daa2dbe67a0412";var B=a(94099),$=a(69599),U=a(84363),H=a(24453),z=a(91253),q=a(66040),G=a(96540),W=a(94747),Q=a(96379),X=a(47544);async function Y(e){let t=(0,X.R1)(),a={ids:e.ids};return e.applyAssigneeIds&&e.applyAssigneeIds.length>0&&(a.applyAssigneeIds=e.applyAssigneeIds),e.removeAssigneeIds&&e.removeAssigneeIds.length>0&&(a.removeAssigneeIds=e.removeAssigneeIds),(await (0,Q.lS)(t,{method:"POST",body:a})).json()}var J=a(73049);function Z({onError:e,onCompleted:t,onMutate:a,issuesToActOn:n,assigneesAppliedToAll:l,assigneesAppliedToSome:i,existingIssueAssignees:s,connectionIds:r,issueNumbers:o,repository:d,...c}){let{mutate:u}=function({onMutate:e}){return(0,W.n)({mutationFn:async({assignees:e,...t})=>{let a=await Y(t);return(0,J.A)(a)},onMutate:e})}({onMutate:a}),m=(0,G.useCallback)(a=>{let i=a.filter(e=>!l.some(t=>t.id===e.id)),s=l.filter(e=>!a.some(t=>t.id===e.id));(i.length||s.length)&&u({ids:[...n],applyAssigneeIds:i.map(e=>e.id),removeAssigneeIds:s.map(e=>e.id),assignees:a},{onSuccess:e=>t?.(e.data.updateIssuesBulk.jobId),onError:e})},[u,n,l,t,e]);return(0,R.jsx)(q._g,{...c,onSelectionChange:m,assignees:l,assigneeTokens:[],includeAssignableBots:!0,includeAuthorableBots:!1,responsiveOnNarrow:!0})}try{Z.displayName||(Z.displayName="BulkIssueAssigneePicker")}catch{}var ee=a(67126),et=a(49275),ea=a(38143),en=a(81289),el=a(30721),ei=a(71315),es=a(18312),er=a(72274);let eo={fragment:{argumentDefinitions:P=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"updateIssueAssigneesBulkMutationSharedMutation",selections:D=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:P,kind:"Operation",name:"updateIssueAssigneesBulkMutationSharedMutation",selections:D},params:{id:"8efb615d7267ee969e85942df5a92054",metadata:{},name:"updateIssueAssigneesBulkMutationSharedMutation",operationKind:"mutation",text:null}};eo.hash="84492e5d1b2df48c5241319563ccba26";var ed=a(69487);function ec(e,t,a,n,l){for(let i of t){if(!e.get(i))return;let t=n[i]?.map(t=>e.get(t));l.applyAssigneeIds.map(n=>{if(a.get(i)?.includes(n))return;let l=e.get(n);l&&t?.filter(e=>e).map(t=>{let a=t&&ed.ConnectionHandler.createEdge(e,t,l,"AssigneeEdge");a&&ed.ConnectionHandler.insertEdgeBefore(t,a)})}),l.removeAssigneeIds.map(e=>{t?.filter(e=>e).map(t=>t&&ed.ConnectionHandler.deleteNode(t,e))})}}var eu=a(33987);function em(e){return(0,es.readInlineData)(ef,e)}async function ep(e,t){let{owner:a,repo:n,assignees:l,capabilities:i}=t,s=await (0,el.SD)({environment:e,query:eg,variables:{owner:a,name:n,loginNames:l.join(",")??[],first:l.length??0,capabilities:i}}).toPromise();return s?.repository?.suggestedActors?.ok?(s?.repository?.suggestedActors?.value.nodes??[]).filter(e=>!!e).map(e=>em(e)):[]}let eg=V,ef=O;function eh(e){return(0,$.G7)("item_picker_assignee_tsq_migration")?(0,R.jsx)(ey,{...e}):(0,R.jsx)(eb,{...e})}function ey(e){let t=(0,er.u)();return(0,R.jsx)(q.Ir,{...e,viewer:t})}function eb({anchorElement:e,...t}){return(0,R.jsx)(en.y,{anchorElement:(t,a)=>e(t,a),createChild:()=>(0,R.jsx)(ej,{anchorElement:(t,a)=>e(t,a),triggerOpen:!0,...t}),insidePortal:t.insidePortal,keybindingCommandId:eF(t.name)})}function ek(e){return(0,$.G7)("item_picker_assignee_tsq_migration")?(0,R.jsx)(ex,{...e}):(0,R.jsx)(ev,{...e})}function ex(e){let t=(0,er.u)();return(0,R.jsx)(q._g,{...e,viewer:t})}function ev({anchorElement:e,...t}){return(0,R.jsx)(en.y,{anchorElement:(t,a)=>e(t,a),keybindingCommandId:eF(t.name),createChild:()=>(0,R.jsx)(eC,{anchorElement:e,triggerOpen:!0,...t})})}function eC({repo:e,owner:t,assignees:a,assigneeTokens:n,suggestions:l,maximumAssignees:i,includeAssignableBots:s,includeAuthorableBots:r,...o}){let d=(0,es.useRelayEnvironment)(),[c,u]=(0,G.useState)(!1),[m,p]=(0,G.useState)(null),[g,f]=(0,G.useState)(null),[h,y]=(0,G.useState)(null),b=(0,G.useMemo)(()=>(0,eu.M)({includeAssignableBots:s,includeAuthorableBots:r}),[s,r]),k=n.length>0;(0,G.useEffect)(()=>{!ei.X3&&k&&(u(!0),(0,el.SD)({environment:d,query:eg,variables:{owner:t,name:e,loginNames:n.join(","),first:n.length,capabilities:b}}).subscribe({next:e=>{p(e??null),u(!1)},error:()=>{u(!1)}}))},[d,t,e,n,s,r,b,k]);let x=(0,G.useCallback)(a=>h&&h<=ea.t.maximumSuggestedUsers&&g?(u(!1),(0,U.t)({items:[...g,...o.noAssigneeOption?[et.v.noAssigneeData]:[]],filter:a,key:e=>e.login||(o.noAssigneeOption?.source?.login??""),secondaryKey:e=>`${e.name}`})):new Promise((n,l)=>{u(!0),(0,es.fetchQuery)(d,eg,{owner:t,name:e,query:a,first:ea.t.maximumSuggestedUsers,capabilities:b}).subscribe({next:e=>{if(null!==e&&e.repository?.suggestedActors?.ok){let t=(e.repository?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,es.readInlineData)(ef,e)]:[]);e.repository?.suggestedActors?.value.totalCount&&""===a.trim()&&y(e.repository.suggestedActors.value.totalCount),o.noAssigneeOption&&(0,H.O)(a,o.noAssigneeOption?.source?.login??"")&&t.unshift({...et.v.noAssigneeData}),u(!1),n(t)}else l(Error(ee.S.couldNotSearchAssignees))},error:e=>{l(e),u(!1)}})}),[h,g,o.noAssigneeOption,d,t,e,b]),v=(0,G.useMemo)(()=>{let e=[];return a&&a.length>0?e=a:n.length>0&&(e=(m?.repository?.suggestedActors?.ok&&m?.repository?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,es.readInlineData)(ef,e)]:[])),o.noAssigneeOption?.selected&&e.unshift(et.v.noAssigneeData),e},[n.length,a,m?.repository?.suggestedActors,o.noAssigneeOption?.selected]);(0,G.useEffect)(()=>{(async()=>{f(await x("")),u(!1)})()},[]);let C=(0,G.useMemo)(()=>{let e=(g||[]).find(e=>e.isCopilot),t=[...l||g||[]];return e&&!t.find(e=>e.isCopilot)&&t.unshift(e),t},[g,l]),j=(0,er.u)();return(0,R.jsx)(z.l,{...o,assignees:v,suggestions:C,isLoading:c,searchAssignees:x,maximumAssignees:i,viewer:j})}function ej({number:e,owner:t,repo:a,assignees:n,suggestions:l,maximumAssignees:i,...s}){let r=(0,es.useRelayEnvironment)(),o=(l?.length||0)>0,[d,c]=(0,G.useState)(!o),[u,m]=(0,G.useState)(null);(0,G.useEffect)(()=>{ei.X3||o||(0,el.SD)({environment:r,query:M,variables:{owner:t,name:a,number:e,query:"",first:10}}).subscribe({next:e=>{m(e??null),c(!1)},error:()=>{c(!1)}})},[r,t,a,e,o]);let p=l||(u?.repository?.issueOrPullRequest?.suggestedActors?.ok&&u?.repository?.issueOrPullRequest?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,es.readInlineData)(ef,e)]:[]),g=(0,G.useCallback)(n=>new Promise((l,i)=>{(0,es.fetchQuery)(r,M,{owner:t,name:a,number:e,first:10,query:n}).subscribe({next:e=>{null!==e&&e.repository?.issueOrPullRequest?.suggestedActors?.ok?l((e.repository?.issueOrPullRequest?.suggestedActors?.value.nodes||[]).flatMap(e=>e?[(0,es.readInlineData)(ef,e)]:[])):i(Error(ee.S.couldNotSearchAssignees))},error:e=>{i(e)}})}),[r,e,t,a]),f=(0,er.u)();return(0,R.jsx)(z.l,{...s,isLoading:d,assignees:n,suggestions:p,searchAssignees:g,maximumAssignees:i,viewer:f})}function eS(e){return(0,$.G7)("item_picker_assignee_tsq_migration")?(0,R.jsx)(eI,{...e}):(0,R.jsx)(eN,{...e})}function eI({connectionIds:e,existingIssueAssignees:t,issuesToActOn:a,...n}){let l=(0,es.useRelayEnvironment)(),i=(0,er.u)(),s=(0,G.useCallback)(n=>{l.commitUpdate(l=>{if(n.applyAssigneeIds&&n.applyAssigneeIds.length>0&&n.assignees){let e=n.applyAssigneeIds,t=n.assignees.filter(t=>e.includes(t.id));for(let e of t){let t=l.get(e.id)||l.create(e.id,e.__typename);for(let[a,n]of Object.entries({id:e.id,login:e.login,name:e.name,avatarUrl:e.avatarUrl,__typename:e.__typename,isCopilot:e.isCopilot,profileResourcePath:e.profileResourcePath}))null!=n&&t.setValue(n,a)}}ec(l,a,t,e,{applyAssigneeIds:n.applyAssigneeIds||[],removeAssigneeIds:n.removeAssigneeIds||[]})})},[e,l,t,a]);return(0,R.jsx)(Z,{...n,issuesToActOn:a,existingIssueAssignees:t,connectionIds:e,viewer:i,onMutate:s})}function eN({issuesToActOn:e,assigneesAppliedToAll:t,assigneesAppliedToSome:a,existingIssueAssignees:n,connectionIds:l,onError:i,onCompleted:s,repository:r,issueNumbers:o,externalReturnFocusRef:d,...c}){let u=(0,es.useRelayEnvironment)(),[m,p]=(0,G.useState)(!1),[g,f]=(0,G.useState)(0),h=!(0,G.useMemo)(()=>t.some(e=>e.isCopilot),[t]),y=(0,G.useMemo)(()=>{let l=[...t,...a].find(e=>e.isCopilot)?.id;return l?e.reduce((e,t,a)=>{let i=(n.get(t)||[]).some(e=>e===l),s=o[a];return i||"number"!=typeof s||e.push(s),e},[]):[...o]},[t,a,n,o,e]),b=(0,G.useCallback)(a=>{let r=a.filter(e=>!t.some(t=>t.id===e.id)),o=t.filter(e=>!a.some(t=>t.id===e.id));if(!r.length&&!o.length)return;let d={applyAssigneeIds:r.map(e=>e.id),removeAssigneeIds:o.map(e=>e.id)};!function({environment:e,optimisticUpdateIds:t,existingIssueAssignees:a,connectionIds:n,input:{ids:l,applyAssigneeIds:i,removeAssigneeIds:s},onCompleted:r,onError:o}){let d={applyAssigneeIds:i,removeAssigneeIds:s},c={ids:l,...d};(0,es.commitMutation)(e,{mutation:eo,variables:{input:c},updater:e=>ec(e,t,a,n,d),optimisticUpdater:e=>ec(e,t,a,n,d),onCompleted:e=>r&&r(e),onError:e=>o&&o(e)})}({...{environment:u,optimisticUpdateIds:e,existingIssueAssignees:n,connectionIds:l,onError:e=>{i?.(e)}},input:{ids:[...e],...d},onCompleted:({updateIssuesBulk:e})=>{s?.(e?.jobId||void 0)}})},[t,l,u,n,e,s,i]),k=(0,G.useCallback)(()=>{p(!0),f(e=>e+1)},[]),x=(0,G.useCallback)(e=>{let t=e.find(e=>e.isCopilot),a=e.filter(e=>!e.isCopilot);t&&h?(k(),b(a)):b(e)},[b,h,k]),v=h&&m,C=(0,G.useMemo)(()=>({name:c.repo,owner:{login:c.owner}}),[c.repo,c.owner]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(ek,{...c,responsiveOnNarrow:!0,assignees:t,assigneeTokens:[],onSelectionChange:x,includeAssignableBots:!0,includeAuthorableBots:!1},`bulk-assignee-picker-${g}`),v&&y.length>0&&(0,R.jsx)(B.B,{isOpen:m,onClose:()=>p(!1),repository:C,issueNumbers:y,onAssignmentComplete:()=>{p(!1),s?.()},returnFocusRef:d})]})}let eF=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees";try{eh.displayName||(eh.displayName="AssigneePicker")}catch{}try{ey.displayName||(ey.displayName="AssigneePickerTsqWithRelayWrapper")}catch{}try{eb.displayName||(eb.displayName="AssigneePickerRelay")}catch{}try{ek.displayName||(ek.displayName="AssigneeRepositoryPicker")}catch{}try{ex.displayName||(ex.displayName="AssigneeRepositoryPickerTsqWithRelayWrapper")}catch{}try{ev.displayName||(ev.displayName="AssigneeRepositoryPickerRelay")}catch{}try{eC.displayName||(eC.displayName="AssigneeRepositoryPickerInternal")}catch{}try{ej.displayName||(ej.displayName="AssigneePickerInternal")}catch{}try{eS.displayName||(eS.displayName="BulkIssuesAssigneePicker")}catch{}try{eI.displayName||(eI.displayName="BulkIssuesAssigneePickerTsqWithRelayWrapper")}catch{}try{eN.displayName||(eN.displayName="BulkIssuesAssigneePickerRelay")}catch{}},33643:(e,t,a)=>{a.d(t,{C:()=>o});var n=a(96912),l=a(72471),i=a(26320),s=a(79639),r=a(9802);function o(e){if(!(0,n.f)(e))return"";let t=(0,l.GP)(e,"h:mm a");return(0,i.c)(e)?`${t} today`:(0,s.P)(e)?`${t} yesterday`:(0,r.e)(e)?`${t} on ${(0,l.GP)(e,"MMMM d")}`:`${t} on ${(0,l.GP)(e,"MMMM d, yyyy")}`}},33987:(e,t,a)=>{a.d(t,{M:()=>n,i:()=>l});let n=({includeAssignableBots:e,includeAuthorableBots:t})=>{let a=[];return e&&a.push("CAN_BE_ASSIGNED"),t&&a.push("CAN_BE_AUTHOR"),a},l=e=>e.isCopilot?"@copilot":"Bot"===e.__typename?`app/${e.login}`:e.login},34095:(e,t,a)=>{a.d(t,{G:()=>l,K:()=>i});var n=a(71315);let l=n.XC?.readyState==="interactive"||n.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{n.XC?.addEventListener("DOMContentLoaded",()=>{e()})}),i=n.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{n.cg?.addEventListener("load",e)})},34535:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(96540);function l({focusRowRef:e,mouseRowRef:t}){let[a,l]=n.useState(!1);return n.useEffect(()=>{if(e.current&&t.current){let a=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&l(!0)};e.current.onfocus=()=>{a()},e.current.onblur=()=>{l(!1)},t.current.onmouseenter=()=>{a()},t.current.onmouseleave=()=>{l(!1)}}},[e,t]),a}},34745:(e,t,a)=>{a.d(t,{f:()=>J});var n=a(74848),l=a(44569),i=a(71315),s=a(96459),r=a(5956),o=a(96540),d=a(97174),c=a(76214),u=a(4559),m=a(99896),p=a(2970),g=a(98994),f=a(43617),h=a(4929),y=a(95378),b=a(73017),k=a(30459),x=a(54571),v=a(16790),C=a(4095),j=a(48926),S=a(25407),I=a(66108),N=a(38621),F=a(21373),_=a(26108),L=a(55255),w=a(11196),T=a(68534),A=a(1117);let E=o.memo(K);function K({repo:e,oid:t}){let a=`browse-repo-${(0,T.F)(t)}`,{sendAnalyticsEvent:l}=(0,k.s)(),{loggingPrefix:i,loggingPayload:s}=(0,v.xe)(),r=(0,v.eX)();return(0,n.jsx)(L.A,{"aria-label":"Browse repository at this point",id:a,direction:"sw",children:(0,n.jsx)("a",{"aria-labelledby":a,href:(0,S.IO9)({repo:e,action:"tree",commitish:t}),className:"Button Button--iconOnly Button--invisible Button--small","data-testid":"commit-row-browse-repo",onClick:()=>{r&&l(`${i}click`,"COMMITS_BROWSE_REPOSITORY_AT_THIS_POINT_CLICKED",s)},children:(0,n.jsx)(N.CodeIcon,{})})})}let P=o.memo(D);function D({repo:e,oid:t,path:a}){if(!a)return null;let l=`view-code-${(0,T.F)(t)}`;return(0,n.jsx)(L.A,{"aria-label":"View code at this point",id:l,direction:"sw",children:(0,n.jsx)("a",{"aria-labelledby":l,href:(0,S.nD_)({owner:e.ownerLogin,repo:e.name,commitish:t,filePath:a}),className:"Button Button--iconOnly Button--invisible Button--small","data-testid":"commit-row-view-code",children:(0,n.jsx)(N.FileCodeIcon,{})})})}function R({commitUrl:e,oid:t,softNavToCommit:a}){let l={variant:"invisible",size:"small",sx:{fontFamily:"var(--fontStack-monospace)",color:"fg.muted"}};return(0,n.jsx)(L.A,{"aria-label":"View commit details",direction:"s",children:a?(0,n.jsx)(F.Q,{as:I.N,to:e,...l,children:(0,T.F)(t)}):(0,n.jsx)("a",{className:"Button--invisible Button--small Button text-mono",href:e,...l,children:(0,n.jsx)("span",{className:"Button-content",children:(0,n.jsx)("span",{className:"Button-label color-fg-muted",children:(0,T.F)(t)})})})})}function M({showDescription:e,setShowDescription:t,oid:a}){let l=(0,T.F)(a),i=`show-description-${l}`,s=`${!e?"Show":"Hide"} description for ${l}`;return(0,n.jsx)(w.m,{id:i,text:s,"aria-label":s,children:(0,n.jsx)(_.K,{icon:N.EllipsisIcon,className:"Button Button--iconOnly Button--invisible Button--small ml-1","data-testid":"commit-row-show-description-button","aria-labelledby":i,"aria-pressed":e,"aria-expanded":e,onClick:a=>{a.preventDefault(),t(!e)}})})}function V({count:e,repo:t,oid:a}){if(!e)return null;let l=`comment-count-${(0,T.F)(a)}`;return(0,n.jsx)(L.A,{"aria-label":`View ${e} commit comment${e>1?"s":""}`,id:l,direction:"sw",children:(0,n.jsx)("a",{"aria-labelledby":l,href:`${(0,S.$Qz)({owner:t.ownerLogin,repo:t.name,commitish:a})}#${A.N}`,className:"Button Button--invisible Button--small","data-testid":"commit-row-comments",children:(0,n.jsxs)("span",{className:"Button-content color-fg-muted",children:[(0,n.jsx)(N.CommentIcon,{}),(0,n.jsx)("span",{className:"Button-label",children:e})]})})})}try{E.displayName||(E.displayName="BrowseRepositoryAtThisPoint")}catch{}try{K.displayName||(K.displayName="WrappedBrowseRepositoryAtThisPoint")}catch{}try{P.displayName||(P.displayName="ViewCodeAtThisPoint")}catch{}try{D.displayName||(D.displayName="WrappedViewCodeAtThisPoint")}catch{}try{R.displayName||(R.displayName="ViewCommitDetails")}catch{}try{M.displayName||(M.displayName="ToggleCommitDescription")}catch{}try{V.displayName||(V.displayName="CommitCommentCount")}catch{}var O=a(44185),B=a(81945),$=a(98783),U=a(42257);function H({deferredData:e}){let{helpUrl:t}=(0,$.D)(),a=(0,C.xs)();return(0,n.jsxs)(n.Fragment,{children:[a&&(0,n.jsx)(B.O,{variant:"rounded",className:"d-none d-sm-flex",width:"62px"}),!a&&void 0===e&&(0,n.jsx)(B.O,{variant:"rounded",className:"d-none d-sm-flex",width:"62px"}),!a&&e&&(0,n.jsx)(O.h,{commitOid:e.oid,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:e.signatureInformation?{helpUrl:t,...e.signatureInformation}:void 0})]})}function z({deferredData:e,oid:t,repository:a}){let l=(0,C.xs)(),i="";try{i=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,n.jsxs)(n.Fragment,{children:[l&&(0,n.jsx)(B.O,{variant:"rounded",className:"d-none d-sm-flex ml-2",width:"20px"}),!l&&void 0===e&&(0,n.jsx)(B.O,{variant:"rounded",className:"d-none d-sm-flex ml-2",width:"20px"}),!l&&e?.statusCheckStatus&&(0,n.jsx)("div",{className:"d-none d-sm-flex ml-1",children:"\xb7"}),(0,n.jsx)("div",{className:"d-none d-sm-flex",children:(0,n.jsx)(U.d,{oid:t,status:e?.statusCheckStatus?.state,descriptionString:i,repo:a})})]})}try{H.displayName||(H.displayName="SignedCommitBadge")}catch{}try{z.displayName||(z.displayName="CommitChecksStatusBadge")}catch{}var q=a(43147);let G="CommitRow-module__ListItemTitle_0--xTKIC",W=(0,o.lazy)(()=>a.e("packages_commits_components_Commits_CommitActionBar_tsx").then(a.bind(a,22220)).then(e=>({default:e.CommitActionBar})));function Q({commit:e,repo:t,path:a,softNavToCommit:l}){let[i,s]=(0,o.useState)(!1),r=(0,o.useRef)(null),[d,c]=(0,m.ym)(e.oid,t),[S,I]=(0,o.useState)(!1),N=(0,C.NO)(e.oid),[F]=(0,x.I)(()=>!1,!0,[]),{sendAnalyticsEvent:_}=(0,k.s)(),{loggingPrefix:L,loggingPayload:w}=(0,v.xe)(),T=(0,v.eX)(),A=()=>{T&&_(`${L}click`,"COMMITS_TITLE_CLICKED",w)};return(0,o.useEffect)(()=>{i&&r.current&&r.current.textContent&&(0,u.i)(r.current.textContent)},[r,i]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(p.c,{"data-testid":"commit-row-item","data-commit-link":e.url,title:e.shortMessageMarkdownLink&&!F?(0,n.jsx)(y.kx,{html:e.shortMessageMarkdownLink,onClick:A,containerClassName:G,headingClassName:G,children:e.bodyMessageHtml&&(0,n.jsx)(M,{showDescription:i,setShowDescription:s,oid:e.oid})}):(0,n.jsx)(y.ao,{value:e.shortMessage,href:e.url,onClick:A,containerClassName:G,headingClassName:G,children:e.bodyMessageHtml&&(0,n.jsx)(M,{showDescription:i,setShowDescription:s,oid:e.oid})}),metadata:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.V,{children:(0,n.jsx)(V,{oid:e.oid,repo:t,count:N?.commentCount??0})}),(0,n.jsx)(h.V,{className:"CommitRow-module__ListItemMetadata_0--Tnt1n",children:(0,n.jsx)(H,{deferredData:N})}),(0,n.jsxs)(h.V,{className:"d-none d-sm-flex px-0 gap-2",variant:"primary",children:[(0,n.jsxs)("div",{className:"d-flex",children:[(0,n.jsx)(R,{oid:e.oid,commitUrl:e.url,softNavToCommit:l}),(0,n.jsx)(q.w,{sha:e.oid})]}),(0,n.jsx)(P,{repo:t,oid:e.oid,path:a}),(0,n.jsx)(E,{repo:t,oid:e.oid})]})]}),secondaryActions:(0,n.jsx)(o.Suspense,{children:(0,n.jsx)(W,{commit:e,repo:t,path:a,setDialogOpen:I,fetchCheckDetails:c,deferredData:N})}),className:"CommitRow-module__ListItem_0--Iwpdk",children:[(0,n.jsx)("div",{className:"px-1"}),(0,n.jsxs)(f.Q,{children:[i&&e.bodyMessageHtml&&(0,n.jsx)(g.U,{children:(0,n.jsx)(b.JR,{ref:r,html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container pb-2 text-mono wb-break-word"})}),(0,n.jsx)(g.U,{children:(0,n.jsx)(j.j,{commit:e,repo:t,children:(0,n.jsx)(z,{repository:t,deferredData:N,oid:e.oid})})})]})]}),N?.statusCheckStatus&&S&&(0,n.jsx)(m.xC,{combinedStatus:d,isOpen:S,onDismiss:()=>{I(!1)}})]})}try{W.displayName||(W.displayName="CommitActionBar")}catch{}try{Q.displayName||(Q.displayName="CommitRow")}catch{}var X=a(89830);function Y({commits:e,title:t,shouldClipTimeline:a,repo:l,currentBlobPath:i="",softNavToCommit:s}){let r=(0,o.useId)();return(0,n.jsxs)(X.s,{clipTimeline:a?"top":"none",children:[(0,n.jsx)(X.s.Heading,{as:"h3",id:r,title:`Commits on ${t}`,"data-testid":"commit-group-title"}),(0,n.jsx)(c.Z,{className:"CommitGroup-module__panel--Agk7V",children:(0,n.jsx)(d.u,{title:t,titleHeaderTag:"h3",ariaLabelledBy:r,children:e.map(e=>(0,n.jsx)(Q,{commit:e,repo:l,path:i,softNavToCommit:s},e.oid))},t)})]})}try{Y.displayName||(Y.displayName="CommitGroup")}catch{}function J({leadingContent:e,commitGroups:t,trailingContent:a,deferredCommitData:d=C.Xx,repository:c,currentBlobPath:u,loggingPayload:m,loggingPrefix:p,shouldClipTimeline:g=!0,softNavToCommit:f=!1}){let h=(0,o.useRef)(0),y=(0,o.useRef)(null),b=(0,o.useRef)(null),k=(0,o.useRef)(!1),x=(0,o.useRef)([]),j=(0,s.Z)();return(0,o.useEffect)(()=>{let e=setTimeout(()=>{x.current=Array.from(document.querySelectorAll('[id*="-list-view-node-"]'))},0);return()=>clearTimeout(e)},[t]),(0,n.jsx)(C.M2,{deferredData:d,children:(0,n.jsx)(v.zq,{loggingInfo:{loggingPayload:m,loggingPrefix:p},children:(0,n.jsxs)(r.A,{clipSidebar:!0,onKeyDown:e=>{var t;"Enter"===e.key?(e=>{if("Enter"===e.key){let t=i.XC?.activeElement?.hasAttribute("data-commit-link")?i.XC?.activeElement?.getAttribute("data-commit-link"):void 0;t&&(e.ctrlKey||e.metaKey?i.cg?.open(t,"_blank"):j(t))}})(e):"Tab"===e.key?"Tab"===(t=e).key&&(t.shiftKey?(i.XC?.activeElement?.hasAttribute("data-commit-link")&&!k.current&&y.current&&(y.current.focus(),b.current=y.current),k.current=!0):(y.current=b.current,b.current=i.XC?.activeElement??null,k.current=!1)):(e=>{if(!["j","k","ArrowDown","ArrowUp"].includes(e.key)||!(0,l.zw)()&&("j"===e.key||"k"===e.key))return;let t=1;for(let e=0;e<x.current.length;e++)x.current[e]?.contains(i.XC?.activeElement)&&(t=e+1);let a=!1;if(("ArrowUp"===e.key||"k"===e.key)&&(a=!0),h.current!==t)h.current=t;else{let e=x.current[a?t-2:t];e?.focus(),e?.focus(),h.current=a?t-1:t+1}})(e)},children:[e,t.map((e,t)=>(0,n.jsx)(Y,{title:e.title,commits:e.commits,shouldClipTimeline:g&&0===t,currentBlobPath:u,repo:c,softNavToCommit:f},e.title)),a]})})})}try{J.displayName||(J.displayName="Commits")}catch{}},35669:(e,t,a)=>{a.d(t,{H_:()=>r,mZ:()=>o});var n=a(71315),l=a(74731),i=a(81724),s=a(94007);function r({includeRepository:e,repository:t,templateFileName:a,title:i,body:r,assignees:o,labels:d,projects:c,milestone:u,type:m}){let p=new URLSearchParams(n.cg?.location?.search||"");return e&&t&&(p.set(l.t.queryParams.org,t.owner.login),p.set(l.t.queryParams.repo,t.name)),a&&p.set(l.t.queryParams.template,a),(0,s.E2)(p,l.t.queryParams.title,i,l.t.maxQueryLengthLimits.title),(0,s.E2)(p,l.t.queryParams.body,r,l.t.maxQueryLengthLimits.body),o&&(0,s.Hx)(p,l.t.queryParams.assignees,o?o.map(e=>e.login):void 0,l.t.maxQueryLengthLimits.assignees),d&&(0,s.Hx)(p,l.t.queryParams.labels,d.map(e=>e.name),l.t.maxQueryLengthLimits.assignees),c&&t?.owner&&(0,s.Hx)(p,l.t.queryParams.projects,c.map(e=>`${t.owner.login}/${e.number}`),l.t.maxQueryLengthLimits.assignees),u&&p.set(l.t.queryParams.milestone,u.title),m&&p.set(l.t.queryParams.type,m.name),p.toString()}function o(e,t,a){let n=e.get(l.t.queryParams.org)||a?.owner||null,r=e.get(l.t.queryParams.repo)||a?.repository||null,o=e.get(l.t.queryParams.template)||a?.template||null,d={...null!==n&&null!==r&&{repository:{owner:n,name:r}},...null!==o&&{templateFileName:o}},c=(0,s.Qg)(e,l.t.queryParams.title,l.t.maxQueryLengthLimits.title)||a?.title,u=(0,s.Qg)(e,l.t.queryParams.permalink,l.t.maxQueryLengthLimits.body);u=void 0===u?(0,s.Qg)(e,l.t.queryParams.body,l.t.maxQueryLengthLimits.body)||a?.body:decodeURIComponent(u);let m={...void 0!==c&&{title:c},...void 0!==u&&{body:u},...t};if(0===Object.keys(d).length)if(!(Object.keys(m).length>0))return;else d={templateFileName:i.rp};return{...d,...Object.keys(m).length>0&&{initialValues:m}}}},36001:(e,t,a)=>{a.d(t,{qn:()=>Y,ku:()=>ee,Wj:()=>Z,Pv:()=>J});var n,l,i,s,r,o,d,c,u,m=a(74848);let p={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LabelsSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanLabel",storageKey:null}],type:"Issue",abstractKey:null};p.hash="89d173296b36dd6c47d64eaffcd8fa74";let g={fragment:{argumentDefinitions:n=[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"LabelsSectionAssignedLabelsQuery",selections:[{alias:null,args:l=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"assignedLabelPageSize",variableName:"assignedLabelPageSize"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"LabelsSectionAssignedLabelsQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:r=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"assignedLabelPageSize"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:r,filters:["orderBy"],handle:"connection",key:"MetadataSectionAssignedLabels_labels",kind:"LinkedHandle",name:"labels"},{kind:"TypeDiscriminator",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}],storageKey:null}]},params:{id:"d103ad1af39cfc73beab26bc9a07c330",metadata:{},name:"LabelsSectionAssignedLabelsQuery",operationKind:"query",text:null}};g.hash="20f7e48e94311f48bdecc097fbeb646a";let f={argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"assignedLabelPageSize",cursor:"cursor",direction:"forward",path:o=["labels"]}],refetch:{connection:{forward:{count:"assignedLabelPageSize",cursor:"cursor"},backward:null,path:o},fragmentPathInResult:["node"],operation:g,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelsSectionAssignedLabels",selections:[{alias:"labels",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"__MetadataSectionAssignedLabels_labels_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__MetadataSectionAssignedLabels_labels_connection(orderBy:{"direction":"ASC","field":"NAME"})'},{kind:"InlineFragment",selections:[d],type:"Node",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"};f.hash="20f7e48e94311f48bdecc097fbeb646a";var h=a(69599),y=a(53419),b=a(67126),k=a(98530),x=a(21052),v=a(41305),C=a(43258),j=a(30459),S=a(96540),I=a(34784),N=a(93513),F=a(20177);let _={fragment:{argumentDefinitions:c=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"removeLabelsFromLabelableMutation",selections:u=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"RemoveLabelsFromLabelablePayload",kind:"LinkedField",name:"removeLabelsFromLabelable",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:c,kind:"Operation",name:"removeLabelsFromLabelableMutation",selections:u},params:{id:"cce4e0522a0bbf89aa28f9e4da5d7beb",metadata:{},name:"removeLabelsFromLabelableMutation",operationKind:"mutation",text:null}};_.hash="9f3ee532d3745a09f037181e4a226f48";var L=a(18312),w=a(89252);let T=(0,a(82075).A)("localStorage",{throwQuotaErrorsOnSet:!1,ttl:2592e6});function A(e){return`favorite-labels:${e}`}function E(e){let t=A(e),a=T.getItem(t);if(!a)return{labels:{}};try{return JSON.parse(a)}catch{return{labels:{}}}}var K=a(55007),P=a(2495),D=a(16810),R=a(21798),M=a(45244),V=a(38621),O=a(26108),B=a(26607);let $="CopilotLabelsSection-module__copilotLoadingText--TPE_h",U="CopilotLabelsSection-module__copilotIcon--jhl3v";function H({issueId:e,sectionHeader:t,setShouldShowCopilotComponent:a,suggestedLabels:n,labelsStatus:l,onConfirmLabels:i,onErrorRetry:s}){let[r,o]=(0,S.useTransition)(),d=(0,S.useCallback)(()=>{o(()=>{a(!1),(0,y.BI)("copilot_suggested_labels.dismiss",{labels:n.map(e=>e.name).join(","),issueId:e}),(0,w.ff)(e)})},[n,e,a,o]),c=(0,S.useCallback)(()=>{o(()=>{a(!1),(0,y.BI)("copilot_suggested_labels_error.cancel")})},[a,o]);return(0,m.jsx)(S.Suspense,{fallback:(0,m.jsx)(z,{}),children:(0,m.jsxs)(D.w,{sectionHeader:t,children:["loading"===l&&(0,m.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-live":"polite","aria-busy":r,children:[(0,m.jsx)(V.CopilotIcon,{className:U}),(0,m.jsx)(M.b,{children:(0,m.jsx)("span",{className:$,children:"Copilot is thinking \u2026"})})]}),"success"===l&&(0,m.jsx)(q,{labels:n,onConfirm:i,onCancel:d,setShouldShowCopilotComponent:a,startContentTransition:o,issueId:e}),"error"===l&&(0,m.jsx)(G,{onRetry:s,onCancel:c})]})})}function z(){return(0,m.jsx)(D.w,{sectionHeader:(0,m.jsx)(R.X,{title:N.k.sectionTitles.labels,readonly:!0}),children:(0,m.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-busy":"true","aria-live":"polite",children:[(0,m.jsx)(V.CopilotIcon,{className:U}),(0,m.jsx)(M.b,{children:(0,m.jsx)("span",{className:$,children:"Copilot is thinking \u2026"})})]})})}function q({labels:e,onConfirm:t,onCancel:a,setShouldShowCopilotComponent:n,startContentTransition:l,issueId:i}){let[s,r]=(0,S.useState)(e);return((0,S.useEffect)(()=>{(0===e.length||0===s.length)&&l(()=>{n(!1)})},[e,n,l,s]),0===e.length)?null:((0,y.BI)("copilot_suggested_labels.shown",{issueId:i}),(0,m.jsxs)("span",{className:"d-flex flex-items-start flex-justify-between pl-0",children:[(0,m.jsx)("div",{className:"CopilotLabelsSection-module__copilotDraftLabelsContainer--qCnJj",children:s.map(e=>(0,m.jsx)(W,{name:e.name,onRemove:()=>r(s.filter(t=>t.id!==e.id))},e.id))}),(0,m.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,m.jsx)(O.K,{variant:"invisible",size:"small",icon:V.CheckIcon,onClick:()=>t(s),"aria-label":"Accept suggestions"}),(0,m.jsx)(O.K,{variant:"invisible",size:"small",icon:V.XIcon,onClick:a,"aria-label":"Dismiss suggestions"})]})]}))}function G({onRetry:e,onCancel:t}){return(0,m.jsxs)("span",{className:"d-flex flex-items-center flex-justify-between pl-1",children:[(0,m.jsxs)("span",{className:"d-flex flex-items-center pl-1 py-1",children:[(0,m.jsx)(V.CopilotErrorIcon,{className:U}),(0,m.jsx)("span",{className:$,children:"Error. Please try again."})]}),(0,m.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,m.jsx)(O.K,{variant:"invisible",size:"small",icon:V.SyncIcon,onClick:e,"aria-label":"Retry"}),(0,m.jsx)(O.K,{variant:"invisible",size:"small",icon:V.XIcon,onClick:t,"aria-label":"Dismiss"})]})]})}function W({onRemove:e,name:t}){let a=(0,m.jsx)(O.K,{variant:"invisible",size:"small",icon:V.XIcon,tooltipDirection:"n",onClick:e,"aria-label":`Dismiss ${t}`,style:{color:"var(--fgColor-muted)"}});return(0,m.jsx)("div",{className:"CopilotLabelsSection-module__copilotDraftLabel--H8mX9",children:(0,m.jsxs)(B.A,{className:"CopilotLabelsSection-module__copilotDraftIndividualLabel--WmjvS",children:[t," ",a]})})}try{H.displayName||(H.displayName="CopilotLabelsSection")}catch{}try{z.displayName||(z.displayName="CopilotLabelsSectionLoading")}catch{}try{q.displayName||(q.displayName="CopilotLabelsSectionSuccess")}catch{}try{G.displayName||(G.displayName="CopilotLabelsSectionError")}catch{}try{W.displayName||(W.displayName="CopilotDraftLabels")}catch{}let Q=()=>(0,m.jsx)(P.h,{title:N.k.sectionTitles.labels}),X=({sectionHeader:e,onDelete:t,labels:a})=>(0,m.jsx)(D.w,{id:"sidebar-labels-section",sectionHeader:e,emptyText:a.length>0?void 0:N.k.emptySections.labels,children:(0,m.jsx)(v.w,{labels:a,onDelete:t,testId:F.Y.issueLabels})}),Y=({repo:e,owner:t,readonly:a,labels:n,onSelectionChange:l,...i})=>{let s=a?(0,m.jsx)(Q,{}):(0,m.jsx)(k.tJ,{repo:e,owner:t,readonly:a,canCreateLabel:!a,labels:n,onSelectionChange:l,showNoMatchItem:!0,anchorElement:(e,t)=>(0,m.jsx)(R.X,{title:N.k.sectionTitles.labels,buttonProps:e,ref:t}),...i});return(0,m.jsx)(X,{sectionHeader:s,labels:n})},J=p,Z=f;function ee({issue:e,onIssueUpdate:t,insideSidePanel:a,readonly:n}){let{sendAnalyticsEvent:l}=(0,j.s)(),i=(0,I.useFragment)(J,e),{repository:{owner:{login:s},name:r,isArchived:o}}=i,{data:d}=(0,I.usePaginationFragment)(Z,i),{id:c,viewerCanLabel:u}=i,p=(0,S.useMemo)(()=>d.labels?.edges?.flatMap(e=>e?.node?[e?.node]:[])||[],[d]),{getSuggestions:g,suggestedLabels:f,labelsStatus:v}=(0,K.G)(),F=(0,I.useRelayEnvironment)(),P=(0,h.G7)("copilot_auto_assign_metadata"),D=(0,h.G7)("issues_report_sidebar_interactions"),M=(0,h.G7)("issues_react_favorite_labels"),[V,O]=(0,S.useState)(P&&u&&0===p.length&&!(0,w.nS)(c));(0,S.useEffect)(()=>{V&&g({issueId:c,environment:F,issueTitle:i.title,issueBody:i.body,repositoryName:r,repositoryOwner:s,type:"labels"})},[V,c,F,i.title,i.body,r,s,g]);let B=n||!u||o,{addToast:$}=(0,C.Y6)(),U=(0,S.useCallback)(e=>{V&&e.length>0&&(O(!1),(0,y.BI)("copilot_suggested_labels.skipped",{issueId:c})),V&&0===e.length&&O(!0),(0,x.N)({environment:F,input:{labelableId:c,labels:e,labelableTypeName:"Issue"},onError:()=>$({type:"error",message:b.S.couldNotUpdateLabels}),onCompleted:()=>{M&&e.length>0&&function(e,t){if(0===t.length)return;let a=E(e),n=Date.now();for(let e of t){let t=a.labels[e];a.labels[e]={labelId:e,count:t?t.count+1:1,lastUsed:n}}let l=A(e);try{T.setItem(l,JSON.stringify(a))}catch{}}(`${s}/${r}`,e.map(e=>e.id)),t?.()}})},[$,F,c,t,V,s,r,M]),z=(0,S.useCallback)(e=>{U(e),O(!1),(0,y.BI)("copilot_suggested_labels.confirm",{pickedLabels:e.map(e=>e.name).join(","),suggestedLabels:f.map(e=>e.name).join(","),pickedCount:e.length,suggestedCount:f.length,issueId:c})},[f,c,U]),q=(0,S.useCallback)(()=>{g({issueId:c,environment:F,issueTitle:i.title,issueBody:i.body,repositoryName:r,repositoryOwner:s,type:"labels"}),(0,y.BI)("copilot_suggested_labels_error.retry",{issueId:c})},[g,c,F,i.title,i.body,r,s]),G=(0,h.G7)("issues_react_remove_labels_oneclick"),W=(0,S.useCallback)(e=>{!function({environment:e,input:t,onError:a,onCompleted:n}){let l=e=>{let a=L.ConnectionHandler.getConnectionID(t.labelableId,"MetadataSectionAssignedLabels_labels"),n=e.get(`${a}(orderBy:{"direction":"ASC","field":"NAME"})`);n&&t.labelIds[0]&&L.ConnectionHandler.deleteNode(n,t.labelIds[0])};(0,L.commitMutation)(e,{mutation:_,variables:{input:t},onError:e=>a&&a(e),onCompleted:e=>n&&n(e),updater:l,optimisticUpdater:l})}({environment:F,input:{labelableId:c,labelIds:[e]}})},[F,c]),Y=(0,S.useMemo)(()=>{if(B)return(0,m.jsx)(Q,{});let e=M?(function(e,t=10,a=4){let n=E(e),l=Date.now()-24*t*36e5;return Object.values(n.labels).filter(e=>e.lastUsed>=l).sort((e,t)=>e.count!==t.count?t.count-e.count:t.lastUsed-e.lastUsed).slice(0,a)})(`${s}/${r}`).map(e=>e.labelId):[];return(0,m.jsx)(k.tJ,{repo:r,owner:s,readonly:B,labels:p,canCreateLabel:!B,copilotSuggestedLabels:f,favoriteLabelIds:e,onSelectionChange:U,anchorElement:(e,t)=>(0,m.jsx)(R.X,{title:N.k.sectionTitles.labels,buttonProps:{...e,onClick:t=>{D&&l("analytics.click","ISSUE_SIDEBAR_LABELS_SECTION_EDIT_CLICK"),e.onClick?.(t)}},ref:t}),insidePortal:a,showNoMatchItem:!0})},[B,M,s,r,p,f,U,a,D,l]);return V?(0,m.jsx)(H,{issueBody:i.body,issueId:c,issueTitle:i.title,repositoryName:r,repositoryOwner:s,sectionHeader:Y,setShouldShowCopilotComponent:O,suggestedLabels:f,labelsStatus:v,onConfirmLabels:z,onErrorRetry:q}):(0,m.jsx)(X,{sectionHeader:Y,onDelete:G&&!B?W:void 0,labels:p})}try{Q.displayName||(Q.displayName="ReadonlyLabelsSectionHeader")}catch{}try{X.displayName||(X.displayName="LabelsSection")}catch{}try{Y.displayName||(Y.displayName="CreateIssueLabelsSection")}catch{}try{ee.displayName||(ee.displayName="EditIssueLabelsSection")}catch{}},38102:(e,t,a)=>{a.d(t,{N7:()=>b});var n=a(36301),l=a(77065),i=a(24212);function s(e){return(0,i.q)(e.stack||"").map(e=>({filename:e.file||"",function:String(e.methodName),lineno:(e.lineNumber||0).toString(),colno:(e.column||0).toString()}))}function r(e){let t=document.querySelectorAll(e);if(t.length>0)return t[t.length-1]}var o=a(99223),d=a(71315),c=a(94416),u=a(69599),m=a(88057);let p=!1,g=0,f=Date.now(),h=new Set(["AbortError","AuthSessionExpiredError","TypeError","RateLimitError"]),y=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","Unable to perform this operation. Please try again later."]);function b(e,t={}){if(!(e instanceof Error||"object"==typeof e&&null!==e&&"name"in e&&"string"==typeof e.name&&"message"in e&&"string"==typeof e.message)){if(function(e){if(!e||"boolean"==typeof e||"number"==typeof e)return!0;if("string"==typeof e){if(j.some(t=>e.includes(t)))return!0}else if("object"==typeof e&&"string"==typeof e.message&&"number"==typeof e.code)return!0;return!1}(e))return;let a=Error(),n=function(e){try{return JSON.stringify(e)}catch{return"Unserializable"}}(e);k(x({type:"UnknownError",value:`Unable to report error, due to a thrown non-Error type: ${typeof e}, with value ${n}`,stacktrace:s(a),catalogService:document.head?.querySelector('meta[name="current-catalog-service"]')?.content,catalogServiceHash:document.head?.querySelector('meta[name="current-catalog-service-hash"]')?.content},t));return}e.name&&("AbortError"===e.name||"RateLimitError"===e.name||h.has(e.name)&&y.has(e.message)||e.name.startsWith("ApiError")&&y.has(e.message))||k(x({type:e.name,value:e.message,stacktrace:s(e),catalogService:e.catalogService||document.head?.querySelector('meta[name="current-catalog-service"]')?.content,catalogServiceHash:e.catalogServiceHash||document.head?.querySelector('meta[name="current-catalog-service-hash"]')?.content},t))}async function k(e){if(!(!C&&!p&&g<10&&(0,l.TT)()))return;let t=document.head?.querySelector('meta[name="browser-errors-url"]')?.content;if(t){if(e.error.stacktrace.some(e=>v.test(e.filename)||v.test(e.function))){p=!0;return}g++;try{await fetch(t,{method:"post",body:JSON.stringify({context:e,target:document.head?.querySelector('meta[name="ui-target"]')?.content||"full"})})}catch{}}}function x(e,t={}){let a,l={...t};return(0,u.G7)("failbot_report_error_react_apps_on_page")&&!l.reactAppName&&(l.reactAppName=function(e){let t=function(){let e=new Set;for(let[t,a]of S)for(let n of document.querySelectorAll(t))if(n instanceof HTMLElement){let t=n.getAttribute(a);t&&e.add(t)}return Array.from(e)}();if(!t||!t.length||!e||!e.length)return;let a=new Set;for(let n of e){if(!n||!n.filename)continue;let e=n.filename.split(/[\\/]/).pop();if(!e||a.has(e))continue;a.add(e);let l=t.find(t=>e.toLowerCase().includes(t.toLowerCase()));if(l)return l}}(e.stacktrace)),Object.assign({error:e,sanitizedUrl:`${window.location.protocol}//${window.location.host}${((a=r("meta[name=analytics-location]"))?a.content:window.location.pathname)+function(){let e=r("meta[name=analytics-location-query-strip]"),t="";e||(t=window.location.search);let a=r("meta[name=analytics-location-params]");for(let e of(a&&(t+=(t?"&":"?")+a.content),document.querySelectorAll("meta[name=analytics-param-rename]"))){let a=e.content.split(":",2);t=t.replace(RegExp(`(^|[?&])${a[0]}($|=)`,"g"),`$1${a[1]}$2`)}return t}()}`||window.location.href,readyState:document.readyState,referrer:(0,c.dR)(),timeSinceLoad:Math.round(Date.now()-f),user:function(){let e=document.head?.querySelector('meta[name="user-login"]')?.content;if(e)return e;let t=(0,n.y)();return`anonymous-${t}`}()||void 0,actorId:document.head?.querySelector('meta[name="octolytics-actor-id"]')?.content,bundler:o.v,ui:!!document.querySelector('meta[name="ui"]'),release:document.head?.querySelector('meta[name="release"]')?.content,pastRequestIds:(0,m.xA)()},l)}let v=/(chrome|moz|safari)-extension:\/\//,C=!1;d.cg?.addEventListener("pageshow",()=>C=!1),d.cg?.addEventListener("pagehide",()=>C=!0),"function"==typeof BroadcastChannel&&new BroadcastChannel("shared-worker-error").addEventListener("message",e=>{b(e.data.error)});let j=["Object Not Found Matching Id","Not implemented on this platform","provider because it's not your default extension"],S=[["react-app","app-name"],["react-partial","partial-name"]]},39619:(e,t,a)=>{a.d(t,{HS:()=>s,Oc:()=>i,Tv:()=>d,Xr:()=>SymbolChangedEvent,f7:()=>r,fD:()=>o,qR:()=>l});var n=a(50467);let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),(0,n._)(this,"payload",void 0),this.payload=e}};Event;let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,a){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),(0,n._)(this,"reference",void 0),(0,n._)(this,"openPanel",void 0),(0,n._)(this,"id",void 0),this.reference=e,this.openPanel=t,this.id=a}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),(0,n._)(this,"context",void 0),this.context=e}};function l(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function i(e,t=!1,a){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,a))}function s(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function r(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function o(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function d(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},40058:(e,t,a)=>{a.d(t,{T:()=>C});var n=a(74848),l=a(21728),i=a(77430),s=a(38621),r=a(94236),o=a(99511),d=a(46251),c=a(69726),u=a(72511),m=a(5524),p=a(96540),g=a(23470);let f=p.memo(function(e){let t,a,s,r,o,d=(0,l.c)(19),{user:c,isCurrent:u,onSelect:p,shouldSetAsDiv:g,count:f,position:h}=e,y=g?"div":"li";d[0]!==p||d[1]!==c?(t=()=>{p&&p(c)},d[0]=p,d[1]=c,d[2]=t):t=d[2];let b=h+1,k=c.primaryAvatarUrl;return d[3]!==c.path?(a=c.path.startsWith("/apps/"),d[3]=c.path,d[4]=a):a=d[4],d[5]!==a||d[6]!==c.primaryAvatarUrl?(s=(0,n.jsx)(m.l.LeadingVisual,{children:(0,n.jsx)(i.r,{src:k,square:a})}),d[5]=a,d[6]=c.primaryAvatarUrl,d[7]=s):s=d[7],d[8]!==c.name?(r=(0,n.jsx)(m.l.Description,{truncate:!0,children:c.name}),d[8]=c.name,d[9]=r):r=d[9],d[10]!==f||d[11]!==u||d[12]!==y||d[13]!==t||d[14]!==b||d[15]!==s||d[16]!==r||d[17]!==c.login?(o=(0,n.jsxs)(m.l.Item,{as:y,selected:u,onSelect:t,"aria-setsize":f,"aria-posinset":b,children:[s,c.login,r]}),d[10]=f,d[11]=u,d[12]=y,d[13]=t,d[14]=b,d[15]=s,d[16]=r,d[17]=c.login,d[18]=o):o=d[18],o});try{f.displayName||(f.displayName="UserItem")}catch{}let h="UsersList-module__scrollableUserList--v1HiT";function y(e){let t,a=(0,l.c)(2);return a[0]!==e?(t=e.users.length>20?(0,n.jsx)(k,{...e}):(0,n.jsx)(b,{...e}),a[0]=e,a[1]=t):t=a[1],t}function b(e){let t,a,i=(0,l.c)(12),{users:s,currentUser:r,onSelect:o,style:d,className:c}=e,u=c?`${h} ${c}`:h;if(i[0]!==r?.login||i[1]!==o||i[2]!==s){let e;i[4]!==r?.login||i[5]!==o||i[6]!==s.length?(e=(e,t)=>(0,n.jsx)(f,{user:e,isCurrent:e.login===r?.login,onSelect:o,count:s.length,position:t},e.login),i[4]=r?.login,i[5]=o,i[6]=s.length,i[7]=e):e=i[7],t=s.map(e),i[0]=r?.login,i[1]=o,i[2]=s,i[3]=t}else t=i[3];return i[8]!==u||i[9]!==d||i[10]!==t?(a=(0,n.jsx)(m.l,{role:"menu",style:d,className:u,selectionVariant:"single",children:t}),i[8]=u,i[9]=d,i[10]=t,i[11]=a):a=i[11],a}function k(e){let t,a,i=(0,l.c)(9),{users:s,currentUser:r,onSelect:o,style:d,className:c}=e,u=c?`${h} ${c}`:h;return i[0]!==r?.login||i[1]!==o||i[2]!==s.length?(t=(e,t)=>(0,n.jsx)(f,{user:e,isCurrent:e.login===r?.login,onSelect:o,shouldSetAsDiv:!0,count:s.length,position:t},e.login),i[0]=r?.login,i[1]=o,i[2]=s.length,i[3]=t):t=i[3],i[4]!==u||i[5]!==d||i[6]!==t||i[7]!==s?(a=(0,n.jsx)(g.F,{items:s,itemHeight:33,style:d,makeKey:x,shouldUseActionList:!0,renderItem:t,className:u}),i[4]=u,i[5]=d,i[6]=t,i[7]=s,i[8]=a):a=i[8],a}function x(e){return e.login}try{y.displayName||(y.displayName="UsersList")}catch{}try{b.displayName||(b.displayName="FullUsersList")}catch{}try{k.displayName||(k.displayName="VirtualUsersList")}catch{}var v=a(4559);function C(e){var t,a;let o,d,c,u,m,g,f,h,b,k,x,C,_,L,w,T=(0,l.c)(52),{defaultText:A,usersState:E,currentUser:K,onSelect:P,hotKey:D,onOpenChange:R,renderCustomFooter:M,size:V,showTypedInUser:O,width:B,label:$}=e,U=void 0!==O&&O,H=void 0===B?"large":B,z=void 0===$?"":$,[q,G]=(0,p.useState)("");T[0]!==q||T[1]!==U||T[2]!==E.users?(o=function(e,t){if(!e)return[];let a=t.trim().toLowerCase();return a?e.filter(e=>e.login.toLowerCase().includes(a)||e.name?.toLowerCase().includes(a)):e}(E.users,q),d=U&&(t=q,a=o,!!t&&(0===a.length||a.length>1||1===a.length&&!!a[0]&&a[0].login.toLowerCase()!==t.toLowerCase())),T[0]=q,T[1]=U,T[2]=E.users,T[3]=o,T[4]=d):(o=T[3],d=T[4]);let W=d,Q=0===o.length&&!W,X=!E.loading&&!E.error&&Q;return T[5]!==X?(c=()=>{X&&(0,v.i)("Nothing to show")},T[5]=X,T[6]=c):c=T[6],T[7]!==X||T[8]!==q?(u=[X,q],T[7]=X,T[8]=q,T[9]=u):u=T[9],(0,p.useEffect)(c,u),T[10]!==X||T[11]!==R?(m=e=>{R&&R(e),X&&(0,v.i)("Nothing to show")},T[10]=X,T[11]=R,T[12]=m):m=T[12],T[13]!==K?(g=(0,n.jsx)("div",{className:"mr-2",children:K?(0,n.jsx)(i.r,{size:16,src:K.primaryAvatarUrl,square:K.path.startsWith("/apps/")}):(0,n.jsx)(s.PeopleIcon,{size:"small",className:"fgColor-muted"})}),T[13]=K,T[14]=g):g=T[14],T[15]!==K||T[16]!==A||T[17]!==z?(f=(0,n.jsx)("div",{className:"UserSelector-module__truncatedUserText--hOMue",children:K?(0,n.jsxs)("span",{children:[z,K.login]}):(0,n.jsx)("span",{children:A})}),T[15]=K,T[16]=A,T[17]=z,T[18]=f):f=T[18],T[19]!==g||T[20]!==f?(h=(0,n.jsxs)("div",{className:"d-flex",children:[g,f]}),T[19]=g,T[20]=f,T[21]=h):h=T[21],T[22]!==D||T[23]!==V||T[24]!==h?(b=(0,n.jsx)(r.W.Button,{"data-hotkey":D,size:V,"data-testid":"user-selector-button",children:h}),T[22]=D,T[23]=V,T[24]=h,T[25]=b):b=T[25],T[26]!==q?(k=(0,n.jsx)(j,{defaultText:q,onFilterChange:G}),T[26]=q,T[27]=k):k=T[27],T[28]!==q||T[29]!==P||T[30]!==W||T[31]!==Q||T[32]!==E.error||T[33]!==E.loading?(x=E.loading?(0,n.jsx)(S,{}):E.error?(0,n.jsx)(I,{}):(0,n.jsxs)(n.Fragment,{children:[Q&&(0,n.jsx)(N,{}),W&&(0,n.jsx)(F,{filterText:q,onSelect:P})]}),T[28]=q,T[29]=P,T[30]=W,T[31]=Q,T[32]=E.error,T[33]=E.loading,T[34]=x):x=T[34],T[35]!==K||T[36]!==o||T[37]!==P||T[38]!==M?(C=o.length>0&&(0,n.jsx)(y,{users:o,currentUser:K,onSelect:P,className:M?"UserSelector-module__userListWithFooter--EOx8I":"UserSelector-module__userListDefault--tFqfI"}),T[35]=K,T[36]=o,T[37]=P,T[38]=M,T[39]=C):C=T[39],T[40]!==M?(_=M?.(),T[40]=M,T[41]=_):_=T[41],T[42]!==k||T[43]!==x||T[44]!==C||T[45]!==_||T[46]!==H?(L=(0,n.jsxs)(r.W.Overlay,{width:H,children:[k,x,C,_]}),T[42]=k,T[43]=x,T[44]=C,T[45]=_,T[46]=H,T[47]=L):L=T[47],T[48]!==b||T[49]!==L||T[50]!==m?(w=(0,n.jsx)("div",{children:(0,n.jsxs)(r.W,{onOpenChange:m,children:[b,L]})}),T[48]=b,T[49]=L,T[50]=m,T[51]=w):w=T[51],w}function j(e){let t,a,i=(0,l.c)(5),{onFilterChange:r,defaultText:d}=e;return i[0]!==r?(t=e=>r(e.target.value),i[0]=r,i[1]=t):t=i[1],i[2]!==d||i[3]!==t?(a=(0,n.jsx)("div",{className:"p-2 border-bottom border-color-border-default",children:(0,n.jsx)(o.A,{leadingVisual:s.SearchIcon,value:d,placeholder:"Find a user...",onChange:t,className:"UserSelector-module__userSearchInput--J_Pgo"})}),i[2]=d,i[3]=t,i[4]=a):a=i[4],a}function S(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(d.B,{justify:"center",className:"p-2",children:(0,n.jsx)(c.A,{size:"medium",srText:"Loading users..."})}),t[0]=e):e=t[0],e}function I(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(u.A,{variant:"danger",children:"Could not load users"}),t[0]=e):e=t[0],e}function N(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(d.B,{justify:"center",className:"p-3",children:"Nothing to show"}),t[0]=e):e=t[0],e}function F(e){let t,a,i,s=(0,l.c)(8),{filterText:r,onSelect:o}=e;return s[0]!==r||s[1]!==o?(t=()=>{o&&o({login:r,name:r,path:"",primaryAvatarUrl:""})},s[0]=r,s[1]=o,s[2]=t):t=s[2],s[3]!==r?(a=(0,n.jsxs)(n.Fragment,{children:["Filter on author\xa0",(0,n.jsx)("span",{className:"text-bold",children:r})]}),s[3]=r,s[4]=a):a=s[4],s[5]!==t||s[6]!==a?(i=(0,n.jsx)(m.l.Item,{role:"none",onSelect:t,className:"UserSelector-module__filterResultItem--JqRZP",children:a}),s[5]=t,s[6]=a,s[7]=i):i=s[7],i}try{C.displayName||(C.displayName="UserSelector")}catch{}try{j.displayName||(j.displayName="UserFilter")}catch{}try{S.displayName||(S.displayName="Loading")}catch{}try{I.displayName||(I.displayName="LoadingFailed")}catch{}try{N.displayName||(N.displayName="UsersZeroState")}catch{}try{F.displayName||(F.displayName="UsersTypedInUser")}catch{}},40064:(e,t,a)=>{a.d(t,{V:()=>m});var n=a(74848),l=a(96540),i=a(43258),s=a(38621),r=a(52870),o=a(56149);let d={info:"",success:"Toast--success",error:"Toast--error"},c={info:(0,n.jsx)(s.InfoIcon,{}),success:(0,n.jsx)(s.CheckIcon,{}),error:(0,n.jsx)(s.StopIcon,{})},u=({message:e,timeToLive:t,icon:a,type:i="info",role:s="log"})=>{let[u,m]=l.useState(!0),{safeSetTimeout:p}=(0,r.A)();return(0,l.useEffect)(()=>{t&&p(()=>m(!1),t-300)},[p,t]),(0,n.jsx)(o.ZL,{children:(0,n.jsx)("div",{className:"p-1 position-fixed bottom-0 left-0 mb-3 ml-3",children:(0,n.jsxs)("div",{className:`Toast ${d[i]} ${u?"Toast--animateIn":"Toast--animateOut"}`,id:"ui-app-toast","data-testid":`ui-app-toast-${i}`,role:s,children:[(0,n.jsx)("span",{className:"Toast-icon",children:a||c[i]}),(0,n.jsx)("span",{className:"Toast-content",children:e})]})})})};try{u.displayName||(u.displayName="Toast")}catch{}function m(){let{toasts:e,persistedToast:t}=(0,l.useContext)(i.T8);return(0,n.jsxs)(n.Fragment,{children:[e.map((e,t)=>(0,n.jsx)(u,{message:e.message,icon:e.icon,timeToLive:i.Qn,type:e.type,role:e.role},t)),t&&(0,n.jsx)(u,{message:t.message,icon:t.icon,type:t.type,role:t.role})]})}try{m.displayName||(m.displayName="Toasts")}catch{}},40846:(e,t,a)=>{a.d(t,{C:()=>r});var n=a(74848),l=a(82550),i=a(35811),s=a(96540);let r=({label:e,ariaLabel:t,testId:a,viewerDidAuthor:r,variant:o,leadingElement:d,className:c})=>{let u=s.useRef(null),[m,p]=(0,l.B)({contentRef:u,"aria-label":t});return(0,n.jsxs)(i.JU,{variant:o||"secondary","data-testid":a,"aria-label":t,className:c,ref:u,sx:r?{borderColor:"accent.muted"}:{},...m,children:[d,e,p]})};try{r.displayName||(r.displayName="CommentHeaderBadge")}catch{}},41057:(e,t,a)=>{a.d(t,{Q:()=>o});var n=a(74848),l=a(66565),i=a(96540);let s={sm:16,md:20,lg:24,xl:32},r={rounded:"3px",pill:"100px",elliptical:"50%"},o=({height:e,width:t,borderRadius:a="rounded"})=>{let[o,d]=(0,i.useState)("100%");(0,i.useEffect)(()=>{"random"===t&&d(`${Math.floor(40*Math.random()+40)}%`)},[t]);let c="string"==typeof e&&e in s?`${s[e]}px`:e,u="random"===t?o:"string"==typeof t&&t in s?`${s[t]}px`:t,m="string"==typeof a&&a in r?r[a]:a;return(0,n.jsx)(l.f,{"data-testid":"issues-loading-skeleton",className:"IssuesLoadingSkeleton-module__container--Z01Fm",style:{width:u,height:c,borderRadius:m}})};try{o.displayName||(o.displayName="IssuesLoadingSkeleton")}catch{}},41248:(e,t,a)=>{a.d(t,{m:()=>o});var n=a(74848),l=a(46173),i=a(40846);let s={MEMBER:"Member",OWNER:"Owner",MANNEQUIN:"Mannequin",COLLABORATOR:"Collaborator",CONTRIBUTOR:"Contributor",FIRST_TIME_CONTRIBUTOR:"First-time contributor",FIRST_TIMER:"First-time GitHub contributor",NONE:""},r={MEMBER:({viewerDidAuthor:e,org:t})=>`${e?"You are":"This user is"} a member of the ${t} organization.`,OWNER:({viewerDidAuthor:e,repo:t})=>`${e?"You are":"This user is"} the owner of the ${t} repository.`,MANNEQUIN:()=>"This is a mannequin user.",COLLABORATOR:({viewerDidAuthor:e,repo:t})=>`${e?"You have":"This user has"} been invited to collaborate on the ${t} repository.`,CONTRIBUTOR:({viewerDidAuthor:e,repo:t})=>`${e?"You have":"This user has"} previously committed to the ${t} repository.`,FIRST_TIME_CONTRIBUTOR:({viewerDidAuthor:e,repo:t})=>`${e?"You are":"This user is"} a first-time contributor to the ${t} repository.`,FIRST_TIMER:({viewerDidAuthor:e})=>`${e?"This is your":"This user's"} first pull request on GitHub.`,NONE:()=>""},o=({association:e,org:t,repo:a,viewerDidAuthor:o})=>{let d=s[e]?e:"NONE";if("NONE"===d)return null;let c=r[d]({viewerDidAuthor:o??!1,org:t,repo:a});return(0,n.jsx)(i.C,{label:s[d],ariaLabel:c,testId:l.Y.commentAuthorAssociation,viewerDidAuthor:o})};try{o.displayName||(o.displayName="CommentAuthorAssociation")}catch{}},41305:(e,t,a)=>{a.d(t,{w:()=>u});var n=a(74848),l=a(2892),i=a(73017),s=a(84268),r=a(35811),o=a(30459),d=a(96540),c=a(69599);function u({labels:e,testId:t,sx:a,onDelete:u,emptyText:m="No labels"}){let{sendAnalyticsEvent:p}=(0,o.s)(),g=(0,c.G7)("issues_report_sidebar_interactions"),f=(0,d.useMemo)(()=>0!==e.length&&e[0]?`${e[0].url.slice(0,e[0].url.lastIndexOf("/labels/"))}/issues`:"",[e]),h=(0,d.useCallback)(e=>`${f}?q=${encodeURIComponent(`state:open label:"${e.name}"`)}`,[f]);return(0,n.jsx)(r.az,{sx:a,tabIndex:-1,"data-testid":t,className:"LabelsList-module__labelsListContainer--bS7BO",children:e.length>0?e.sort((e,t)=>e.name===t.name?0:e.name>t.name?1:-1).map(e=>(0,n.jsx)(r.m_,{text:e.description??"",type:"description","aria-label":e.description??"",sx:{visibility:e.description?"visible":"hidden"},className:"LabelsList-module__labelDescriptionTooltip--LvHc0",children:(0,n.jsxs)(s.A,{href:h(e),muted:!0,"aria-describedby":`${e.id}-tooltip`,className:"LabelsList-module__labelLink--hHZBM",onClick:()=>{g&&p("analytics.click","ISSUE_SIDEBAR_LABEL_CLICK")},onContextMenu:()=>{g&&p("analytics.click","ISSUE_SIDEBAR_LABEL_RIGHT_CLICK")},children:[(0,n.jsx)(l.a,{text:(0,n.jsx)(i.JR,{html:e.nameHTML}),onDelete:u?()=>u(e.id):void 0,fillColor:`#${e.color}`,style:{overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",maxWidth:"100%"}},e.id),(0,n.jsx)("span",{className:"sr-only",id:`${e.id}-tooltip`,children:e.description??""})]},e.id)},e.id)):m})}try{u.displayName||(u.displayName="LabelsList")}catch{}},41848:(e,t,a)=>{a.d(t,{k:()=>n});let n={mutationErrorMessage:"Something went wrong while setting the field value. Please try again.",loadingFieldsTooltipMessage:"Couldn't load issue fields",loadingFieldsErrorMessage:"We couldn't load the issue fields. Please try again later or if the problem persists contact support",setValue:"None yet",reloadWarningMessage:"Reload site? Changes you made might not be saved.",textValidationMaxLength:(e,t)=>`Value cannot be more than ${t} characters (${e})`,textValidationEmpty:"Text cannot be empty.",textEditorLabel:e=>`The value for the ${e} field`,textEditorToolbarLabel:e=>`Toolbar for ${e} field`,textEditorPlaceholder:"Type text\u2026",numberEditorPlaceholder:"Type number\u2026",numberValidation:{errorMessage:"Must contain only numbers, decimals, and optional negative sign",max:e=>`Cannot be greater than ${e}`,min:e=>`Cannot be less than ${e}`},textEditorUpdateButton:"Update",textEditorRemoveFieldButtonLabel:e=>`Remove field ${e}`,textEditorUpdateButtonAriaLabel:e=>`Update field ${e} (press enter to submit)`,textEditorCancelButton:"Cancel",errorUpdatingIssueField:"There was an error updating this value. Please try again.",editFieldValueLabel:e=>`Edit ${e}`}},42118:(e,t,a)=>{a.d(t,{hF:()=>V,xR:()=>R,s_:()=>M});var n=a(74848),l=a(69599),i=a(76533),s=a(73189),r=a(82075),o=a(31223),d=a(71651),c=a(21513),u=a(72511),m=a(96540),p=a(38621),g=a(40961);function f({onChange:e,inputValue:t,sourceContentFromDiffLines:a,onInsertSuggestedChange:l,shouldInsertSuggestionOnRender:s,editorRef:r}){let o=`\`\`\`suggestion
${a??""}
\`\`\``,d=()=>{l(),r.current?.focus();let a=""===t?o:`${t}
${o}`;(0,g.flushSync)(()=>{e(a)});let n=document.activeElement;if(!n||!(n instanceof HTMLTextAreaElement))return;let i=a.length-3;n.selectionStart=i-1,n.selectionEnd=i-1};return(0,m.useEffect)(()=>{if(s){let e=window.setTimeout(()=>d());return()=>{window.clearTimeout(e)}}},[]),(0,n.jsx)(i.n.ToolbarButton,{icon:p.FileDiffIcon,"aria-label":"Add a suggestion",onClick:d})}try{f.displayName||(f.displayName="AddSuggestionButton")}catch{}var h=a(16049),y=a(62173),b=a(55255),k=a(91835);function x({onSave:e,validationResult:t,children:a,trailingIcon:l,disabled:i,size:s}){let r=(0,n.jsx)(k.x,{variant:"primary",size:s,onClick:e,disabled:i||!t.isValid,trailingVisual:l&&i?p.AlertFillIcon:null,children:a});return t.isValid?r:(0,n.jsx)(b.A,{text:t.errorMessage,direction:"w","data-testid":"save-button-tooltip",children:r})}try{x.displayName||(x.displayName="SaveButton")}catch{}var v=a(35811),C=a(34164);let j=(0,m.createContext)(null),S=({children:e,subject:t,onInsertText:a,onSave:l})=>{let i,s=(0,m.useRef)(null),r=(0,m.useRef)(null),[{top:o,left:d},c]=(0,m.useState)({top:0,left:0});(0,m.useEffect)(()=>{let e=s.current;if(!e)return;let t=e?.querySelector("textarea"),a={top:0,left:0};for(;t!==e;){if(null===t)return;a.top+=t.offsetTop,a.left+=t.offsetLeft,t=t.offsetParent instanceof HTMLElement?t.offsetParent:null}c(a)},[]),(0,m.useEffect)(()=>{let e=r.current;if(!e)return;s.current?.querySelector("textarea")&&e.reconnect?.();let t=()=>{e.querySelector(".js-slash-command-menu:not(.d-none)")||e.reconnect?.()},a=s.current?.querySelector("textarea");return a?.addEventListener("focus",t),()=>{a?.removeEventListener("focus",t)}},[]),(0,m.useEffect)(()=>{let e=r.current;if(!e)return;let t=s.current?.querySelector("textarea")||null,a=new MutationObserver(()=>{let a=s.current?.querySelector("textarea");a&&a!==t&&(t=a,e.querySelector(".js-slash-command-menu:not(.d-none)")||e.reconnect?.())});return s.current&&a.observe(s.current,{childList:!0,subtree:!0}),()=>{a.disconnect()}},[]),(0,m.useEffect)(()=>{if(!l)return;let e=r.current;if(e)return e.addEventListener("request-submit",l),()=>{e.removeEventListener("request-submit",l)}},[l]);let u=(0,m.useMemo)(()=>({onInsertText:a}),[a]);return(0,n.jsx)(v.az,{ref:s,sx:{"& .js-slash-command-menu":{mt:`${o}px`,ml:`${d}px`}},className:(0,C.$)("js-slash-command-surface","SlashCommandsProvider-module__slashCommandContainer--ZPT3l"),children:(0,n.jsx)("slash-command-expander",{ref:r,keys:"/","data-slash-command-url":(i=`/${t.repository.nwo}/slash_apps?surface=${function(e){switch(e){case"issue_comment":return"issue_comment";case"issue":return"issue_body";case"pull_request":return"pull_request";case"commit":return"commit"}}(t.type)}`,t.id&&(i+=`&subject_gid=${t.id.id}`),i),children:(0,n.jsx)(j.Provider,{value:u,children:e})})})},I=()=>{let e=(0,m.useContext)(j);return e?(0,n.jsx)(i.n.ToolbarButton,{icon:p.DiffIgnoredIcon,"aria-label":"Slash commands",onClick:()=>e.onInsertText("/")}):null};try{j.displayName||(j.displayName="SlashCommandButtonContext")}catch{}try{S.displayName||(S.displayName="SlashCommandsProvider")}catch{}try{I.displayName||(I.displayName="SlashCommandsButton")}catch{}let N=/<!-- Uploading[\s\S]*?-->/;var F=a(67702),_=a(70263),L=a(96379);function w(e){let t=(0,m.useRef)(void 0);return(0,m.useEffect)(()=>{t.current&&(t.current=void 0)},[e]),(0,m.useCallback)(()=>(t.current||(t.current=e()),t.current),[e])}async function T(e){try{let t=await (0,L.lS)(`/settings/replies${e?`?context=${e}`:""}`);return(await t.json()).map(e=>({name:e.title,content:e.body}))}catch{return[]}}async function A({subjectId:e,subjectType:t,subjectRepoId:a}){let n=e?`/${e}`:"",l="?mention_suggester=1&user_avatar=1";l=a?`${l}&repository_id=${a}`:l;let i=`/suggestions/${t}${n}${l}`,s=await (0,L.lS)(i,{method:"GET"});return await s.json()}async function E(e){try{return(await A(e)).map(e=>"login"in e?{description:e.name,identifier:e.login,avatarUrl:e.avatarUrl,participant:e.participant}:{description:e.description,identifier:e.name,avatarUrl:e.avatarUrl,participant:e.participant})}catch{return[]}}async function K({subjectId:e,subjectType:t,subjectRepoId:a}){let n=e?`/${e}`:"",l=await (0,L.lS)(`/suggestions/${t}${n}?issue_suggester=1&repository_id=${a}`,{method:"GET"});return await l.json()}async function P(e){try{let t=await K(e),a=t.icons;return t.suggestions.map(e=>({id:e.number.toString(),titleText:e.title,titleHtml:e.title,iconHtml:a[e.type]}))}catch{return[]}}let D={mentions:"loading",references:"loading",savedReplies:[]},R=i.n.ActionButton,M=()=>{let e=(0,r.A)("localStorage");return(0,l.G7)("markdown_experience_hybrid_editor")?e.getItem("markdown_editor_selected_view")??"edit":"edit"},V=(0,m.forwardRef)(({"aria-describedby":e,"data-testid":t,label:a,labelledBy:l,showLabel:p,disabled:g=!1,subject:b,viewMode:k,onChangeViewMode:v,value:C,placeholder:j,onChange:L,onSave:A,onCancel:K,validationResult:R,saveButtonText:V="Save",saveButtonTrailingIcon:O=!0,actions:B,footerButtons:$,contentIsStale:U,fileUploadsEnabled:H=!0,minHeightLines:z,maxHeightLines:q,className:G,onPrimaryAction:W,buttonSize:Q,suggestedChangesConfig:X,markdownErrorMessage:Y,teamHovercardsEnabled:J,setIsFileUploading:Z,markdownSuggestionsFetchMethod:ee="lazy",lineNumber:et,filePath:ea,startLineNumber:en},el)=>{let ei,es=(ei=b)?"project"===ei.type?{subjectId:ei.id?.databaseId?.toString(),subjectType:ei.type}:{subjectId:ei.id?.databaseId?.toString()??ei.id?.id,subjectRepoId:ei.repository.databaseId,subjectType:"issue_comment"===ei.type?"issue":ei.type}:{},er=b?.type==="project"?b?.id?.databaseId.toString():void 0,[eo,ed]=(0,m.useState)("eager"===ee),{mentions:ec,references:eu,emojis:em,savedReplies:ep}=function(e={},t){let a=(0,_.A)(),n=function({subjectId:e,subjectType:t,subjectRepoId:a}){return w((0,m.useCallback)(()=>t&&("project"===t||a)?E({subjectId:e,subjectType:t,subjectRepoId:a}):Promise.resolve([]),[t,a,e]))}(e),l=function({subjectId:e,subjectType:t,subjectRepoId:a}){return w((0,m.useCallback)(async()=>t&&a?P({subjectId:e,subjectType:t,subjectRepoId:a}):Promise.resolve([]),[e,t,a]))}(e),i=function({subjectType:e}){return w((0,m.useCallback)(()=>T("issue"===e||"pull_request"===e?e:void 0),[e]))}(e),[s,r]=(0,m.useState)(D);(0,m.useEffect)(()=>{let e=async()=>{let[e,t,s]=await Promise.all([n(),l(),i()]);a()&&(e.length||t.length||s.length)&&r({mentions:e,references:t,savedReplies:s})};t&&e()},[n,l,i,a,t]);let o=(0,F.P)(t);return{...s,emojis:o.isPending?"loading":o.data??[]}}(es,eo),eg=(0,y.y)({...es,path:ea,lineNumber:et,startCommitOid:b?.type==="project"?"":b?.comparison?.startCommitOid,startLineNumber:en,endCommitOid:b?.type==="project"?"":b?.comparison?.endCommitOid,baseCommitOid:b?.type==="project"?"":b?.comparison?.startCommitOid,subject:b?.type==="project"?void 0:b?.pullRequestNumber}),ef=(0,h.fU)(es.subjectRepoId?.toString(),er),eh=(0,r.A)("localStorage"),ey=M(),[eb,ek]=(0,m.useState)(k??ey),[ex,ev]=(0,m.useState)(!1),eC=(0,m.useRef)(null);(0,c.T)(el,eC);let ej=(0,m.useRef)(null),eS=void 0!==b&&"repository"in b&&void 0!==b.repository,eI=eS&&b.repository.slashCommandsEnabled,[eN,eF]=(0,m.useState)(X?.shouldInsertSuggestedChange??!1);(0,m.useEffect)(()=>(ev(U??!1),()=>{ev(!1)}),[U]);let e_=(0,m.useMemo)(()=>ex?s.l:()=>{A?.(),ek(ey)},[A,ex,ey]),eL=(0,o.M)(ey);(0,m.useEffect)(()=>{ek(eL.current)},[es.subjectRepoId,es.subjectId,eL]),(0,m.useEffect)(()=>{k&&ek(k)},[k]);let ew=(0,m.useCallback)(e=>{ek(e),eh.setItem("markdown_editor_selected_view","preview"===e?"edit":e),v?.(e)},[v,eh]),eT=(0,m.useCallback)(e=>{eC.current?.focus();try{document.execCommand("insertText",!1,e)}catch{}},[eC]),eA=(0,m.useCallback)(()=>{"lazy"!==ee||eo||ed(!0)},[eo,ee]);ex&&null!==ej.current&&window.scrollY>173&&ej.current.scrollIntoView();let eE=(0,m.useMemo)(()=>N.test(C),[C]);(0,m.useEffect)(()=>{Z&&Z(eE)},[eE,Z]);let eK=(0,m.useMemo)(()=>e=>(0,m.isValidElement)(e)&&"object"==typeof e&&"symbol"==typeof e.type&&"Symbol(react.fragment)"===String(e.type)?e.props.children:m.Children.toArray(e),[]),eP=(0,m.useMemo)(()=>e=>eK(e).map((e,t)=>(0,m.isValidElement)(e)?(0,m.cloneElement)(e,{key:t,disabled:g||eE}):e),[eK,g,eE]),eD=(0,d.z)(!1),eR=(0,n.jsxs)(m.Suspense,{children:[ex&&(0,n.jsx)(u.A,{ref:ej,variant:"danger",className:"CommentBox-module__staleContentWarning--i6nrw",children:"The content you are editing has changed. Please copy your edits and exit the editor."}),(0,n.jsxs)(i.n,{"aria-describedby":e,labelledBy:l,disabled:g,value:C,placeholder:void 0!==j?j:"Leave a comment",emojiSuggestions:em,emojiTone:eD.settings.emojiTone,mentionSuggestions:ec,referenceSuggestions:eu,viewMode:eb,onChangeViewMode:ew,onChange:L,onInputFocus:eA,onRenderPreview:eg,onUploadFile:H?ef:void 0,acceptedFileTypes:H?(0,h.jw)(eS):void 0,onPrimaryAction:()=>{e_(),W?.()},ref:eC,pasteUrlsAsPlainText:eD.settings.pasteUrlsAsPlainText,savedReplies:ep,monospace:eD.settings.useMonospaceFont,minHeightLines:z,maxHeightLines:q,className:G,teamHovercardsEnabled:J,onSavedRepliesOpen:eA,errorMessage:Y,children:[(0,n.jsx)(i.n.Label,{visuallyHidden:!p,children:a??"Markdown Editor"}),(0,n.jsxs)(i.n.Actions,{children:[eP(B),K&&(0,n.jsx)(i.n.ActionButton,{variant:"default",size:Q,onClick:K,value:"Cancel",children:"Cancel"}),e_&&R&&(0,n.jsx)(x,{onSave:e_,validationResult:R,trailingIcon:O,disabled:g||eE,size:Q,children:V})]}),(0,n.jsxs)(i.n.Toolbar,{children:[X?.showSuggestChangesButton&&(0,n.jsx)(f,{shouldInsertSuggestionOnRender:eN,inputValue:C,onChange:L,sourceContentFromDiffLines:X?.sourceContentFromDiffLines,editorRef:eC,onInsertSuggestedChange:()=>{X?.onInsertSuggestedChange(),eF(!1)}}),(0,n.jsx)(i.n.DefaultToolbarButtons,{}),(0,n.jsx)(I,{})]}),$&&(0,n.jsx)(i.n.Footer,{children:$})]})]});return(0,n.jsx)("div",{"data-testid":t,className:"CommentBox-module__commentBoxContainer--yrAth",children:eI?(0,n.jsx)(S,{subject:b,onInsertText:eT,onSave:e_,children:eR}):eR})});V.displayName="CommentBox"},42255:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(70263),l=a(96540);let i=function(e){let t=(0,n.A)(),[a,i]=(0,l.useState)(e);return[a,(0,l.useCallback)(e=>{t()&&i(e)},[t])]}},42257:(e,t,a)=>{a.d(t,{d:()=>i});var n=a(74848),l=a(99896);function i({status:e,oid:t,repo:a,badgeProps:i={},descriptionString:s=""}){let[r,o]=(0,l.ym)(t,a);return e?(0,n.jsx)(l.B6,{disablePopover:!1,size:"small",statusRollup:e,combinedStatus:r,descriptionText:s,onWillOpenPopup:o,buttonClassName:"AsyncChecksStatusBadge-module__ChecksStatusBadge--Ddd3K",...i}):null}try{i.displayName||(i.displayName="AsyncChecksStatusBadge")}catch{}},43147:(e,t,a)=>{a.d(t,{w:()=>o});var n=a(74848),l=a(98755),i=a(30459),s=a(16790),r=a(68534);function o({sha:e,direction:t="s"}){let{sendAnalyticsEvent:a}=(0,i.s)(),{loggingPrefix:o,loggingPayload:d}=(0,s.xe)(),c=(0,s.eX)();return(0,n.jsx)("div",{onClick:()=>{c&&a(`${o}click`,"COPY_SHA_CLICKED",d)},children:(0,n.jsx)(l.T,{textToCopy:e,ariaLabel:`Copy full SHA for ${(0,r.F)(e)}`,tooltipProps:{direction:t},size:"small"})})}try{o.displayName||(o.displayName="CopySHA")}catch{}},43258:(e,t,a)=>{a.d(t,{Qn:()=>o,T8:()=>c,Y6:()=>m,k6:()=>u});var n=a(74848),l=a(52870),i=a(96540),s=a(73189),r=a(42255);let o=5e3,d=(0,i.createContext)({addToast:s.l,addPersistedToast:s.l,clearPersistedToast:s.l}),c=(0,i.createContext)({toasts:[],persistedToast:null});function u({children:e}){let[t,a]=(0,r.A)([]),[s,u]=(0,i.useState)(null),{safeSetTimeout:m}=(0,l.A)(),p=(0,i.useCallback)(function(e){a([...t,e]),m(()=>a(t.slice(1)),o)},[t,m,a]),g=(0,i.useCallback)(function(e){u(e)},[u]),f=(0,i.useCallback)(function(){u(null)},[u]),h=(0,i.useMemo)(()=>({addToast:p,addPersistedToast:g,clearPersistedToast:f}),[g,p,f]),y=(0,i.useMemo)(()=>({toasts:t,persistedToast:s}),[t,s]);return(0,n.jsx)(d.Provider,{value:h,children:(0,n.jsx)(c.Provider,{value:y,children:e})})}function m(){return(0,i.useContext)(d)}try{d.displayName||(d.displayName="ToastContext")}catch{}try{c.displayName||(c.displayName="InternalToastsContext")}catch{}try{u.displayName||(u.displayName="ToastContextProvider")}catch{}},43570:(e,t,a)=>{a.d(t,{H:()=>r,k:()=>o});var n=a(74848),l=a(41848),i=a(4889);let s=/^-?\d+(\.\d+)?$/,r=e=>{if(""===e)return null;if(!s.test(e))return l.k.numberValidation.errorMessage;let t=parseFloat(e);return t>0x7fffffff?l.k.numberValidation.max(0x7fffffff):t<-0x80000000?l.k.numberValidation.min(-0x80000000):null},o=e=>(0,n.jsx)(i.e,{...e,inputProps:{placeholder:l.k.numberEditorPlaceholder,type:"number"},validate:r,isNumber:!0,className:e.className});try{s.displayName||(s.displayName="NUMBER_PATTERN")}catch{}try{o.displayName||(o.displayName="IssueFieldNumberEditor")}catch{}},43755:(e,t,a)=>{a.d(t,{J:()=>l});var n=a(79634);let l=()=>{let e=(0,n.X)();return{currentUser:e&&e.current_user?e.current_user:null}}},43952:(e,t,a)=>{a.d(t,{C5:()=>S,eJ:()=>F,Bk:()=>N,zD:()=>I});var n=a(74848);let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MilestonesSectionMilestone",selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null};l.hash="76d2f86529ad47c916131104f23ee735";let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MilestonesSectionFragment",selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"MilestonesSectionMilestone"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetMilestone",storageKey:null}],type:"Issue",abstractKey:null};i.hash="72b43b6f8433e4a47b0321cf2aa3c5ea";var s=a(67126),r=a(25779),o=a(90921),d=a(43258),c=a(5524),u=a(96540),m=a(18312),p=a(93513),g=a(2495),f=a(16810),h=a(21798),y=a(73867),b=a(73189),k=a(20177);let x=({progress:e})=>(0,n.jsxs)("svg",{role:"presentation",width:"16",height:"16","data-target":"tracked-issues-progress.progress","data-circumference":"38",style:{transform:"rotate(-90deg)"},"data-testid":k.Y.milestoneProgressIcon,children:[e<1?null:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0206 11.1074C9.68518 11.3949 9.18014 11.3561 8.8926 11.0206L5.8926 7.52061C5.62055 7.20322 5.63873 6.72989 5.93432 6.4343L7.43432 4.9343C7.74674 4.62188 8.25327 4.62188 8.56569 4.9343C8.87811 5.24672 8.87811 5.75325 8.56569 6.06567L7.58953 7.04182L10.1074 9.97935C10.3949 10.3148 10.3561 10.8198 10.0206 11.1074Z",fill:"var(--fgColor-done, var(--color-done-fg))"}),(0,n.jsx)("circle",{stroke:"var(--borderColor-default, var(--color-border-default))",strokeWidth:"2",fill:"transparent",cx:"50%",cy:"50%",r:"6"}),(0,n.jsx)("circle",{style:{transition:"stroke-dashoffset 0.35s"},stroke:"var(--fgColor-done, var(--color-done-fg))",strokeWidth:"2",strokeDasharray:38,strokeDashoffset:38-38*e,strokeLinecap:"round",fill:"transparent",cx:"50%",cy:"50%",r:"6"})]});try{x.displayName||(x.displayName="ProgressIcon")}catch{}function v({milestone:e,anchorProps:t}){return(0,n.jsx)(n.Fragment,{children:e?(0,n.jsxs)(c.l.LinkItem,{href:e.url||"#",target:"_blank","data-testid":k.Y.milestoneContainer,...t,onClick:b.l,children:[(0,n.jsx)(c.l.LeadingVisual,{children:(0,n.jsx)(x,{progress:e.progressPercentage/100})}),e.title,(0,n.jsx)(c.l.Description,{variant:"block",children:(0,n.jsx)(y.R,{closed:e.closed,closedAt:e.closedAt,progressPercentage:e.progressPercentage,dueOn:e.dueOn,showProgressPercentage:!0})})]},e.id):(0,n.jsx)("div",{className:"Milestone-module__hiddenPlaceholder--b_yit",...t})})}try{v.displayName||(v.displayName="Milestone")}catch{}let C=()=>(0,n.jsx)(g.h,{title:p.k.sectionTitles.milestones}),j=({sectionHeader:e,milestone:t,sx:a,className:l})=>(0,n.jsx)(f.w,{id:"sidebar-milestones-section",sx:a,className:l,sectionHeader:e,emptyText:t?void 0:p.k.emptySections.milestones,children:(0,n.jsx)(c.l,{variant:"full",children:(0,n.jsx)(v,{milestone:t})})});function S({milestone:e,onSelectionChange:t,viewerCanSetMilestone:a,className:l,sx:i,...s}){let r=a?(0,n.jsx)(o.D,{onSelectionChange:e=>{t(e?.[0]||null)},readonly:a,canCreateMilestone:a,activeMilestone:e,anchorElement:(e,t)=>(0,n.jsx)(h.X,{title:p.k.sectionTitles.milestones,buttonProps:e,ref:t}),showMilestoneDescription:!0,...s}):(0,n.jsx)(C,{});return(0,n.jsx)(j,{sx:i,className:l,sectionHeader:r,milestone:e})}let I=l,N=i;function F({issue:e,onIssueUpdate:t,insideSidePanel:a,readonly:l}){let i=(0,m.useFragment)(N,e),{repository:{owner:{login:c},name:g},id:f,viewerCanSetMilestone:y}=i,{milestone:b}=(0,m.useFragment)(I,i),{addToast:k}=(0,d.Y6)(),x=(0,m.useRelayEnvironment)(),v=(0,u.useCallback)(e=>{(0,r.v)({environment:x,input:{issueId:f,milestone:e.length>0?e.at(-1):null},onError:()=>k({type:"error",message:s.S.couldNotUpdateMilestone}),onCompleted:t})},[k,x,f,t]),S=(0,u.useMemo)(()=>{let e=l||!y;return e?(0,n.jsx)(C,{}):(0,n.jsx)(o.D,{repo:g,owner:c,onSelectionChange:v,anchorElement:(e,t)=>(0,n.jsx)(h.X,{title:p.k.sectionTitles.milestones,buttonProps:e,ref:t}),readonly:e,canCreateMilestone:y,activeMilestone:b??null,insidePortal:a,showMilestoneDescription:!0,showNoMatchItem:!0})},[l,y,g,c,v,b,a]);return(0,n.jsx)(j,{sectionHeader:S,milestone:b??null})}try{C.displayName||(C.displayName="ReadonlyMilestonesSectionHeader")}catch{}try{j.displayName||(j.displayName="MilestonesSection")}catch{}try{S.displayName||(S.displayName="CreateIssueMilestonesSection")}catch{}try{F.displayName||(F.displayName="EditIssueMilestonesSection")}catch{}},44251:(e,t,a)=>{a.d(t,{k:()=>r});var n=a(21728),l=a(96540),i=a(69599),s=a(53419);function r(){let e,t,a,r,o=(0,n.c)(4);o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.G7)("issue_fields_report_usage"),o[0]=e):e=o[0];let d=e,c=(0,l.useRef)(null);o[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{c.current=Date.now()},o[1]=t):t=o[1];let u=t;o[2]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{if(!d)return;let t=c.current?Date.now()-c.current:void 0;c.current=null;var a={...e,interactionDuration:t};let n={};for(let[e,t]of Object.entries(a))if(void 0!==t){let a=e.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();Array.isArray(t)?n[a]=t.join(","):n[a]=t}(0,s.BI)("issue_fields_usage",{...n,version:"1.0.1"})},o[2]=a):a=o[2];let m=a;return o[3]===Symbol.for("react.memo_cache_sentinel")?(r={markInteractionStart:u,reportUsage:m},o[3]=r):r=o[3],r}},46173:(e,t,a)=>{a.d(t,{Y:()=>n});let n={avatarLink:"avatar-link",avatarName:"avatar-name",commentAuthorAssociation:"comment-author-association",commentSubjectAuthor:"comment-subject-author",spammyLabel:"spammy-label",sponsorLabel:"sponsor-label",commentHeader:"comment-header",commentHeaderLeftSideItems:"comment-header-left-side-items",commentHeaderRightSideItems:"comment-header-right-side-items",commentHeaderHamburger:"comment-header-hamburger",commentHeaderHamburgerOpen:"comment-header-hamburger-open",commentMenuRefComment:"comment-menu-ref-comment",commentViewerOuterBox:e=>e?`comment-viewer-outer-box-${e}`:"comment-viewer-outer-box",commentComposer:"comment-composer",markdownBody:"markdown-body",commentBox:(e="")=>`markdown-editor-${e}`,readonlyCommentBox:(e="")=>`readonly-markdown-editor-${e}`,commentSkeleton:"comment-skeleton"}},46377:(e,t,a)=>{a.d(t,{_:()=>c});var n=a(74848),l=a(5524),i=a(21373),s=a(69497),r=a(35811),o=a(96540);let d="SharedPicker-module__dashedPickerButton--VyqkO",c=(0,o.forwardRef)(({leadingIconElement:e,anchorText:t,anchorProps:a,sharedPickerMainValue:c,ariaLabel:u,readonly:m,size:p,nested:g=!1,leadingIcon:f,hotKey:h,ariaLabelledBy:y,compressedTitle:b,className:k},x)=>{let v={"aria-labelledby":y,"aria-label":y?void 0:u,"aria-description":o.useMemo(()=>{let e;if(c)return e="string"==typeof c?c:b||"",`Currently selected: ${e}`},[c,b]),"aria-disabled":g?m:void 0,disabled:m};if(g){let i=c?e:f&&(0,n.jsx)(f,{});return(0,n.jsxs)(l.l.Item,{...a,...v,role:"menuitem",children:[i?(0,n.jsx)(l.l.LeadingVisual,{children:i}):null,t]})}return c?(0,n.jsx)(i.Q,{ref:x,size:p||"small",...a,...v,className:k,children:(0,n.jsxs)("div",{className:"SharedPicker-module__pickerContentContainer--Rgp_C",children:[(0,n.jsx)("div",{className:"SharedPicker-module__pickerLabelText--JSlao",children:t}),(0,n.jsx)(r.az,{sx:{display:e?"flex":"none","> *:not(:last-child)":{}},className:"SharedPicker-module__leadingIconContainer--LQhJ_",children:e}),(0,n.jsx)("div",{className:"SharedPicker-module__title--CNycE",children:(0,n.jsx)(s.A,{title:b??c.toString()??"",children:c})})]})}):(0,n.jsx)(i.Q,{ref:x,size:"small",leadingVisual:f,trailingVisual:h?()=>(0,n.jsx)("div",{className:"SharedPicker-module__hotkeyBadge--nXrIA",children:h}):void 0,className:k?`${d} ${k}`:d,...v,...a,children:t})});c.displayName="SharedPicker"},47544:(e,t,a)=>{a.d(t,{JF:()=>i,R1:()=>s,kP:()=>l});let n="/_ghui/item-pickers";function l(e){return`${n}/${e}`}function i(e,t={}){let a=new URLSearchParams(t).toString();return`${l(e)}${a&&`?${a}`}`}function s(){return`${n}/bulk_actions`}},47685:(e,t,a)=>{a.d(t,{e:()=>V,N:()=>M});var n,l,i,s,r,o,d,c,u=a(74848);let m={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"TemplateListPaneQuery",selections:[{alias:null,args:l=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TemplateListPane"}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"TemplateListPaneQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[i,s={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[i,s,r,o={alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[r,o,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"616cce00c4f4fa38692beac78606b059",metadata:{},name:"TemplateListPaneQuery",operationKind:"query",text:null}};m.hash="48fd58d3a414612124beb28d391e3930";let p={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplateListPane",selections:[{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{args:null,kind:"FragmentSpread",name:"TemplateList"}],type:"Repository",abstractKey:null};p.hash="881cdbdb34820ab9cdf5b5c8e6409bb0";var g=a(38621),f=a(18312),h=a(98338),y=a(96480);let b={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplateList",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},{args:null,kind:"FragmentSpread",name:"IssueFormRow"}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[d,c,{args:null,kind:"FragmentSpread",name:"IssueTemplateRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExternalLinkTemplateRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null};b.hash="9273ddd168cea9d6445f53cc752642e5";var k=a(71315),x=a(5524);a(69487);var v=a(66108);let C=({filename:e,onTemplateSelected:t,name:a,about:n,link:l,externalLink:i,trailingIcon:s})=>(0,u.jsxs)(x.l.LinkItem,{as:v.N,to:l??"#",target:i?"_blank":void 0,onClick:a=>{a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||(i||l||(a.preventDefault(),a.stopPropagation()),t(e))},className:"IssueTemplateItem-module__templateItemContainer--LLWZY",children:[(0,u.jsx)("span",{className:"IssueTemplateItem-module__actionListTitle--wBUhO",children:a}),(0,u.jsx)(x.l.Description,{variant:"block",children:n}),(0,u.jsx)(x.l.TrailingVisual,{children:s??(0,u.jsx)(g.ArrowRightIcon,{})})]},e);try{C.displayName||(C.displayName="IssueTemplateItem")}catch{}var j=a(81724),S=a(94007);let I=({nameWithOwner:e,onTemplateSelected:t})=>(0,u.jsx)(C,{filename:j.$K,onTemplateSelected:()=>t?.(j.$K,j.t7.BlankIssue),name:h.k.blankIssueName,about:h.k.blankIssueDescription,link:t?void 0:(0,S.Qy)(e,j.$K)});try{I.displayName||(I.displayName="BlankIssueItem")}catch{}var N=a(92858);let F={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExternalLinkTemplateRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"RepositoryContactLink",abstractKey:null};F.hash="89d8106fd30fe009b4d13c1f4908f32e";var _=a(73189);let L=({repositoryContactLink:e})=>{let t=(0,f.useFragment)(F,e);return(0,u.jsx)(C,{filename:t.name,onTemplateSelected:_.l,name:t.name,link:t.url,about:t.about,externalLink:!0,trailingIcon:(0,u.jsx)(g.LinkExternalIcon,{})})};try{L.displayName||(L.displayName="ExternalLinkTemplateRow")}catch{}let w={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueFormRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null}],type:"IssueForm",abstractKey:null};w.hash="4707734c7aff8e836f17a948f0fc6e8d";let T=({nameWithOwner:e,form:t,onTemplateSelected:a})=>{let n=(0,f.useFragment)(w,t);return(0,u.jsx)(C,{filename:n.filename,onTemplateSelected:e=>a?.(e,j.t7.IssueForm),name:n.name,about:n.description,link:a?void 0:(0,S.Qy)(e,n.filename)})};try{T.displayName||(T.displayName="IssueFormRow")}catch{}let A={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueTemplateRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null}],type:"IssueTemplate",abstractKey:null};A.hash="2047157ce521e245c1030871b4d976b7";let E=({nameWithOwner:e,template:t,onTemplateSelected:a})=>{let n=(0,f.useFragment)(A,t);return(0,u.jsx)(C,{filename:n.filename,onTemplateSelected:e=>a?.(e,j.t7.IssueTemplate),name:n.name,about:n.about,link:a?void 0:(0,S.Qy)(e,n.filename)})};try{E.displayName||(E.displayName="IssueTemplateRow")}catch{}let K=({link:e})=>(0,u.jsx)(C,{filename:"default-security-policy",link:e,externalLink:!0,onTemplateSelected:_.l,name:h.k.securityPolicyName,about:h.k.securityPolicyDescription,trailingIcon:(0,u.jsx)(g.ShieldIcon,{})});try{K.displayName||(K.displayName="SecurityPolicyRow")}catch{}var P=a(89946),D=a(50167);function R({repository:e,onTemplateSelected:t,className:a,setIsNavigatingToNew:n}){let{optionConfig:l,displayMode:i}=(0,y.a)(),s=(0,f.useFragment)(b,e);if(!s.hasAnyTemplates&&!s.isBlankIssuesEnabled&&!s.isSecurityPolicyEnabled)return(0,u.jsx)("span",{children:h.k.noTemplates});if(l.canBypassTemplateSelection){let e=function(e){if(e.contactLinks&&e.contactLinks.length>0||e.isSecurityPolicyEnabled&&e.securityPolicyUrl||e.isBlankIssuesEnabled)return null;let t=null;if(e.issueForms){if(1===e.issueForms.length)t=e.issueForms[0].filename;else if(e.issueForms.length>1)return null}if(e.issueTemplates)if(t){if(e.issueTemplates.length>0)return null}else 1===e.issueTemplates.length&&(t=e.issueTemplates[0].filename);if(!t)return null;let a=k.fV?.origin??"",n=`${a}/${e.nameWithOwner}`;return(0,S.RG)({repositoryAbsolutePath:n,fileName:t})}(s);if(e)return n?.(!0),l.navigate?.(e),null;n?.(!1)}let r=[...s.issueForms||[],...s.issueTemplates||[]].sort((e,t)=>e.filename.localeCompare(t.filename)).map(e=>"IssueForm"===e.__typename?(0,u.jsx)(T,{onTemplateSelected:t,form:e,nameWithOwner:s.nameWithOwner},e.filename):(0,u.jsx)(E,{onTemplateSelected:t,template:e,nameWithOwner:s.nameWithOwner},e.filename)),o=(0,u.jsxs)(u.Fragment,{children:[r,s.isBlankIssuesEnabled&&(0,u.jsx)(I,{onTemplateSelected:t,nameWithOwner:s.nameWithOwner},j.$K),s.isSecurityPolicyEnabled&&(0,u.jsx)(K,{link:s.securityPolicyUrl},"security_policy"),s.contactLinks&&s.contactLinks.map(e=>(0,u.jsx)(L,{repositoryContactLink:e},`contact_links.${e.name}`))]});return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(x.l,{className:a,"data-testid":N.Y.templateList,showDividers:!0,variant:"inset",children:l.showRepositoryPicker&&i===D.q.TemplatePicker?(0,u.jsxs)(x.l.Group,{children:[(0,u.jsx)(x.l.GroupHeading,{as:"h2",variant:"filled",className:`position-sticky top-0 x ${!l.insidePortal&&"border-top-0"} ${P.A.templateHeader}`,children:h.k.templatesFormsTitle}),o]}):o})})}try{R.displayName||(R.displayName="TemplateList")}catch{}function M({repositoryId:e,...t}){let a=(0,f.useLazyLoadQuery)(m,{id:e});return a.node?(0,u.jsx)(V,{repository:a.node,...t}):null}function V({repository:e,descriptionId:t,...a}){let{optionConfig:n}=(0,y.a)(),{insidePortal:l}=n,i=(0,f.useFragment)(p,e);return(0,u.jsx)("div",{children:i.hasIssuesEnabled?(0,u.jsx)(R,{repository:i,...a,className:`${!l?`border borderColor-muted rounded-2 overflow-hidden
                ${n.showRepositoryPicker?"pt-0 mt-0":"py-2 mt-2"}`:""}`}):(0,u.jsxs)("div",{className:"TemplateListPane-module__disabledStateGap--AF9Nn d-flex flex-row flex-items-center m-3",children:[(0,u.jsx)(g.InfoIcon,{}),(0,u.jsx)("span",{id:t,children:h.k.issuesDisabledForRepo})]})})}try{M.displayName||(M.displayName="TemplateListPaneFromRepo")}catch{}try{V.displayName||(V.displayName="TemplateListInternal")}catch{}},47817:(e,t,a)=>{a.d(t,{pf:()=>B,S7:()=>H,PT:()=>U,Dd:()=>$});var n,l,i,s,r=a(74848);let o=(i=[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TypesSectionTypeFragment",selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[n,l,{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null});o.hash="5de1a91f4e1d4ecaa3f0a9efbb82f741";let d={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TypesSectionFragment",selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:100}],concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:100)"}],storageKey:null},s,{args:null,kind:"FragmentSpread",name:"TypesSectionTypeFragment"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanType",storageKey:null}],type:"Issue",abstractKey:null};d.hash="ed89df93a2fdaab7d32e7dfddf950293";var c=a(69599),u=a(53419),m=a(67126),p=a(22463),g=a(5547),f=a(43258),h=a(30459),y=a(96540),b=a(18312),k=a(93513),x=a(89252),v=a(2495),C=a(16810),j=a(21798),S=a(45244),I=a(38621),N=a(26108),F=a(26607),_=a(55007);let L="CopilotTypesSection-module__copilotLoadingText--zS6D0",w="CopilotTypesSection-module__copilotIcon--NK0DJ";function T({issueId:e,onIssueUpdate:t,sectionHeader:a,setShouldShowCopilotComponent:n}){let{suggestedType:l,getSuggestions:i,getStatusForType:s}=(0,_.G)(),{addToast:o}=(0,f.Y6)(),d=(0,b.useRelayEnvironment)();(0,y.useEffect)(()=>{"success"===s("issueType")&&void 0===l&&n(!1)},[s,n,l]);let c=(0,y.useCallback)(a=>{(0,g._)({environment:d,input:{issueId:e,issueTypeId:a.length>0?a[0]?.id:null},onError:()=>o({type:"error",message:m.S.couldNotUpdateType}),onCompleted:t})},[o,d,e,t]);(0,y.useEffect)(()=>{(0,y.startTransition)(()=>{i({issueId:e,environment:d,type:"issueType"})})},[d,i,e]);let p=(0,y.useCallback)(()=>{l&&c([l]),n(!1),(0,u.BI)("copilot_suggested_type.confirm",{type:l?.name,issueId:e})},[e,c,n,l]),h=(0,y.useCallback)(()=>{n(!1),(0,u.BI)("copilot_suggested_type.dismiss",{type:l?.name,issueId:e}),(0,x.ub)(e)},[e,n,l?.name]),k=(0,y.useCallback)(()=>{i({issueId:e,environment:d,type:"issueType"}),(0,u.BI)("copilot_suggested_type_error.retry")},[d,i,e]),v=(0,y.useCallback)(()=>{n(!1),(0,u.BI)("copilot_suggested_type_error.cancel")},[n]);return(0,r.jsx)(y.Suspense,{fallback:(0,r.jsx)(A,{}),children:(0,r.jsxs)(C.w,{sectionHeader:a,children:["loading"===s("issueType")&&(0,r.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-busy":"true","aria-live":"polite",children:[(0,r.jsx)(I.CopilotIcon,{className:w}),(0,r.jsx)(S.b,{children:(0,r.jsx)("span",{className:L,children:"Copilot is thinking \u2026"})})]}),"success"===s("issueType")&&null!=l&&(0,r.jsx)(E,{copilotType:l,onConfirmCopilotType:p,onCancel:h,issueId:e}),"error"===s("issueType")&&(0,r.jsx)(P,{onRetry:k,onCancel:v})]})})}function A(){return(0,r.jsx)(C.w,{sectionHeader:(0,r.jsx)(j.X,{title:k.k.sectionTitles.types,readonly:!0}),children:(0,r.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-busy":"true","aria-live":"polite",children:[(0,r.jsx)(I.CopilotIcon,{className:w}),(0,r.jsx)(S.b,{children:(0,r.jsx)("span",{className:L,children:"Copilot is thinking \u2026"})})]})})}function E({copilotType:e,onConfirmCopilotType:t,onCancel:a,issueId:n}){return(0,u.BI)("copilot_suggested_type.shown",{issueId:n}),(0,r.jsxs)("span",{className:"d-flex flex-items-center flex-justify-between pl-2",children:[(0,r.jsx)(K,{name:e.name}),(0,r.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,r.jsx)(N.K,{variant:"invisible",size:"small",icon:I.CheckIcon,onClick:t,"aria-label":"Accept suggestion"}),(0,r.jsx)(N.K,{variant:"invisible",size:"small",icon:I.XIcon,onClick:a,"aria-label":"Dismiss suggestion"})]})]})}function K({name:e}){return(0,r.jsx)("div",{className:"CopilotTypesSection-module__copilotDraftType--NVquT",children:(0,r.jsx)(F.A,{className:"CopilotTypesSection-module__copilotDraftIndividualType--jO8Xl",children:e})})}function P({onRetry:e,onCancel:t}){return(0,r.jsxs)("span",{className:"d-flex flex-items-center flex-justify-between pl-1",children:[(0,r.jsxs)("span",{className:"d-flex flex-items-center pl-1 py-1",children:[(0,r.jsx)(I.CopilotErrorIcon,{className:w}),(0,r.jsx)("span",{className:L,children:"Error. Please try again."})]}),(0,r.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,r.jsx)(N.K,{variant:"invisible",size:"small",icon:I.SyncIcon,onClick:e,"aria-label":"Retry"}),(0,r.jsx)(N.K,{variant:"invisible",size:"small",icon:I.XIcon,onClick:t,"aria-label":"Dismiss"})]})]})}try{T.displayName||(T.displayName="CopilotTypesSection")}catch{}try{A.displayName||(A.displayName="CopilotTypesSectionLoading")}catch{}try{E.displayName||(E.displayName="CopilotTypesSectionSuccess")}catch{}try{K.displayName||(K.displayName="CopilotDraftType")}catch{}try{P.displayName||(P.displayName="CopilotTypesSectionError")}catch{}var D=a(25983),R=a(20177);function M({type:e,anchorProps:t,repoNameWithOwner:a}){return(0,r.jsx)(r.Fragment,{children:e?(0,r.jsx)("div",{"data-testid":R.Y.typeContainer,className:"IssueType-module__IssueTypeToken--hdXht",children:(0,r.jsx)(D.n,{name:e.name,color:e.color,href:`/${a}/issues?q=type:"${e.name}"`,getTooltipText:t=>t?e.name:void 0})}):(0,r.jsx)("div",{className:"IssueType-module__hiddenPlaceholder--nnfV9",...t})})}try{M.displayName||(M.displayName="IssueType")}catch{}let V=()=>(0,r.jsx)(v.h,{title:k.k.sectionTitles.types}),O=({sectionHeader:e,type:t,repoNameWithOwner:a,sx:n})=>(0,r.jsx)(C.w,{id:"sidebar-types-section",sx:n,sectionHeader:e,emptyText:t?void 0:k.k.emptySections.types,children:(0,r.jsx)("div",{className:"TypesSection-module__typeContainer--YI5mY",children:(0,r.jsx)(M,{type:t,repoNameWithOwner:a})})});function B({type:e,onSelectionChange:t,viewerCanType:a,sx:n,...l}){let{sendAnalyticsEvent:i}=(0,h.s)(),{repo:s,owner:o}=l;return(0,r.jsx)(O,{sx:n,sectionHeader:a?(0,r.jsx)(p.uF,{onSelectionChange:e=>{let a=e?.[0]||null;i("issue_create.update_issue_type","ISSUE_CREATE_UPDATE_ISSUE_TYPE_DIALOG",{issueTypeId:a?.id??""}),t(a)},readonly:a,activeIssueType:e,anchorElement:(e,t)=>(0,r.jsx)(j.X,{title:k.k.sectionTitles.types,buttonProps:e,ref:t}),...l,width:"medium"}):(0,r.jsx)(V,{}),type:e,repoNameWithOwner:`${o}/${s}`})}let $=o,U=d;function H({issue:e,onIssueUpdate:t,insideSidePanel:a,readonly:n}){let l=(0,b.useFragment)(U,e),{repository:{owner:{login:i},name:s,nameWithOwner:o,issueTypes:d},id:v,viewerCanType:C}=l,S=d?.edges?.map(e=>e?.node?.id)||[],{issueType:I}=(0,b.useFragment)($,l),N=I||null,{sendAnalyticsEvent:F}=(0,h.s)(),{addToast:_}=(0,f.Y6)(),L=(0,b.useRelayEnvironment)(),w=(0,c.G7)("copilot_auto_assign_metadata"),[A,E]=(0,y.useState)(w&&C&&null==N&&!(0,x.ic)(v)),K=(0,y.useCallback)(e=>{A&&(E(!1),(0,u.BI)("copilot_suggested_type.skipped",{issueId:v}));let a=e.length>0?e[0]?.id:null;F("issue_viewer.update_issue_type","ISSUE_VIEWER_UPDATE_ISSUE_TYPE_DIALOG",{initialIssueTypeId:N?.id??"",issueTypeId:a??""}),(0,g._)({environment:L,input:{issueId:v,issueTypeId:a},onError:()=>_({type:"error",message:m.S.couldNotUpdateType}),onCompleted:t})},[N?.id,_,L,v,t,F,A]),P=(0,y.useMemo)(()=>{let e=n||!C;return e?(0,r.jsx)(V,{}):(0,r.jsx)(p.uF,{repo:s,owner:i,onSelectionChange:K,anchorElement:(e,t)=>(0,r.jsx)(j.X,{title:k.k.sectionTitles.types,buttonProps:e,ref:t}),readonly:e,activeIssueType:N??null,insidePortal:a,width:"medium"})},[n,C,s,i,K,N,a]);return C||0!==S.length?A?(0,r.jsx)(T,{issueId:v,onIssueUpdate:t,sectionHeader:P,setShouldShowCopilotComponent:E}):(0,r.jsx)(O,{sectionHeader:P,type:N??null,repoNameWithOwner:o}):null}try{V.displayName||(V.displayName="ReadonlyTypesSectionHeader")}catch{}try{O.displayName||(O.displayName="TypesSection")}catch{}try{B.displayName||(B.displayName="CreateIssueIssueTypesSection")}catch{}try{H.displayName||(H.displayName="EditIssueIssueTypeSection")}catch{}},48926:(e,t,a)=>{a.d(t,{C:()=>c,j:()=>d});var n=a(74848),l=a(61200),i=a(81945),s=a(54571),r=a(62935),o=a(4095);function d({commit:e,repo:t,children:a,settings:d,textVariant:c}){let u=(0,o.NO)(e.oid),[m]=(0,s.I)(()=>!1,!0,[]);return(0,n.jsxs)(l.jF,{authors:e.authors,committer:e.committer,committerAttribution:e.committerAttribution,onBehalfOf:u?.onBehalfOf,repo:t,includeVerbs:!0,authorSettings:{fontWeight:"normal",fontColor:"fg.muted",avatarSize:16,...d},textVariant:c,children:[!m&&(0,n.jsx)(r.A,{className:"pl-1",datetime:e.committedDate}),m&&(0,n.jsx)(i.O,{variant:"rounded",className:"d-none d-sm-flex ml-1",width:"60px"}),a]})}function c({commit:e,repo:t,textVariant:a}){let[o]=(0,s.I)(()=>!1,!0,[]);return(0,n.jsxs)(l.Cf,{pusher:e.pusher,repo:t,textVariant:a,children:[!o&&(0,n.jsx)(r.A,{className:"pl-1",datetime:e.pushedDate}),o&&(0,n.jsx)(i.O,{variant:"rounded",className:"d-none d-sm-flex ml-1",width:"60px"})]})}try{d.displayName||(d.displayName="CommitAttribution")}catch{}try{c.displayName||(c.displayName="PushAttribution")}catch{}},49245:(e,t,a)=>{a.d(t,{I:()=>d,p:()=>u});var n=a(25407),l=a(71315),i=a(96379),s=a(96540),r=a(28014),o=a(68534);function d({repo:e,commit:t,viewerCanReply:a,repoOwnerGlobalRelayId:l,getInlineCommentInfoByPathAndPosition:o}){let{addComments:d}=(0,r.B)();return(0,s.useCallback)((s,r)=>new Promise(async(u,m)=>{let[p,g]=s.split("::");if(!p||!g)return void m(Error("Invalid threadId"));if(!r){let n=o(p,Number(g));u(n?c(n,t,e,a,s,l):void 0);return}let f=await (0,i.lS)(`${(0,n.MLt)({owner:e.ownerLogin,repo:e.name,commitOid:t.oid,path:p,position:g})}${r?"&isRefetch=true":""}`);if(f.ok){let n=await f.json();d(n.comments,p,g),u(n.comments?c(n.comments,t,e,a,s,l):void 0)}else m(Error("Failed to fetch thread"))}),[d,t,o,e,a,l])}function c(e,t,a,n,l,i){return{commentsData:{comments:e.map(e=>u(e,t,a,i))},id:l,viewerCanReply:n}}function u(e,t,a,i){return{publishedAt:void 0,state:"",viewerRelationship:"",id:e.relayId,databaseId:e.id,body:e.body,bodyHTML:e.htmlBody,createdAt:e.createdAt,url:`${l.cg?.location.origin}${(0,n.$Qz)({owner:a.ownerLogin,repo:a.name,commitish:t.oid})}#${e.urlFragment}`,currentDiffResourcePath:`#${e.urlFragment}`,authorAssociation:e.authorAssociation?.toUpperCase(),author:{id:e.author.id,login:e.author.login,avatarUrl:e.author.avatarUrl,url:""},isHidden:e.isHidden,lastUserContentEdit:e.lastUserContentEdit,minimizedReason:e.minimizedReason,subjectType:"commit",viewerCanMinimize:e.viewerCanMinimize,viewerCanSeeMinimizeButton:e.viewerCanMinimize,viewerCanSeeUnminimizeButton:e.viewerCanMinimize,viewerCanDelete:e.viewerCanDelete,viewerCanUpdate:e.viewerCanUpdate,viewerCanReact:e.viewerCanReact,viewerCanReport:e.viewerCanReport,viewerCanReportToMaintainer:e.viewerCanReportToMaintainer,viewerCanBlockFromOrg:e.viewerCanBlockFromOrg,viewerCanUnblockFromOrg:e.viewerCanUnblockFromOrg,viewerCanUnminimize:e.viewerCanUnminimize??!1,viewerDidAuthor:e.viewerDidAuthor,reactionGroups:e.reactionGroups,reference:{number:void 0,text:(0,o.F)(t.oid),author:{login:t.authors.length>0?t.authors[0]?.login??"":""}},repository:{id:a.id.toString(),isPrivate:a.private,name:a.name,owner:{id:i,login:a.ownerLogin,url:""}}}}},49246:(e,t,a)=>{a.d(t,{S:()=>s});var n=a(74848),l=a(96480),i=a(17831);function s({children:e,...t}){return(0,n.jsx)(l.o,{...t,children:(0,n.jsx)(i.s,{...t,children:e})})}try{s.displayName||(s.displayName="IssueCreateContextProvider")}catch{}},49275:(e,t,a)=>{a.d(t,{v:()=>n});let n={noMilestoneData:{id:"no-milestone",title:"No milestone",closed:!1},noLabelsData:{id:"no-labels",name:"No labels",color:"ededed",description:"Issues with no labels"},noAssigneeData:{id:"no-assignee",login:"No assignees",avatarUrl:""},noMatchData:{id:"no-match-item",avatarUrl:"",description:"Filter by user"},noTypeData:{id:"no-type",name:"No type",color:"ededed",description:"Issues with no type"}}},49936:(e,t,a)=>{a.d(t,{I:()=>n});let n=(0,a(96540).createContext)(null)},50167:(e,t,a)=>{a.d(t,{q:()=>n});let n={TemplatePicker:"TemplatePicker",IssueCreation:"IssueCreation",IssueDuplication:"IssueDuplication"}},51407:(e,t,a)=>{a.d(t,{Y:()=>n});function n(){let e={};return e.promise=new Promise((t,a)=>{e.resolve=t,e.reject=a}),e}},51802:(e,t,a)=>{a.d(t,{Y:()=>n});let n={issueBody:"issue-body",bodyLoading:"body-loading",commentBox:(e="")=>`markdown-editor-${e}`,projectTitle:"project-title"}},51928:(e,t,a)=>{a.d(t,{f:()=>p,i:()=>u});var n,l=a(74848),i=a(69599),s=a(86391),r=a(96540),o=a(19918),d=a(14307);try{(n=IssueTypePickerItemLeadingVisual).displayName||(n.displayName="IssueTypePickerItemLeadingVisual")}catch{}var c=a(49275);let u="UNSET",m=[];function p({activeIssueType:e,issueTypes:t=m,issueTypeToken:a,noTypeItem:n,showUnset:p=!1,anchorElement:g,insidePortal:f,isLoading:h,nested:y,onSelectionChange:b,title:k=o.k.typesHeader,triggerOpen:x=!0,width:v="large"}){let[C,j]=(0,r.useState)(""),S=(0,r.useMemo)(()=>{let e=a&&'"'===a[0]&&'"'===a[a.length-1]?a.slice(1,-1):a;return t.find(t=>t.name===e)},[t,a]),I=(0,r.useMemo)(()=>{let e=t.slice().sort((e,t)=>e.name.localeCompare(t.name));return(n?e.unshift(c.v.noTypeData):p&&e.unshift({id:u,name:"No issue type",isEnabled:!0,description:"",color:"GRAY"}),C)?e.filter(e=>e.name.toLowerCase().indexOf(C.toLowerCase())>=0):e},[t,C,p,n]),N=(0,r.useCallback)(e=>{j(e)},[]),F=(0,r.useCallback)(e=>e.id,[]),_=(0,r.useCallback)(e=>{let t;return{id:e.id,text:e.name,description:e.description??"",descriptionVariant:"block",leadingVisual:(t=e.color,function(){let e=d.i4.find(e=>e===t),{bg:a,accent:n}=(0,d.Wk)(e);return(0,l.jsx)("div",{style:{"--bg":`${a}`,"--accent":`${n}`},className:"IssueTypePickerItemLeadingVisual-module__issueTypeColorIndicator--ivyh6"})}),source:e}},[]),L=(0,r.useMemo)(()=>n?.selected?[c.v.noTypeData]:e?[e]:S?[S]:[],[e,S,n]),w=(0,r.useRef)(null),T=(0,r.useMemo)(()=>0===I.length,[I.length]),A=(0,i.G7)("issues_react_select_panel_fullscreen_on_narrow");return(0,l.jsx)(s.O,{loading:h,items:I,initialSelectedItems:L,filterItems:N,title:k,getItemKey:F,convertToItemProps:_,placeholderText:"Filter types",selectionVariant:"single",onSelectionChange:b,renderAnchor:e=>g(e),insidePortal:f,height:"large",width:v,nested:y,resultListAriaLabel:"Issue Type results",triggerOpen:x,keybindingCommandId:"item-pickers:open-issue-type",selectPanelRef:w,improvedNoMatchAccessibility:T,noMatchMessage:T?{title:"No issue types were found",variant:"empty",body:"Try searching with a different query for results."}:void 0,responsiveOnNarrow:A})}try{p.displayName||(p.displayName="IssueTypePickerBase")}catch{}},52475:(e,t,a)=>{a.d(t,{_S:()=>i,cB:()=>r,cW:()=>s});var n=a(53627),l=a(71315);let i=()=>{let e=(0,n.JV)().appId;return e&&"rails"!==e?e:crypto.randomUUID()},s=e=>{(0,n.C3)({appId:e})},r=()=>{let e=document.querySelector("react-app")||document.querySelector("projects-v2");return e?.uuid||"rails"};l.cg?.addEventListener("hashchange",()=>{(0,n.C3)({appId:r()})},!0)},54589:(e,t,a)=>{a.d(t,{X:()=>r});var n=a(74848),l=a(26607),i=a(10242),s=a(84174);let r=({children:e="Preview",feedbackUrl:t,className:a})=>(0,n.jsx)(s.V,{className:a,label:(0,n.jsx)(l.A,{variant:"success",children:e}),link:t?(0,n.jsx)(i.A,{feedbackUrl:t}):void 0});try{r.displayName||(r.displayName="BetaLabel")}catch{}},55007:(e,t,a)=>{a.d(t,{G:()=>N});var n,l,i,s,r,o,d,c,u,m,p,g,f,h,y,b,k=a(96540),x=a(25407),v=a(96379),C=a(8608),j=a(89252);let S=(n=[{defaultValue:null,kind:"LocalArgument",name:"issueId"}],l=[{kind:"Variable",name:"id",variableName:"issueId"}],i={alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r=[{kind:"Literal",name:"first",value:100}],c={alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={kind:"InlineFragment",selections:g=[o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],type:"IssueFieldText",abstractKey:null},{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"useIssueTypeSuggestionsQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i,s,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:r,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"nodes",plural:!0,selections:[o,d,c,u,m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[p,f,h={kind:"InlineFragment",selections:g,type:"IssueFieldSingleSelect",abstractKey:null},y={kind:"InlineFragment",selections:g,type:"IssueFieldDate",abstractKey:null},b={kind:"InlineFragment",selections:g,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:100)"}],storageKey:null}],type:"Issue",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useIssueTypeSuggestionsQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[p,{kind:"InlineFragment",selections:[i,s,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:r,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"nodes",plural:!0,selections:[o,d,c,u,m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[p,f,h,y,b,{kind:"InlineFragment",selections:[o],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:100)"},o],storageKey:null}],type:"Issue",abstractKey:null},o],storageKey:null}]},params:{id:"8fb6d11b9254ca064f07c226892101a2",metadata:{},name:"useIssueTypeSuggestionsQuery",operationKind:"query",text:null}});S.hash="7a99d40860cb0ca313dd557f3d69550c";var I=a(69487);function N(){let{getSuggestion:e,status:t,suggestedType:a}=function(){let e=(0,j.Ui)(),[t,a]=(0,k.useState)("loading"),[n,l]=(0,k.useState)(void 0),i=(0,k.useCallback)(async({issueId:t,title:n,body:i,availableTypes:s})=>{try{let r=await e.getAuthToken(),o=(0,C.Y)(s.map(e=>e.name).join(", ")),d=await (0,j.Al)(r,o,[{id:t,data:{title:n,body:i}}]);if(d){let e=Object.keys(d);if(0===e.length){l(void 0),a("success");return}let t=e.reduce((e,t)=>d[e]>d[t]?e:t,""),n=s.find(e=>t===e.name);l(n),a("success")}else a("error")}catch{a("error")}},[e]);return{getSuggestion:(0,k.useCallback)(({issueId:e,environment:t})=>{a("loading"),(0,I.fetchQuery)(t,S,{issueId:e}).subscribe({next:t=>{if(a("loading"),!t.node||!("repository"in t.node))return void a("error");let{body:n,title:l,repository:s}=t.node;if(!s?.issueTypes)return void a("error");let r=s.issueTypes.nodes?.flatMap(e=>e&&"object"==typeof e?[e]:[])||[];r.length>0?i({issueId:e,title:l,body:n,availableTypes:r}):a("error")},error:()=>{a("error")}})},[i]),status:t,suggestedType:n}}(),{getSuggestions:n,status:l,suggestedLabels:i}=function(){let e=(0,j.Ui)(),[t,a]=(0,k.useState)("loading"),[n,l]=(0,k.useState)([]),i=(0,k.useRef)({issueId:"",issueTitle:void 0,issueBody:void 0,repositoryName:void 0,repositoryOwner:void 0}),s=(0,k.useRef)(!0),r=(0,k.useCallback)(async t=>{try{let n=await e.getAuthToken(),{issueId:s,issueTitle:r,issueBody:o}=i.current;if(!s)return void a("error");let d=[{id:s,type:"github.issue",data:{type:"issue",title:r,body:o,labels:t.map(e=>({name:e.name,description:e.description}))}}],c=await (0,j.Al)(n,C.U,d);if(c){let e=Object.keys(c).filter(e=>c[e]>=80),n=t.filter(t=>e.includes(t.name));l(n),a("success")}else l([]),a("error")}catch(e){a("error")}},[e]),o=(0,k.useCallback)(async()=>{if(!s.current)return;let{repositoryName:e,repositoryOwner:t}=i.current;if(!e||!t){l([]),a("idle");return}let n=`${(0,x.SHX)({owner:t,repo:e})}/label_recommendations.json`;a("loading");try{let e=new URL(n,window.location.origin),t=await (0,v.lS)(e.toString(),{method:"GET"});if(!t.ok)return void a("error");let i=(await t.json()).labels.map(e=>({id:e.id,name:e.name,description:e.description,url:e.url,color:e.color,nameHTML:e.nameHTML}));i.length>0?await r(i):(l([]),a("success"))}catch(e){a("error")}},[r]);(0,k.useEffect)(()=>()=>{s.current=!1},[]);let d=(0,k.useCallback)(({issueId:e,issueTitle:t,issueBody:a,repositoryName:n,repositoryOwner:l})=>{e&&(i.current={issueId:e,issueTitle:t||i.current.issueTitle,issueBody:a||i.current.issueBody,repositoryName:n||i.current.repositoryName,repositoryOwner:l||i.current.repositoryOwner},o())},[o]);return(0,k.useMemo)(()=>({getSuggestions:d,status:t,suggestedLabels:n}),[d,t,n])}();return{getSuggestions:(0,k.useCallback)(({issueId:t,environment:a,type:l,issueTitle:i,issueBody:s,repositoryName:r,repositoryOwner:o})=>{"issueType"===l?e({issueId:t,environment:a}):n({issueId:t,environment:a,issueTitle:i,issueBody:s,repositoryName:r,repositoryOwner:o})},[e,n]),getStatusForType:e=>"issueType"===e?t:l,suggestedLabels:i,suggestedType:a,getTypeSuggestion:e,getLabelSuggestions:n,typeStatus:t,labelsStatus:l}}},56038:(e,t,a)=>{a.d(t,{Kn:()=>s,XC:()=>l,cg:()=>i,fV:()=>r});let n="undefined"!=typeof FORCE_SERVER_ENV&&FORCE_SERVER_ENV,l="undefined"==typeof document||n?void 0:document,i="undefined"==typeof window||n?void 0:window,s="undefined"==typeof history||n?void 0:history,r="undefined"==typeof location||n?{pathname:"",origin:"",search:"",hash:"",href:""}:location},56242:(e,t,a)=>{a.d(t,{u:()=>eL,E:()=>ew});var n,l,i,s,r,o,d,c,u,m,p,g,f,h,y,b,k,x,v,C,j,S,I,N,F,_,L,w,T,A=a(74848);let E=(i=[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FieldsSectionFragment",selections:[n,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetFields",storageKey:null},{args:null,kind:"FragmentSpread",name:"FieldsSectionFieldValues"},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[n,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null});E.hash="97c16f968dd940a48772fd83c00ae2a1";let K=(o=[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FieldsSectionFieldValues",selections:[s,{alias:null,args:[{kind:"Literal",name:"first",value:25}],concreteType:"IssueFieldValueConnection",kind:"LinkedField",name:"issueFieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:o,type:"IssueFieldText",abstractKey:null}],storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:o,type:"IssueFieldSingleSelect",abstractKey:null}],storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:o,type:"IssueFieldDate",abstractKey:null}],storageKey:null},d],type:"IssueFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:o,type:"IssueFieldNumber",abstractKey:null}],storageKey:null},{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null}],storageKey:null}],storageKey:"issueFieldValues(first:25)"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetFields",storageKey:null},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[s,r],storageKey:null}],type:"Issue",abstractKey:null});K.hash="461a0c55032c3a4bf8d10a5a74a2fd22";var P=a(69599),D=a(98646),R=a(44251),M=a(73189),V=a(75202),O=a(11196),B=a(96540),$=a(18312);a(69487);var U=a(3047),H=a(38621),z=a(21373);let q=(0,B.forwardRef)((e,t)=>{let{anchorProps:a,inactive:n=!1,disabled:l=!1,onClick:i}=e;return(0,A.jsx)("div",{className:"AddIssueFieldButton-module__container--vCxXw",children:(0,A.jsx)(z.Q,{leadingVisual:n?H.AlertIcon:void 0,trailingVisual:n?void 0:H.PlusIcon,size:"small",ref:t,...a,className:"AddIssueFieldButton-module__button--GCUMC",inactive:n||l,onClick:e=>{l||(i(),a?.onClick?.(e))},children:"Add field"})})});q.displayName="AddIssueFieldButton";var G=a(41848),W=a(23490);function Q({owner:e,fieldsSet:t,onIssueFieldSelected:a,markInteractionStart:n,inactive:l=!1,disabled:i=!1,onButtonElementReceived:s,hideAddFieldButton:r=!1}){let o=(0,B.useMemo)(()=>(e,t)=>(t?.current&&s?.(t.current),(0,A.jsx)(q,{anchorProps:e,ref:t,onClick:n,inactive:l,disabled:i})),[n,l,i,s]),d=(0,B.useCallback)(e=>{let t=e[0];t&&a((0,D.YQ)(t))},[a]);return r?null:(0,A.jsx)(W.iF,{owner:e,fieldsSet:t,onSelectionChange:d,anchorElement:o,insidePortal:!1})}try{Q.displayName||(Q.displayName="FieldsSelector")}catch{}let X="FieldsSection-module__pinnedField--xRXo6";function Y(e){let t=(0,B.useRef)(null),a=(0,B.useRef)(e),n=(0,B.useCallback)(e=>{t.current=e},[]);return(0,B.useEffect)(()=>{null!==a.current&&null===e&&t.current?.focus(),a.current=e},[e]),{setAddFieldButtonElement:n}}function J(e){let[t,a]=(0,B.useState)(!1),n=(0,B.useRef)(null),l=(0,B.useRef)(!1),i=(0,B.useRef)(null);return(0,B.useEffect)(()=>{if(l.current&&e!==i.current&&null!==e){a(!1),i.current=e;let t=setTimeout(()=>{a(!0)},0);return()=>{clearTimeout(t)}}l.current||(i.current=e),n.current=e,l.current=!0},[e]),{animatePinned:t}}function Z(e,t){return e&&t?`${X} FieldsSection-module__animationClass--ZaRW4`:e?X:void 0}function ee({mutationFn:e,input:t,environment:a,action:n,fieldId:l,fieldType:i,inProjectsPage:s,ownerId:r,reportUsage:o,onError:d,onCompleted:c}){let u=Date.now();e({environment:a,input:t,onCompleted:()=>{o({page:s?"memex#show":"issue#show",action:n,fieldId:l,fieldType:i,status:"success",duration:Date.now()-u,orgId:r?.toString()}),c?.()},onError:e=>{let t=Date.now()-u;o({page:s?"memex#show":"issue#show",action:n,fieldId:l,fieldType:i,status:"error",errorDetails:e instanceof Error?e.message:String(e),duration:t,orgId:r?.toString()}),d?.(e)}})}var et=a(59394),ea=a(83463),en=a(8816),el=a(16810),ei=a(21798);let es="FieldEditors-module__dateAnchorContainer--I3CxZ",er=({formattedDate:e})=>e?(0,A.jsx)("span",{className:"FieldEditors-module__dateText--SPr35",children:e}):(0,A.jsx)("span",{className:"FieldEditors-module__noValueContainer--jjEy0",children:G.k.setValue}),eo=({fieldId:e,fieldName:t,value:a,readonly:n,onCommit:l,shouldOpen:i=!1,isDraft:s=!1,errorPresent:r=!1,className:o})=>{let d=(0,B.useMemo)(()=>a?(0,en.b)(a):"",[a]),[c,u]=(0,B.useState)(i),m=(0,B.useCallback)(()=>{s&&l(e,null),u(!1)},[s,l,e]);return(0,A.jsx)(el.w,{sectionHeader:(0,A.jsx)(ei.X,{title:t,readonly:n,buttonProps:n?void 0:{onClick:()=>u(!0)},errorPresent:r}),className:o,children:n?(0,A.jsx)("div",{className:es,children:(0,A.jsx)(er,{formattedDate:d})}):(0,A.jsx)(ea.DatePicker,{anchor:e=>(0,A.jsx)("div",{...e,className:`${es} FieldEditors-module__dateAnchorContainerInteractive--EFP_p`,children:(0,A.jsx)(er,{formattedDate:d})}),showClearButton:!0,showTodayButton:!0,variant:"single",dateFormat:"long",onChange:t=>{let a=null;t&&(a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),12,0,0,0))),l(e,a),u(!1)},value:a,placeholder:"Set date",open:c,onOpen:()=>u(!0),onClose:m},t)})};try{er.displayName||(er.displayName="DateDisplay")}catch{}try{eo.displayName||(eo.displayName="IssueFieldDateEditor")}catch{}var ed=a(43570),ec=a(72690),eu=a(35811);let em=({name:e,color:t,getTooltipText:a,size:n,sx:l})=>{let i=(0,B.useRef)(null),[s,r]=(0,B.useState)(!1);(0,B.useEffect)(()=>r(ep(i.current)),[r,i]);let o=(0,A.jsx)(eu.ou,{className:"IssueFieldSingleSelectValueToken-module__token--TxIqq","data-color":t,ref:i,sx:l,text:(0,A.jsx)("span",{className:"IssueFieldSingleSelectValueToken-module__tokenText--U98W6",children:e})}),d=a(s);return(0,A.jsx)("div",{className:"IssueFieldSingleSelectValueToken-module__container--lARRk","data-size":n,children:d?(0,A.jsx)(O.m,{text:d,children:o}):o})},ep=e=>!!e&&!!e.firstElementChild&&e.firstElementChild.scrollWidth>e.firstElementChild.clientWidth;try{em.displayName||(em.displayName="IssueFieldSingleSelectValueToken")}catch{}let eg=({fieldId:e,fieldName:t,readonly:a,initialValue:n,onCommit:l,shouldOpen:i=!1,isDraft:s=!1,className:r})=>{let o=(0,B.useCallback)(t=>{l(e,t)},[e,l]),d=(0,B.useCallback)(()=>{s&&l(e,null)},[e,s,l]),c=(0,B.useMemo)(()=>(0,A.jsx)(ec.CZ,{fieldId:e,fieldName:t,selectedOption:n?n.name:null,onSelectionChange:o,anchorElement:(e,n)=>(0,A.jsx)(ei.X,{title:t||"",buttonProps:e,ref:n,readonly:a}),readonly:!1,isLazy:!0,onClose:d,shouldOpen:i}),[e,t,n,d,o,a,i]),u=n?.name===""&&n?.color===""&&n?.description==="";return(0,A.jsx)(el.w,{sectionHeader:c,className:r,children:(0,A.jsx)("div",{className:"IssueFieldSingleSelectValueToken-module__fieldEditorContainer--Ya3I1",children:u?(0,A.jsx)("div",{className:"IssueFieldSingleSelectValueToken-module__noValueContainer--FlWSG",children:G.k.setValue}):(0,A.jsx)(em,{name:n?.name||"",color:n?.color||"",getTooltipText:e=>e?n?.description??"":void 0})})})};try{eg.displayName||(eg.displayName="IssueFieldSingleSelectEditor")}catch{}var ef=a(4889);function eh({fieldValue:e,readonly:t,onCommit:a,className:n},l){let i=""===e.value;switch(e.field.dataType){case"TEXT":return(0,A.jsx)(ef.e,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:e.value||"",readonly:t,onCommit:(e,t)=>a(e,t),errorPresent:l,className:n},e.field.name);case"SINGLE_SELECT":return(0,A.jsx)(eg,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:{name:i||!e?.name?"":e.name,color:i||!e?.color?"":e.color,description:i||!e?.description?"":e.description},readonly:t,onCommit:(e,t)=>a(e,t),className:n},e.field.name);case"DATE":{let i=e.value?new Date(e.value):null;return(0,A.jsx)(eo,{fieldId:e.field.id,fieldName:e.field.name||"",value:i,readonly:t,onCommit:(e,t)=>a(e,t),errorPresent:l,className:n},e.field.name)}case"NUMBER":{let i=void 0!==e.numberValue&&null!==e.numberValue,s=void 0!==e.value&&null!==e.value&&""!==e.value,r=i?e.numberValue.toString():s?String(e.value):"";return(0,A.jsx)(ed.k,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:r,readonly:t,onCommit:(e,t)=>{""===t?a(e,t):a(e,Number(t))},errorPresent:l,className:n},e.field.name)}default:throw Error(`Unsupported field type: ${e.field.dataType}`)}}function ey({fieldSelection:e,onCommit:t,className:a}){switch(e.dataType){case"text":return(0,A.jsx)(ef.e,{fieldId:e.id||"",fieldName:e.name||"",initialValue:"",readonly:!1,onCommit:(e,a)=>t(e,a),shouldOpen:!0,isDraft:!0,className:a},e.id);case"single_select":return(0,A.jsx)(eg,{fieldId:e.id,fieldName:e.name||"",initialValue:{name:"",color:"",description:""},readonly:!1,onCommit:(e,a)=>t(e,a),shouldOpen:!0,isDraft:!0,className:a},e.name);case"date":return(0,A.jsx)(eo,{fieldId:e.id,fieldName:e.name||"",value:null,readonly:!1,onCommit:(e,a)=>t(e,a),shouldOpen:!0,isDraft:!0,className:a},e.name);case"number":return(0,A.jsx)(ed.k,{fieldId:e.id||"",fieldName:e.name||"",initialValue:"",readonly:!1,onCommit:(e,a)=>t(e,a),shouldOpen:!0,isDraft:!0,className:a},e.id);default:throw Error(`Unsupported field type: ${e.dataType}`)}}function eb({onClose:e,message:t}){return(0,A.jsx)(et.K,{title:"Error",confirmButtonContent:"OK",confirmButtonType:"primary",onClose:e,children:t})}try{eb.displayName||(eb.displayName="ErrorDialog")}catch{}let ek={fragment:{argumentDefinitions:c=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"createIssueFieldValueMutation",selections:[{alias:null,args:u=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateIssueFieldValuePayload",kind:"LinkedField",name:"createIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[g={kind:"InlineFragment",selections:p=[m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldTextValue",abstractKey:null},f={kind:"InlineFragment",selections:[m,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},h={kind:"InlineFragment",selections:p,type:"IssueFieldDateValue",abstractKey:null},y={kind:"InlineFragment",selections:[m,{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null}],storageKey:null},k={alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:b=[m],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:c,kind:"Operation",name:"createIssueFieldValueMutation",selections:[{alias:null,args:u,concreteType:"CreateIssueFieldValuePayload",kind:"LinkedField",name:"createIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g,f,h,y,{kind:"InlineFragment",selections:b,type:"Node",abstractKey:"__isNode"}],storageKey:null},k],storageKey:null}]},params:{id:"7d34c7a47ddc5e24a7fe4d1980651c76",metadata:{},name:"createIssueFieldValueMutation",operationKind:"mutation",text:null}};ek.hash="efaa5ef3592a90da63e7e17d2645f75c";let ex=e=>void 0!==e.singleSelectOptionId?D.KO:void 0!==e.dateValue?D.fk:void 0!==e.numberValue?D.qg:D.qH,ev=(e,t,a)=>{if(t){if(void 0!==a.textValue&&t.setValue(a.textValue,"value"),void 0!==a.singleSelectOptionId&&null!==a.singleSelectOptionId){let n=(e.get(a.fieldId)?.getLinkedRecords("options")||[]).find(e=>e.getDataID()===a.singleSelectOptionId);t.setValue(n?.getValue("name")??null,"name"),t.setValue(n?.getValue("color")??null,"color"),t.setValue(n?.getValue("description")??null,"description")}void 0!==a.dateValue&&t.setValue(a.dateValue,"value"),void 0!==a.numberValue&&t.setValue(a.numberValue,"value")}},eC=(e,t,a)=>{if(!e||!a)return;let n=(e.getLinkedRecords("nodes")||[]).filter(e=>e?.getLinkedRecord("field")?.getDataID()!==t);n.push(a),e.setLinkedRecords(n,"nodes")};function ej({environment:e,input:t,onCompleted:a,onError:n}){return(0,$.commitMutation)(e,{mutation:ek,variables:{input:t},onCompleted:()=>{a?.()},onError:e=>n?.(e),optimisticUpdater:e=>{let a=e.get(t.issueId);if(!a)return;let n=t.issueField,l=a.getLinkedRecord("issueFieldValues",{first:25}),i=l?.getLinkedRecords("nodes")||[],s=ex(n),r=e.create(`client:newFieldValue:${n.fieldId}`,s);r.setValue(`client:newFieldValue:${n.fieldId}`,"id");let o=e.get(n.fieldId);o&&r.setLinkedRecord(o,"field"),ev(e,r,n),i.push(r),l&&l.setLinkedRecords(i,"nodes")},updater:e=>{let a=e.get(t.issueId),n=a?.getLinkedRecord("issueFieldValues",{first:25}),l=e.getRootField("createIssueFieldValue"),i=l?.getLinkedRecord("issueFieldValue");if(!a||!i||!n)return;let s=t.issueField;if(!i.getLinkedRecord("field")){let t=e.get(s.fieldId);t&&i.setLinkedRecord(t,"field")}eC(n,s.fieldId,i)}})}let eS={fragment:{argumentDefinitions:x=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"deleteIssueFieldValueMutation",selections:v=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"DeleteIssueFieldValuePayload",kind:"LinkedField",name:"deleteIssueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null},{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:x,kind:"Operation",name:"deleteIssueFieldValueMutation",selections:v},params:{id:"07154732cd6de9c83b93caf7e4fdb17b",metadata:{},name:"deleteIssueFieldValueMutation",operationKind:"mutation",text:null}};function eI({environment:e,input:t,onCompleted:a,onError:n}){return(0,$.commitMutation)(e,{mutation:eS,variables:{input:t},onCompleted:()=>{a?.()},onError:e=>n?.(e),optimisticUpdater:e=>{let a=e.get(t.issueId);a&&eN(a,t.fieldId)},updater:e=>{let a=e.get(t.issueId);a&&eN(a,t.fieldId)}})}eS.hash="ade9c121a42280fa29046520cd641e3c";let eN=(e,t)=>{if(!e)return;let a=e.getLinkedRecord("issueFieldValues",{first:25});if(!a)return;let n=(a.getLinkedRecords("nodes")||[]).find(e=>e?.getLinkedRecord("field")?.getDataID()===t);if(!n)return;let l=n.getType();(0,D.fy)(n,l)},eF={fragment:{argumentDefinitions:C=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"updateIssueFieldValueMutation",selections:[{alias:null,args:j=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssueFieldValuePayload",kind:"LinkedField",name:"updateIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[N={kind:"InlineFragment",selections:I=[S={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldTextValue",abstractKey:null},F={kind:"InlineFragment",selections:[S,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},_={kind:"InlineFragment",selections:I,type:"IssueFieldDateValue",abstractKey:null},L={kind:"InlineFragment",selections:[S,{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null}],storageKey:null},T={alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:w=[S],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:C,kind:"Operation",name:"updateIssueFieldValueMutation",selections:[{alias:null,args:j,concreteType:"UpdateIssueFieldValuePayload",kind:"LinkedField",name:"updateIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},N,F,_,L,{kind:"InlineFragment",selections:w,type:"Node",abstractKey:"__isNode"}],storageKey:null},T],storageKey:null}]},params:{id:"c9b8f156814615ff82eb2393351e0719",metadata:{},name:"updateIssueFieldValueMutation",operationKind:"mutation",text:null}};function e_({environment:e,input:t,onCompleted:a,onError:n}){return(0,$.commitMutation)(e,{mutation:eF,variables:{input:t},onCompleted:()=>{a?.()},onError:e=>n?.(e),optimisticUpdater:e=>{let a=e.get(t.issueId),n=a?.getLinkedRecord("issueFieldValues",{first:25}),l=n?.getLinkedRecords("nodes")||[],i=t.issueField,s=ex(i),r=l.find(e=>e.getLinkedRecord("field")?.getDataID()===i.fieldId);if(!r){r=e.create(`client:updateFieldValue:${i.fieldId}`,s);let t=e.get(i.fieldId);t&&r.setLinkedRecord(t,"field")}ev(e,r,i),eC(n,i.fieldId,r)},updater:e=>{let a=e.get(t.issueId),n=a?.getLinkedRecord("issueFieldValues",{first:25}),l=e.getRootField("updateIssueFieldValue"),i=l?.getLinkedRecord("issueFieldValue"),s=t.issueField;if(i){if(!i.getLinkedRecord("field")){let t=e.get(s.fieldId);t&&i.setLinkedRecord(t,"field")}eC(n,s.fieldId,i)}}})}function eL({owner:e,ownerId:t,onSelectionChange:a,issueType:n}){let l,[i,s]=(0,B.useState)([]),[r,o]=(0,B.useState)([]),[d,c]=(0,B.useState)(null),{animatePinned:u}=J(n?.name||null),{markInteractionStart:m,reportUsage:p}=(0,R.k)(),{setAddFieldButtonElement:g}=Y(d),{pinnedFieldIds:f}=function({issueType:e,setFields:t,setFieldsSet:a}){let n=(0,B.useMemo)(()=>(0,P.G7)("pinned_issue_fields")?(e?.pinnedFields||[]).filter(e=>"%other"!==e.__typename).map(e=>(0,U.Y0)((0,D.YQ)(e),null)):[],[e]),l=(0,B.useMemo)(()=>new Set(n.map(e=>e.field.id)),[n]);return(0,B.useEffect)(()=>{e&&n.length>0?(t(e=>[...n.map(t=>{let a=e.find(e=>e.field.id===t.field.id);return a&&a.value?a:t}),...e.filter(e=>!l.has(e.field.id)&&e.value)]),a(n.map(e=>e.field.name))):(t(e=>e.filter(e=>!l.has(e.field.id))),a(e=>e.filter(e=>!n.map(e=>e.field.name).includes(e))))},[e,l,n,t,a]),{pinnedFieldIds:l}}({issueType:n??null,setFields:s,setFieldsSet:o}),h=!(0,P.G7)("issue_metadata_add_field_button");(0,B.useEffect)(()=>{a(i.filter(e=>e.value))},[i,a]),(0,B.useEffect)(()=>{let e=[...new Set([...i.map(e=>e.field.name).filter(e=>!!e),...r])];e.length===r.length&&e.every(e=>r.includes(e))||o(e)},[i,r]);let y=(0,B.useCallback)(e=>{m(),e.id&&(c(e),e.name&&o(t=>[...t,e.name]))},[m]),b=(0,B.useCallback)((e,a)=>{s(n=>{let l,i=n.map(t=>t.field.id===e?l=(0,U.IE)(t.field,a):t).filter(e=>void 0!==e.value||e.field.id&&f.has(e.field.id));return l&&!l.value&&(l.field.id&&f.has(l.field.id)||o(e=>e.filter(e=>e!==l?.field.name))),l&&l.field.dataType&&p({page:"issue#new",action:"create",fieldId:e,fieldType:(0,D.HZ)(l.field.dataType),status:"success",orgId:t?.toString()}),i})},[t,f,p]),k=(0,B.useCallback)((e,t)=>{if(!d||d.id!==e)return;c(null);let a=(0,D.HZ)(d.dataType),n=(0,U.vl)(a,t),l="string"==typeof n?!n.trim():!n;d.name&&l?o(e=>e.filter(e=>e!==d.name)):!l&&(s(e=>{let a=[...e];return d.name&&!a.some(e=>e.field.name===d.name)&&a.push((0,U.Y0)(d,t)),a}),d.name&&o(e=>e.includes(d.name)?e:[...e,d.name]))},[d]);return(0,A.jsxs)(A.Fragment,{children:[i.map(e=>e.field.id?eh({fieldValue:"object"==typeof e.value&&null!==e.value?{...e,...e.value}:e,readonly:!1,onCommit:b,className:Z(f.has(e.field.id),u)}):null),d&&(l=f.has(d.id),ey({fieldSelection:d,readonly:!1,onCommit:k,className:Z(l,u)})),(0,A.jsx)(Q,{owner:e,fieldsSet:r,onIssueFieldSelected:y,markInteractionStart:m,disabled:null!==d,onButtonElementReceived:g,hideAddFieldButton:h})]})}function ew({issue:e,inProjectsPage:t,readonly:a}){let n,[l,i]=(0,B.useState)([]),[s,r]=(0,B.useState)(!1),[o,d]=(0,B.useState)(!1),[c,u]=(0,B.useState)(null),m=(0,$.useRelayEnvironment)(),{markInteractionStart:p,reportUsage:g}=(0,R.k)(),{setAddFieldButtonElement:f}=Y(c),h=!(0,P.G7)("issue_metadata_add_field_button"),y=(0,$.useFragment)(E,e),{repository:{owner:{login:b}},viewerCanSetFields:k,issueType:x}=y,v=(0,B.useMemo)(()=>(0,P.G7)("pinned_issue_fields")?(x?.pinnedFields||[]).filter(e=>"%other"!==e.__typename).map(e=>(0,U.Y0)((0,D.YQ)(e),null)):[],[x]),C=(0,B.useCallback)(()=>{r(!0)},[]),j=(0,B.useCallback)((e,a)=>{if(!c||c.id!==e)return;u(null);let n=(0,U.vl)(c.dataType,a||""),l="string"==typeof n?!n.trim():!n;c.name&&l?i(e=>e.filter(e=>e!==c.name)):l||ee({mutationFn:ej,input:{issueId:y.id,issueField:{fieldId:e,...(0,D.Ft)(c.dataType,n)}},environment:m,action:"create",fieldId:e,fieldType:(0,D.HZ)(c.dataType),inProjectsPage:t,ownerId:y.repository?.owner?.databaseId,reportUsage:g,onError:C})},[c,y.id,y.repository?.owner?.databaseId,m,t,g,C]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(V.t,{fallback:(0,A.jsxs)("div",{children:[(0,A.jsx)(O.m,{text:G.k.loadingFieldsTooltipMessage,children:(0,A.jsx)("span",{children:(0,A.jsx)(q,{inactive:!0,anchorProps:{onClick:()=>d(!0)},onClick:M.l})})}),o&&(0,A.jsx)(eb,{onClose:()=>d(!1),message:G.k.loadingFieldsErrorMessage})]}),children:[(0,A.jsx)(eT,{issue:y,fieldsSet:l,setFieldsSet:i,inProjectsPage:t,pinnedFields:v,readonly:a}),c&&(n=v.some(e=>e.field.id===c.id),ey({fieldSelection:c,readonly:!1,onCommit:j,className:n?X:void 0})),!a&&k&&(0,A.jsx)(Q,{owner:b,fieldsSet:l,onIssueFieldSelected:e=>{e.id&&(u(e),e.name&&i(t=>[...t,e.name]))},markInteractionStart:p,disabled:null!==c,onButtonElementReceived:f,hideAddFieldButton:h})]}),s&&(0,A.jsx)(eb,{onClose:()=>r(!1),message:G.k.mutationErrorMessage})]})}function eT({issue:e,fieldsSet:t,setFieldsSet:a,inProjectsPage:n,pinnedFields:l,readonly:i}){let s=(0,$.useRelayEnvironment)(),[r,o]=(0,B.useState)({}),{reportUsage:d}=(0,R.k)();(0,B.useEffect)(()=>{let e=Object.values(r).some(e=>e),t=t=>{if(e)return t.preventDefault(),t.returnValue=G.k.reloadWarningMessage,t.returnValue};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[r]);let c=(0,$.useFragment)(K,e),{animatePinned:u}=J(c.issueType?.id||null),m=(c.issueFieldValues?.nodes||[]).map(e=>e),[p,g]=(0,B.useState)(m.filter(e=>e?.field!=null));(0,B.useEffect)(()=>{g((c.issueFieldValues?.nodes||[]).map(e=>e).filter(e=>e?.field!=null))},[c.id]);let f=(0,B.useCallback)(e=>{o(t=>({...t,[e]:!0}))},[]),h=(0,B.useCallback)((e,t,a)=>{let l=(0,D.HZ)(t),i=(0,U.vl)(l,a);""===a||null===a?ee({mutationFn:eI,input:{issueId:c.id,fieldId:e},environment:s,action:"delete",fieldId:e,fieldType:l,inProjectsPage:n,reportUsage:d,onCompleted:()=>o(t=>({...t,[e]:!1})),onError:()=>f(e)}):ee({mutationFn:e_,input:{issueId:c.id,issueField:{fieldId:e,...(0,D.Ft)(l,i)}},environment:s,action:"update",fieldId:e,fieldType:l,inProjectsPage:n,reportUsage:d,onCompleted:()=>o(t=>({...t,[e]:!1})),onError:()=>f(e)})},[c.id,s,f,n,d]);(0,B.useMemo)(()=>{let{addedFields:e,updatedFields:t,removedFields:a}=(0,U.kO)(p,m);if(0===e.length&&0===t.length&&0===a.length)return;let n=e.length>0,l=p.map(e=>{let l=t.find(t=>t?.field?.id===e?.field?.id);if(l)return(0,U.zo)(l,e)||(n=!0),l;if(a.some(t=>t?.field?.id===e?.field?.id)){let t=(0,U.uV)(e);return(0,U.zo)(t,e)||(n=!0),t}return e}).filter(e=>null!=e);n&&g([...l,...e])},[m,p]);let y=(0,B.useMemo)(()=>{if(!l||0===l.length)return p;let e=l.map(e=>p.find(t=>t.field.id===e.field.id)||e),t=e.map(e=>e.field.id);return[...e,...p.filter(e=>!t.includes(e.field.id))]},[l,p]);(0,B.useEffect)(()=>{let e=y.map(e=>e?.field?.name||"").filter(e=>e);t.length===e.length&&t.every((t,a)=>t===e[a])||a(e)},[t,y,a]);let b=y.map(e=>{if(!e||!e.field||!e.field.id||void 0===e.field||void 0===e.field.dataType)return null;let t=l?.some(t=>t.field.id===e.field.id)||!1;return function({errorPresent:e,setErrorPresent:t,fieldValue:a,...n}){if(!a.field)return null;let l=a.field.id,i="SINGLE_SELECT"===a.field.dataType,s=eh({fieldValue:a,...n},e[l]);return(0,A.jsxs)(B.Fragment,{children:[s,i&&e[l]&&(0,A.jsx)(eb,{onClose:()=>t(l,!1),message:G.k.mutationErrorMessage})]},a.field.name)}({errorPresent:r,setErrorPresent:(e,t)=>o(a=>({...a,[e]:t})),fieldValue:e,readonly:i||!c.viewerCanSetFields,onCommit:(t,a)=>h(t,e.field.dataType,a),className:Z(t,u)})});return(0,A.jsx)(A.Fragment,{children:b})}eF.hash="42fa492eab38e97eb091a4309e4f4202";try{eL.displayName||(eL.displayName="CreateIssueFieldsSection")}catch{}try{ew.displayName||(ew.displayName="EditIssueFieldsSection")}catch{}try{eT.displayName||(eT.displayName="IssueFields")}catch{}},57028:(e,t,a)=>{a.d(t,{M:()=>p});var n=a(74848),l=a(4559),i=a(40260),s=a(73189),r=a(38621),o=a(99511),d=a(26382),c=a(96540),u=a(76214);let m={timeout:{description:"Try reloading the page, or if the problem persists, view the history locally using this command:",heading:"Commit history cannot be loaded",icon:(0,n.jsx)(r.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"}),showTextInput:!0},unavailable:{description:"There isn't any commit history to show here.",heading:"No commits history",icon:(0,n.jsx)(r.GitCommitIcon,{size:"medium"}),showTextInput:!1}};function p({timeoutMessage:e,unavailableMessage:t}){let a=m[""!==e?"timeout":"unavailable"],p=t??a.description;return(0,c.useEffect)(()=>{(0,l.i)(`${a.heading}. ${p} ${e}`.trim())},[a.heading,p,e]),(0,n.jsx)(u.Z,{children:(0,n.jsx)("div",{"data-hpc":!0,children:(0,n.jsxs)(d.E,{border:!1,spacious:!0,children:[(0,n.jsx)(d.E.Visual,{children:a.icon}),(0,n.jsx)(d.E.Heading,{children:a.heading}),(0,n.jsx)(d.E.Description,{children:p}),a.showTextInput&&(0,n.jsx)(o.A,{"aria-label":"View commit history locally command",className:"d-flex flex-justify-center mt-2",monospace:!0,onChange:s.l,readOnly:!0,size:"large",trailingAction:(0,n.jsx)(o.A.Action,{onClick:()=>(0,i.D)(e),icon:r.CopyIcon,"aria-label":"Copy to clipboard",className:"fgColor-muted"}),value:e})]})})})}try{p.displayName||(p.displayName="CommitsBlankState")}catch{}},57224:(e,t,a)=>{a.d(t,{y:()=>s});var n=a(74848),l=a(21728),i=a(49936);function s(e){let t,a,s=(0,l.c)(7),{children:r,appName:o,category:d,metadata:c}=e;s[0]!==o||s[1]!==d||s[2]!==c?(t={appName:o,category:d,metadata:c},s[0]=o,s[1]=d,s[2]=c,s[3]=t):t=s[3];let u=t;return s[4]!==r||s[5]!==u?(a=(0,n.jsx)(i.I.Provider,{value:u,children:r}),s[4]=r,s[5]=u,s[6]=a):a=s[6],a}try{s.displayName||(s.displayName="AnalyticsProvider")}catch{}},58335:(e,t,a)=>{a.d(t,{l:()=>k});var n=a(74848),l=a(25407),i=a(83494),s=a(38621),r=a(86877),o=a(46720),d=a(84268),c=a(21373),u=a(10095),m=a(35811),p=a(34164),g=a(96540),f=a(89064),h=a(98338),y=a(92858),b=a(96480);let k=({className:e,sx:t,hideCreateMore:a=!1,onClose:k})=>{let{createMore:x,setCreateMore:v,createMoreCreatedPath:C,onCreateAction:j,isSubmitting:S,isFileUploading:I,isSubIssue:N,optionConfig:{insidePortal:F}}=(0,b.a)(),[_,L]=(0,g.useState)(!1),w=(0,g.useRef)(null),T=()=>!S&&(!I||(L(!0),!1)),A=async()=>{T()&&j?.current?.onCreate(S,x)};(0,g.useEffect)(()=>{w.current&&!I&&!S&&_&&(L(!1),w.current.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0})))},[I,S,_]);let E={"github:submit-form":A};return a||(E["issue-create:submit-and-create-more"]=()=>{v(!0),T()&&j?.current?.onCreate(S,!0)}),(0,n.jsxs)("div",{className:(0,p.$)("CreateIssueFooter-module__container--C49xM",e,"CreateIssueFooter-module__CreateIssueFooterContainer--iM6Iv"),children:[(0,n.jsx)(i.ak,{commands:E}),_&&(0,n.jsxs)("div",{className:"CreateIssueFooter-module__fileUploadWarningSection--M7r9j",children:[(0,n.jsx)(u.A,{icon:s.InfoIcon,size:16}),(0,n.jsx)("span",{className:"CreateIssueFooter-module__warningMessageText--fKwCF",children:h.k.fileUploadWarning})]}),(0,n.jsxs)(m.az,{sx:{...t},className:"CreateIssueFooter-module__mainContentWrapper--cs_cN",children:[!a&&(0,n.jsxs)(m.az,{sx:{ml:2*!F},className:"CreateIssueFooter-module__checkboxAndLinksSection--TMq5G",children:[(0,n.jsxs)(r.A,{className:"CreateIssueFooter-module__FormControl--g1A8W",children:[(0,n.jsx)(o.A,{"data-testid":y.Y.createMoreIssuesCheckbox,checked:x,onChange:()=>{v(!x)},className:"CreateIssueFooter-module__Checkbox--RNE52"}),(0,n.jsx)(r.A.Label,{children:N?f.l.createMoreSubIssues:f.l.createMore})]}),(0,n.jsx)("div",{"data-testid":y.Y.issueCreatedAnnouncement,className:"sr-only","aria-live":"polite","aria-atomic":"true",role:"status",children:C.number?h.k.lastIssueCreated(C.number):null}),C.number?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"CreateIssueFooter-module__separatorDot--HAWps",children:"\xb7"}),(0,n.jsx)(d.A,{href:(0,l.dRG)({owner:C.owner,repo:C.repo,issueNumber:C.number}),"data-testid":y.Y.issueCreatedLink,children:h.k.lastIssueCreated(C.number)})]}):null]}),(0,n.jsxs)("div",{className:"CreateIssueFooter-module__actionButtonsContainer--UzT1K",children:[k&&(0,n.jsx)(c.Q,{onClick:()=>k(),children:f.l.cancel}),(0,n.jsx)(i.cQ,{commandId:"github:submit-form",variant:"primary",inactive:S||I,"data-testid":y.Y.createIssueButton,ref:w,showKeybindingHint:!0,children:f.l.create})]})]})]})};try{k.displayName||(k.displayName="CreateIssueFooter")}catch{}},58805:(e,t,a)=>{a.d(t,{b2:()=>ea,rC:()=>ei,sC:()=>en,Qq:()=>el});var n,l=a(74848);let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionLazyFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:"suggestedActors(first:10)"},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerCopilotCodingAgentEligibility",kind:"LinkedField",name:"viewerCopilotCodingAgentEligibility",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasRequestedCca",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canRequestCca",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canGrantOrgCca",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canGrantEnterpriseCca",storageKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null};i.hash="b093f85a79fbc3ecbc04ae612aa89df9";let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionAssignees",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:20}],concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:"assignedActors(first:20)"}],type:"Issue",abstractKey:null};s.hash="8dcf0731e96f3d4ae53b3450478ffe7b";let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionCopilotRepositoryFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCopilotAgentEnabled",storageKey:null}],type:"Repository",abstractKey:null};r.hash="d0d5039c0af037561a9f4ee503f04833";let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{args:null,kind:"FragmentSpread",name:"AssigneesSectionCopilotRepositoryFragment"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"AssigneesSectionAssignees"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanAssign",storageKey:null}],type:"Issue",abstractKey:null};o.hash="d3c6b2757554e31ea145489e96bddf6e";let d={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionViewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"};d.hash="4ad6855a942f3fb6246836cfe7562826";var c=a(21728),u=a(38621),m=a(21373),p=a(96540),g=a(30459);let f=(0,p.forwardRef)((e,t)=>{let a,n,i=(0,c.c)(6),{onClick:s}=e,{sendClickAnalyticsEvent:r}=(0,g.S)();i[0]!==s||i[1]!==r?(a=()=>{r({category:"copilot_assignment",action:"click_assign_to_copilot_button",label:"ref_cta:assign_to_copilot"}),s()},i[0]=s,i[1]=r,i[2]=a):a=i[2];let o=a;return i[3]!==o||i[4]!==t?(n=(0,l.jsx)(m.Q,{ref:t,leadingVisual:u.AgentIcon,size:"small",block:!0,onClick:o,children:"Assign to Copilot"}),i[3]=o,i[4]=t,i[5]=n):n=i[5],n});f.displayName="CopilotAssignmentButton";var h=a(94099),y=a(84268),b=a(46720),k=a(86877),x=a(15220),v=a(35811),C=a(29731);function j({darkImagePath:e,lightImagePath:t,sx:a,...n}){let{colorScheme:i}=(0,v.DP)(),s=i&&/^dark/.test(i),r={display:"flex",flexDirection:"column",justifyContent:"flex-end",backgroundSize:"cover",backgroundPosition:"center",height:200,borderTopLeftRadius:"6px",borderTopRightRadius:"6px",...a,backgroundImage:`url(${s?e:t})`};return(0,l.jsx)(v.az,{sx:r,...(0,C.G)("splash-dialog-image"),...n,children:(0,l.jsx)(v.az,{sx:{height:"9px",background:s?"linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, rgba(255, 255, 255, 0.04) 100%)":"linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, rgba(0, 0, 0, 0.04) 100%)"}})})}try{j.displayName||(j.displayName="SplashDialogImage")}catch{}try{(n=function({children:e,sx:t,...a}){let n={backgroundColor:"canvas.default",borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",padding:"24px",...t};return(0,l.jsx)(v.az,{sx:n,...(0,C.G)("splash-dialog-body"),...a,children:e})}).displayName||(n.displayName="SplashDialogBody")}catch{}var S=a(58615),I=a(47723);let N="hideCopilotCodingAgentRequestDialog";function F(e){let t,a,n,i,s,r,o,d,u,p,g,f,h=(0,c.c)(26),{onClose:v,eligibility:C}=e,[F,L]=(0,S.M)(N,!1),w="Request access";C.canGrantEnterpriseCca||C.canGrantOrgCca?w="Enable feature":C.hasRequestedCca?w="Remove request":C.canRequestCca&&(w="Request access");let T="Request access from your admin, and let GitHub Copilot work independently in the background to complete tasks, with Copilot coding agent.";return C.canGrantEnterpriseCca||C.canGrantOrgCca?T="Enable Copilot coding agent to let GitHub Copilot work independently in the background to complete tasks.":C.hasRequestedCca&&(T="You have requested access to Copilot coding agent. Your admin will review your request."),h[0]!==v?(t=e=>{let{dialogLabelId:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"CopilotCodingAgentRequestAccessDialog-module__headerContainer--MzTC7",children:[(0,l.jsx)(j,{darkImagePath:"/static/images/modules/swe_agent/agent-task-dark.png",lightImagePath:"/static/images/modules/swe_agent/agent-task-light.png",sx:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px"}}),(0,l.jsx)("div",{className:"CopilotCodingAgentRequestAccessDialog-module__closeButtonContainer--kCbr6",children:(0,l.jsx)(x.l.CloseButton,{onClose:v})})]}),(0,l.jsx)(x.l.Header,{id:t,className:"CopilotCodingAgentRequestAccessDialog-module__visuallyHidden--Y3j6e",children:(0,l.jsx)(x.l.Title,{children:"Copilot coding agent is disabled"})})]})},h[0]=v,h[1]=t):t=h[1],h[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)("h2",{className:"CopilotCodingAgentRequestAccessDialog-module__heading--qpyNv",children:"Copilot coding agent is disabled"}),h[2]=a):a=h[2],h[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)(y.A,{href:I.a2,target:"_blank",rel:"noreferrer",children:"Learn more"}),h[3]=n):n=h[3],h[4]!==T?(i=(0,l.jsxs)("p",{className:"CopilotCodingAgentRequestAccessDialog-module__description--gXmI5",children:[T," ",n,"."]}),h[4]=T,h[5]=i):i=h[5],h[6]!==L?(s=e=>L(e.currentTarget.checked),h[6]=L,h[7]=s):s=h[7],h[8]!==F||h[9]!==s?(r=(0,l.jsx)(b.A,{checked:F,onChange:s}),h[8]=F,h[9]=s,h[10]=r):r=h[10],h[11]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)(k.A.Label,{children:"Don't show this again"}),h[11]=o):o=h[11],h[12]!==r?(d=(0,l.jsxs)(k.A,{children:[r,o]}),h[12]=r,h[13]=d):d=h[13],h[14]!==w?(u=(0,l.jsx)(m.Q,{onClick:_,children:w}),h[14]=w,h[15]=u):u=h[15],h[16]!==d||h[17]!==u?(p=(0,l.jsxs)("div",{className:"CopilotCodingAgentRequestAccessDialog-module__footer--TVZEO",children:[d,u]}),h[16]=d,h[17]=u,h[18]=p):p=h[18],h[19]!==p||h[20]!==i?(g=(0,l.jsxs)("div",{className:"CopilotCodingAgentRequestAccessDialog-module__body--CKyA7",children:[a,i,p]}),h[19]=p,h[20]=i,h[21]=g):g=h[21],h[22]!==v||h[23]!==t||h[24]!==g?(f=(0,l.jsx)(x.l,{onClose:v,width:"large",renderHeader:t,children:g}),h[22]=v,h[23]=t,h[24]=g,h[25]=f):f=h[25],f}function _(){}try{F.displayName||(F.displayName="CopilotCodingAgentRequestAccessDialog")}catch{}var L=a(5524),w=a(17855),T=a(12360),A=a(77430);function E(e){let t=(0,c.c)(5),{login:a,id:n,avatarUrl:i}=e;if((0,w.v)(a)){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(T.C,{}),t[0]=e):e=t[0],e}{let e,s=`@${a}`;return t[1]!==i||t[2]!==n||t[3]!==s?(e=(0,l.jsx)(A.r,{src:i,size:20,alt:s},n),t[1]=i,t[2]=n,t[3]=s,t[4]=e):e=t[4],e}}try{E.displayName||(E.displayName="AssigneeVisual")}catch{}var K=a(20403);let P="Copilot";var D=a(26052),R=a(69599);function M(e){let t,a,n,i=(0,c.c)(10),{assignees:s,testId:r}=e,{sendAnalyticsEvent:o}=(0,g.s)();i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,R.G7)("issues_report_sidebar_interactions"),i[0]=t):t=i[0];let d=t;if(i[1]!==s||i[2]!==o||i[3]!==r){let e;i[5]!==o||i[6]!==r?(e=e=>{let{login:t,name:a,avatarUrl:n,profileResourcePath:i,id:s}=e,c=(0,w.v)(t)?P:t;return(0,l.jsxs)(L.l.LinkItem,{href:i??void 0,target:"_blank",onClick:()=>{d&&o("analytics.click","ISSUE_SIDEBAR_ASSIGNEE_CLICK")},onContextMenu:()=>{d&&o("analytics.click","ISSUE_SIDEBAR_ASSIGNEE_RIGHT_CLICK")},...(0,K.S)(t,{isCopilot:(0,w.v)(t)}),children:[(0,l.jsx)(L.l.LeadingVisual,{children:(0,l.jsx)(E,{login:t,id:s,avatarUrl:n})}),(0,l.jsx)("div",{"data-testid":r,className:"Assignees-module__assigneeNameLabel--f9fCg",children:(0,R.G7)("render_user_display_name")?(0,l.jsx)(D.v,{login:c,profileName:a}):c})]},s)},i[5]=o,i[6]=r,i[7]=e):e=i[7],a=[...s].sort(V).map(e),i[1]=s,i[2]=o,i[3]=r,i[4]=a}else a=i[4];return i[8]!==a?(n=(0,l.jsx)(L.l,{variant:"full",className:"Assignees-module__assigneesList--JFnuE",children:a}),i[8]=a,i[9]=n):n=i[9],n}function V(e,t){return e.login===t.login?0:e.login>t.login?1:-1}try{M.displayName||(M.displayName="Assignees")}catch{}var O=a(32232),B=a(1667),$=a(72274),U=a(67126),H=a(73189),z=a(43258),q=a(18312),G=a(34784),W=a(93513),Q=a(20177),X=a(2495),Y=a(16810),J=a(21798);let Z="AssigneesSection-module__selfAssignButton--U9FC1",ee=()=>(0,l.jsx)(X.h,{title:W.k.sectionTitles.assignees}),et=({sectionHeader:e,onSelfAssignClick:t,assignees:a,readonly:n,copilotAssignmentButton:i,copilotEligibility:s})=>{let r=(0,R.G7)("cca_feature_request_issue_assignment"),[o]=(0,S.M)(N,!1),d=n?W.k.emptySections.assignees(!1):(0,l.jsxs)(l.Fragment,{children:[W.k.emptySections.assignees(!0),(0,l.jsx)(m.Q,{variant:"link",onClick:t,className:Z,children:W.k.emptySections.selfAssign}),r&&s&&!s.copilotAgentEligibility.hasRequestedCca&&!o&&s.canRequestOrGrantCopilotAgent&&(0,l.jsxs)(l.Fragment,{children:[" or ",(0,l.jsx)(m.Q,{variant:"link",onClick:s.openRequestAccessDialog,className:Z,children:s.copilotAgentEligibility.canGrantOrgCca||s.copilotAgentEligibility.canGrantEnterpriseCca?"enable coding agent":"request coding agent"})]})]}),c=i?(0,l.jsx)("div",{className:"width-full d-flex flex-column flex-items-stretch pt-2 px-2",children:(0,l.jsx)("div",{children:i})}):void 0;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Y.w,{id:"sidebar-assignees-section",sectionHeader:e,sectionFooter:c,emptyText:a.length>0?void 0:d,children:(0,l.jsx)(M,{assignees:a,testId:Q.Y.assignees})}),s?.requestAccessDialogOpen&&(0,l.jsx)(F,{onClose:s.closeRequestAccessDialog,eligibility:s.copilotAgentEligibility})]})};function ea({repo:e,owner:t,readonly:a,assignees:n,onSelectionChange:i,className:s,sx:r,repository:o,issueNumber:d,onIssueUpdate:c,...u}){let m=(0,$.u)(),p={repo:e,owner:t,readonly:a,includeAuthorableBots:!1,includeAssignableBots:!0,assigneeTokens:[],assignees:n,onSelectionChange:i,anchorElement:(e,t)=>(0,l.jsx)(J.X,{title:W.k.sectionTitles.assignees,buttonProps:{...e,id:"assignees-select-menu"},ref:t}),...u},g=a?(0,l.jsx)(ee,{}):(0,l.jsx)(O._g,{...p});return(0,l.jsx)(et,{sectionHeader:g,onSelfAssignClick:()=>i(m?[m]:[]),assignees:n,readonly:a,sx:r,className:s})}let en=s,el=o;function ei({issue:e,viewer:t,lazyKey:a,onIssueUpdate:n,insideSidePanel:s,readonly:o}){let{sendAnalyticsEvent:u}=(0,g.s)(),m=(0,R.G7)("issues_report_sidebar_interactions"),y=(0,G.useFragment)(el,e),{repository:b,repository:{owner:{login:k},name:x,isArchived:v},number:C}=y,j=(0,G.useFragment)(r,y.repository),S=(0,G.useFragment)(en,y),I=(0,G.useFragment)(d,t),{id:N,viewerCanAssign:F}=y,_=(0,G.useFragment)(i,a),L=(0,p.useMemo)(()=>(_?.suggestedActors?.nodes||[]).flatMap(e=>e?[(0,O.uX)(e)]:[]),[_?.suggestedActors?.nodes]),T=(0,p.useMemo)(()=>(S.assignedActors?.nodes||[]).flatMap(e=>e?[(0,O.uX)(e)]:[]),[S.assignedActors?.nodes]),{addToast:A}=(0,z.Y6)(),E=(0,q.useRelayEnvironment)(),K=(0,p.useRef)(null),P=function(e){let t,a,n,l=(0,c.c)(6),[i,s]=(0,p.useState)(!1),r=!!(e.hasRequestedCca||e.canRequestCca||e.canGrantOrgCca||e.canGrantEnterpriseCca);l[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>s(!0),l[0]=t):t=l[0];let o=t;l[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>s(!1),l[1]=a):a=l[1];let d=a;return l[2]!==r||l[3]!==e||l[4]!==i?(n={copilotAgentEligibility:e,canRequestOrGrantCopilotAgent:r,requestAccessDialogOpen:i,openRequestAccessDialog:o,closeRequestAccessDialog:d},l[2]=r,l[3]=e,l[4]=i,l[5]=n):n=l[5],n}({hasRequestedCca:_?.repository?.viewerCopilotCodingAgentEligibility?.hasRequestedCca??!1,canRequestCca:_?.repository?.viewerCopilotCodingAgentEligibility?.canRequestCca??!1,canGrantOrgCca:_?.repository?.viewerCopilotCodingAgentEligibility?.canGrantOrgCca??!1,canGrantEnterpriseCca:_?.repository?.viewerCopilotCodingAgentEligibility?.canGrantEnterpriseCca??!1}),D=o||!F||v,M=(0,p.useMemo)(()=>{let e=T.some(e=>(0,w.v)(e.login));return!D&&j.isCopilotAgentEnabled&&!e},[T,D,j.isCopilotAgentEnabled]),[V,$]=(0,p.useState)(!1),[Q,X]=(0,p.useState)(0),Y=(0,p.useCallback)(()=>{$(!0),X(e=>e+1)},[$]),Z=(0,p.useCallback)(()=>{$(!1)},[$]),ea=(0,p.useCallback)(e=>{(0,B.j)({environment:E,input:{issueId:N,assignedActors:e,participants:L},onError:()=>A({type:"error",message:U.S.couldNotUpdateAssignees}),onCompleted:n})},[A,E,N,n,L]),ei=(0,p.useCallback)(e=>{let t=T.some(e=>(0,w.v)(e.login)),a=e.some(e=>e.isCopilot),n=e.filter(e=>!e.isCopilot),l=M?n:e;M&&((e,t)=>{if(e.length!==t.length)return!1;let a=new Set(e.map(e=>e.id));return t.every(e=>a.has(e.id))})(l,T.filter(e=>!(0,w.v)(e.login)))||ea(l),a&&M&&!t&&Y()},[T,M,ea,Y]),es=(0,p.useCallback)(e=>{e&&(0,G.commitLocalUpdate)(E,t=>{((e,t,a)=>{let n=e.get(t);if(n){let t=n.getLinkedRecord("assignedActors(first:20)");if(t){let n=t.getLinkedRecords("nodes")||[];if(!n.some(e=>e&&e.getValue("id")===a.id)){let l=e.get(a.id);l||(l=((e,t)=>{let a=e.create(t.id,t.__typename);for(let[e,n]of Object.entries({id:t.id,login:t.login,name:t.name,avatarUrl:t.avatarUrl,isCopilot:t.isCopilot,profileResourcePath:t.profileResourcePath,__typename:t.__typename}))a.setValue(n,e);return a})(e,a));let i=[...n,l].sort((e,t)=>{let a=e?.getValue("login")||"",n=t?.getValue("login")||"";return a.toLowerCase().localeCompare(n.toLowerCase())});t.setLinkedRecords(i,"nodes")}}}})(t,N,{...e,isCopilot:!0,__typename:"Bot"})}),n?.()},[E,N,n]),er=M?(0,l.jsx)(f,{onClick:Y,ref:K}):void 0,eo=M?(0,l.jsx)(h.B,{isOpen:V,onClose:Z,repository:{name:b.name,owner:{login:b.owner.login}},issueNumbers:[C],onAssignmentComplete:es,returnFocusRef:K}):void 0,ed=(0,p.useMemo)(()=>D?(0,l.jsx)(ee,{}):(0,l.jsx)(O.Ir,{repo:x,owner:k,number:C,anchorElement:(e,t)=>(0,l.jsx)(J.X,{title:W.k.sectionTitles.assignees,buttonProps:{...e,onClick:t=>{m&&u("analytics.click","ISSUE_SIDEBAR_ASSIGNEE_SECTION_EDIT_CLICK"),e.onClick?.(t)}},ref:t}),readonly:D,assignees:T,onSelectionChange:e=>ei(e),insidePortal:s,suggestions:L},`assignee-picker-${Q}`),[D,x,k,C,T,s,L,Q,m,u,ei]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et,{sectionHeader:ed,assignees:T,onSelfAssignClick:()=>I?ea([I]):H.l,readonly:D,copilotAssignmentButton:er,copilotEligibility:P}),eo]})}try{ee.displayName||(ee.displayName="ReadonlyAssigneesSectionHeader")}catch{}try{et.displayName||(et.displayName="AssigneesSection")}catch{}try{ea.displayName||(ea.displayName="CreateIssueAssigneesSection")}catch{}try{ei.displayName||(ei.displayName="EditIssueAssigneesSection")}catch{}},59123:(e,t,a)=>{a.d(t,{r5:()=>j});var n,l,i=a(74848),s=a(73189),r=a(56149),o=a(94236),d=a(5524),c=a(86877),u=a(46720),m=a(21373),p=a(15220),g=a(96540),f=a(18312),h=a(69487);let y={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"blockUserFromOrganizationMutation",selections:l=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"BlockUserFromOrganizationPayload",kind:"LinkedField",name:"blockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"blockUserFromOrganizationMutation",selections:l},params:{id:"cc2dfdd4807633d71341d55e85bdcec5",metadata:{},name:"blockUserFromOrganizationMutation",operationKind:"mutation",text:null}};y.hash="1cc6b979024f82ac249a77676892c1f0";let b="BlockUserFromOrgDialog-module__BlockUserFormRow--kI5df",k="BlockUserFromOrgDialog-module__BlockUserHelpText--znGRy";var x=a(4551);let v={ONE_DAY:"For 1 day",THREE_DAYS:"For 3 days",SEVEN_DAYS:"For 7 days",THIRTY_DAYS:"For 30 days",INDEFINITE:"Until I unblock them"},C={ONE_DAY:"1",THREE_DAYS:"3",SEVEN_DAYS:"7",THIRTY_DAYS:"30",INDEFINITE:"0"},j=({onBlock:e,onClose:t,...a})=>{let[n,l]=(0,g.useState)("INDEFINITE"),[s,m]=(0,g.useState)(!0),[f,h]=(0,g.useState)(!1),[y,C]=(0,g.useState)(void 0),j=a.contentAuthor.login;return(0,i.jsx)(r.ZL,{children:(0,i.jsx)(p.l,{title:`Block ${a.contentAuthor.login} from ${a.organization.login}`,renderFooter:()=>e?(0,i.jsx)(N,{onBlock:e,onClose:t,...a,notifyBlockedUser:s,hideComment:f,duration:n,hiddenReason:y}):(0,i.jsx)(I,{onClose:t,...a,notifyBlockedUser:s,hideComment:f,duration:n,hiddenReason:y}),width:"xlarge",height:"auto",onClose:t,className:"BlockUserFromOrgDialog-module__BlockUserDialog--I4tCJ",children:(0,i.jsxs)("div",{className:"BlockUserFromOrgDialog-module__BlockUserContainer--EfgwE",children:[(0,i.jsx)("div",{className:b,children:(0,i.jsx)("div",{children:(0,i.jsxs)("span",{children:["Blocking a user prevents them from interacting with repositories of this organization, such as opening or commenting on pull requests or issues. Learn more about"," ",(0,i.jsx)("a",{href:"https://docs.github.com/communities/maintaining-your-safety-on-github/blocking-a-user-from-your-organization",children:"blocking a user."})]})})}),(0,i.jsx)("div",{className:b,children:(0,i.jsxs)(o.W,{children:[(0,i.jsxs)(o.W.Button,{children:["Block a user: ",v[n]]}),(0,i.jsx)(o.W.Overlay,{children:(0,i.jsx)(d.l,{selectionVariant:"single",children:(0,i.jsxs)(d.l.Group,{children:[(0,i.jsx)(d.l.GroupHeading,{children:"Block options"}),Object.keys(v).map(e=>(0,i.jsx)(d.l.Item,{onSelect:()=>{l(e)},selected:e===n,children:v[e]},e))]})})})]})}),(0,i.jsx)(S,{}),(0,i.jsx)("h4",{children:"More options"}),(0,i.jsxs)(c.A,{className:"BlockUserFromOrgDialog-module__BlockUserFormControl--jMHp4",children:[(0,i.jsx)(u.A,{checked:s,onChange:()=>m(!s),"aria-checked":s}),(0,i.jsx)(c.A.Label,{children:"Send user a notification and show activity in timeline"}),(0,i.jsx)(c.A.Caption,{children:(0,i.jsxs)("span",{className:k,children:["You can notify ",(0,i.jsx)("b",{children:j})," as to why they're being blocked. A public timeline entry will show that this user was blocked. They will receive an email notification and a notice when they try to comment with the following message:",(0,i.jsx)("div",{className:"BlockUserFromOrgDialog-module__BlockUserIndentedContainer--lH9mJ",children:(0,i.jsxs)("blockquote",{children:["A maintainer of the @",a.organization.login," organization has blocked you because of"," ",(0,i.jsx)("a",{href:a.contentUrl,children:"this content"}),". For more information please see"," ",(0,i.jsx)("a",{href:"https://docs.github.com/site-policy/github-terms/github-community-guidelines",children:"the community guidelines"}),"."]})})]})})]}),(0,i.jsxs)(c.A,{children:[(0,i.jsx)(u.A,{checked:f,onChange:()=>h(!f),"aria-checked":f}),(0,i.jsx)(c.A.Label,{children:"Hide this user's comments"}),(0,i.jsx)(c.A.Caption,{children:(0,i.jsxs)("span",{className:k,children:["All of their comments in this organization"," ",(0,i.jsx)("a",{href:"https://docs.github.com/communities/moderating-comments-and-conversations/managing-disruptive-comments#hiding-a-comment",children:"will be hidden"})," ","to all users and will display a reason."]})})]}),(0,i.jsx)("div",{className:"BlockUserFromOrgDialog-module__BlockUserLeftPadding--XEifV",children:(0,i.jsxs)(o.W,{children:[(0,i.jsx)(o.W.Button,{children:(y&&x.n[y])??"Choose a reason"}),(0,i.jsx)(o.W.Overlay,{children:(0,i.jsx)(d.l,{selectionVariant:"single",children:(0,i.jsx)(x.w,{onSelect:C})})})]})})]})})})},S=()=>(0,i.jsx)("div",{className:"BlockUserFromOrgDialog-module__BlockUserDivider--xUkJ6"}),I=({organization:e,contentAuthor:t,contentId:a,notifyBlockedUser:n,hideComment:l,duration:r,hiddenReason:o,onClose:d})=>{let c=(0,f.useRelayEnvironment)(),u=(0,g.useCallback)(()=>{!function({environment:e,input:{organizationId:t,blockedUserId:a,duration:n,notifyBlockedUser:l,hiddenReason:i,contentId:s},onError:r,onCompleted:o}){let d={organizationId:t,blockedUserId:a,duration:n,notifyBlockedUser:l,contentId:s};i&&(d={...d,hiddenReason:i}),(0,f.commitMutation)(e,{mutation:y,variables:{input:d},onError:e=>r&&r(e),onCompleted:()=>{o?.()}})}({environment:c,input:{organizationId:e.id,contentId:a,blockedUserId:t.id,duration:r,hiddenReason:l&&o?o:void 0,notifyBlockedUser:n},onError:s.l,onCompleted:()=>(0,h.commitLocalUpdate)(c,e=>{let t=e.get(a);t?.setValue(!1,"pendingUnblock"),t?.setValue(!0,"pendingBlock"),o&&t?.setValue(o,"pendingMinimizeReason")})}),d()},[c,e.id,a,t.id,r,l,o,n,d]);return(0,i.jsx)(F,{hideComment:l,hiddenReason:o,onSubmit:u})},N=({contentAuthor:e,duration:t,hideComment:a,hiddenReason:n,onBlock:l,onClose:s,organization:r,notifyBlockedUser:o})=>(0,i.jsx)(F,{hideComment:a,hiddenReason:n,onSubmit:()=>{l?.(C[t]??"0",a,n,r.login,o,e.login),s()}}),F=({hideComment:e,hiddenReason:t,onSubmit:a})=>(0,i.jsx)(p.l.Footer,{children:(0,i.jsx)(m.Q,{variant:"danger",disabled:e&&!t,onClick:a,className:"BlockUserFromOrgDialog-module__Button--FFeVP",children:"Block user from organization"})});try{j.displayName||(j.displayName="BlockUserFromOrgDialog")}catch{}try{S.displayName||(S.displayName="DialogDivider")}catch{}try{I.displayName||(I.displayName="BlockUserFromOrgDialogFooterWithRelay")}catch{}try{N.displayName||(N.displayName="BlockUserFromOrgDialogFooterWithoutRelay")}catch{}try{F.displayName||(F.displayName="BlockUserFromOrgDialogFooterComponent")}catch{}},59403:(e,t,a)=>{a.d(t,{Dx:()=>s,IP:()=>i,M4:()=>l,dt:()=>r});var n=a(91385);let l=1/0,i=-1/0,s=1,r=(e,t,a=s)=>{let r=e.trim().toLowerCase(),o=t.trim().toLowerCase();if(r===o)return l;if(0===o.length||0===r.length)return i;let d=(0,n.fN)(r,o);return d===1/0&&r!==o?i:o.startsWith(r)||o.endsWith(r)?d+a:d}},59464:(e,t,a)=>{a.d(t,{or:()=>ed,vN:()=>ec});var n,l,i,s,r,o,d,c,u,m,p,g,f,h,y,b,k,x,v,C,j,S,I,N,F,_,L,w=a(74848);let T={fragment:{argumentDefinitions:[n={defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"},l={defaultValue:null,kind:"LocalArgument",name:"name"},i={defaultValue:null,kind:"LocalArgument",name:"owner"}],kind:"Fragment",metadata:null,name:"CreateIssueDialogEntryQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[u,g={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},f={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},h={alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"isLocked",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},d,r,C={alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},o,S={alias:null,args:[{kind:"Literal",name:"action",value:"create an issue"}],kind:"ScalarField",name:"viewerInteractionLimitReasonHTML",storageKey:'viewerInteractionLimitReasonHTML(action:"create an issue")'},I={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSetIssueFields",storageKey:null}],storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null}],args:null,argumentDefinitions:[]},{args:[{kind:"Variable",name:"includeTemplates",variableName:"includeTemplates"}],kind:"FragmentSpread",name:"CreateIssueDialog"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,l,n],kind:"Operation",name:"CreateIssueDialogEntryQuery",selections:[{alias:null,args:s,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[r,o,d,c,u,m,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[F={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u,g,f,h,c],storageKey:null},y,b,k,x,v,C,j,S,I,N,{condition:"includeTemplates",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[F,_={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[F,_,m,L={alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[m,L,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],storageKey:null}]},params:{id:"050c2ef0f45554f8ab51c2e2c48bc886",metadata:{},name:"CreateIssueDialogEntryQuery",operationKind:"query",text:null}};T.hash="3637b8207b4416b73b8db4727054b1cd";var A=a(81171),E=a(73189),K=a(25407),P=a(96540),D=a(18312),R=a(79403),M=a(49246),V=a(50167),O=a(90651),B=a(35669);let $={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"}],kind:"Fragment",metadata:null,name:"CreateIssueDialog",selections:[{args:[{kind:"Variable",name:"includeTemplates",variableName:"includeTemplates"}],kind:"FragmentSpread",name:"CreateIssue"}],type:"Repository",abstractKey:null};$.hash="2462dd98bf9bee7cbb97c2e845715e7c";var U=a(56149),H=a(98107);a(69487);var z=a(96480),q=a(17831),G=a(62670),W=a(58335),Q=a(3872),X=a(98755),Y=a(69599),J=a(83494),Z=a(38621),ee=a(26108),et=a(15220),ea=a(89064),en=a(98338),el=a(81724),ei=a(94007);let es="CreateIssueDialogHeader-module__CopyToClipboardButton--P4HRy",er=({navigate:e,dialogLabelId:t,onClose:a})=>{let{displayMode:n,setDisplayMode:l,optionConfig:i,isSubIssue:s}=(0,z.a)(),{repository:r,repositoryAbsolutePath:o,template:d,resetMetadata:c,setTemplate:u}=(0,q.u)(),m=(0,Y.G7)("memex_default_issue_create_repository"),p=(0,P.useCallback)(()=>{a("close-button")},[a]),g=(0,P.useMemo)(()=>(0,ei.jk)(o),[o]),f=n===V.q.TemplatePicker&&void 0!==r,h=n===V.q.IssueCreation&&i.showFullScreenButton&&e!==E.l&&void 0!==r,y=(0,P.useCallback)(()=>{c({repository:r,selectedRepository:r}),u(void 0),l(V.q.TemplatePicker)},[c,u,l,r]),b=(0,P.useMemo)(()=>{if(n===V.q.TemplatePicker||!r?.nameWithOwner){let e=i.issueCreateArguments?.initialValues?.title;return en.k.issueCreateDialogTitleTemplatePane+(e?` - "${e}"`:"")}let e=d&&d.kind!==el.t7.BlankIssue?d.name:void 0,t=s?"sub-issue":"issue";return n===V.q.IssueDuplication?en.k.issueCreateDialogTitleDuplicationPane(r.nameWithOwner,t):en.k.issueCreateDialogTitleCreationPane(r.nameWithOwner,e,t)},[n,s,r?.nameWithOwner,d,i]);return(0,w.jsxs)(et.l.Header,{children:[(0,w.jsx)(J.ak,{commands:{"issue-create:open-fullscreen":()=>{if(!h)return;let t=`/${r.nameWithOwner}/issues/new`,a=d&&d.kind!==el.t7.BlankIssue?d.fileName:void 0;e(a?`${t}?template=${encodeURIComponent(a)}`:t)}}}),(0,w.jsxs)("div",{className:"CreateIssueDialogHeader-module__CreateIssueDialogHeaderContainer--_BhIA",children:[m&&n===V.q.IssueCreation&&(0,w.jsx)(ee.K,{icon:Z.ArrowLeftIcon,"aria-label":"Back to templates",variant:"invisible",onClick:y,className:es}),(0,w.jsx)("div",{className:"CreateIssueDialogHeader-module__dialogTitleSection--M7S4F",children:(0,w.jsx)(et.l.Title,{id:t,children:b})}),f&&(0,w.jsx)(X.T,{textToCopy:g,ariaLabel:ea.l.copyUrl,icon:Z.CopyIcon,tooltipProps:{direction:"n"},className:es}),h&&(0,w.jsx)(J.N5,{variant:"invisible",commandId:"issue-create:open-fullscreen",icon:Z.ScreenFullIcon,className:es}),(0,w.jsx)(et.l.CloseButton,{onClose:p})]})]})};try{er.displayName||(er.displayName="CreateIssueDialogHeader")}catch{}let eo=({onCreateSuccess:e,onCancel:t,navigate:a,currentRepository:n,isNavigatingToNew:l,returnFocusRef:i,...s})=>{let{optionConfig:r,initialDefaultDisplayMode:o,setDisplayMode:d,displayMode:c,setCreateMore:u}=(0,z.a)(),{usedStorageKeyPrefix:m}=(0,q.u)(),p=(0,D.useFragment)($,n),g=(0,P.useCallback)(()=>{u(!1),d(o),t()},[o,t,u,d]),{onSafeClose:f}=(0,Q.Z)({storageKeyPrefix:m,issueFormRef:s.issueFormRef,onCancel:g}),h=(0,P.useCallback)(({issue:t,createMore:a})=>{e({issue:t,createMore:a}),a||d(o)},[o,e,d]),y={...s,onCancel:f},b=(0,P.useMemo)(()=>!l||!r.canBypassTemplateSelection,[l,r.canBypassTemplateSelection]);return(0,w.jsx)(U.ZL,{children:(0,w.jsx)(H.lG,{returnFocusRef:i,renderHeader:e=>(0,w.jsx)(er,{navigate:a,...e}),renderFooter:()=>c===V.q.IssueCreation||c===V.q.IssueDuplication?(0,w.jsx)(H.lG.Footer,{children:(0,w.jsx)(W.l,{onClose:()=>f(),...s})}):null,renderBody:()=>(0,w.jsx)("div",{className:`${c===V.q.IssueCreation||c===V.q.IssueDuplication?"p-3":"p-0"}`,children:(0,w.jsx)(G.E,{onCreateSuccess:h,navigate:a,currentRepository:p,...y})}),onClose:f,width:"xlarge",height:"auto",sx:{visibility:b?"visible":"hidden"},className:"CreateIssueDialog-module__CreateIssueDialogContainer--paAFp"})})};try{eo.displayName||(eo.displayName="CreateIssueDialog")}catch{}let ed=({...e})=>(0,w.jsx)(P.Suspense,{children:(0,w.jsx)(ec,{...e})}),ec=({navigate:e,isCreateDialogOpen:t,setIsCreateDialogOpen:a,onCancel:n,onCreateSuccess:l,onCreateError:i,optionConfig:s,isNavigatingToNew:r,setIsNavigatingToNew:o,returnFocusRef:d})=>{let c=(0,D.useRelayEnvironment)(),[u,m]=(0,P.useState)(null),[p,g,f]=(0,D.useQueryLoader)(T),h=(0,O.S)(s),y=h.showRepositoryPicker;(0,P.useEffect)(()=>{let e=async()=>{m(await (0,A.St)(c,{first:R.tT.repositoriesPreloadCount,hasIssuesEnabled:!0}))};y&&e()},[]);let b=(0,P.useMemo)(()=>h.issueCreateArguments?.repository?{owner:h.issueCreateArguments.repository.owner,name:h.issueCreateArguments.repository.name}:null,[h.issueCreateArguments?.repository]);(0,P.useEffect)(()=>(b&&g({...b,includeTemplates:!0},{fetchPolicy:"store-or-network"}),()=>f()),[f,b,g]);let k=()=>{n?.(),a(!1)};return t&&(!y||u)&&(p||!b)?(0,w.jsx)(eu,{createIssueProps:{topRepositories:u,onCreateSuccess:({issue:t,createMore:a})=>{l?l({issue:t,createMore:a}):a||(k(),e((0,K.dRG)({owner:t.repository.owner.login,repo:t.repository.name,issueNumber:t.number})))},onCreateError:e=>i?.(e),onCancel:k,navigate:e,isNavigatingToNew:r,setIsNavigatingToNew:o},config:h,currentRepoQueryRef:p??null,returnFocusRef:d}):null},eu=({currentRepoQueryRef:e,...t})=>e?(0,w.jsx)(em,{currentRepoQueryRef:e,...t}):(0,w.jsx)(ep,{currentRepoData:null,...t}),em=({currentRepoQueryRef:e,...t})=>{let a=(0,D.usePreloadedQuery)(T,e);return(0,w.jsx)(ep,{currentRepoData:a,...t})},ep=({createIssueProps:e,config:t,currentRepoData:a,returnFocusRef:n})=>{let l=e.navigate??E.l,i=a&&a.repository?(0,A.Jo)(a.repository):null,s=(0,P.useRef)(null),r={repository:i??void 0,template:void 0,parentIssue:t.issueCreateArguments?.parentIssue},o={...e,issueFormRef:s},d=a?.repository,c=!1;return(d?.hasIssuesEnabled&&t.defaultDisplayMode!==V.q.IssueDuplication&&(c=l!==E.l&&!!i&&!!d&&!d.hasAnyTemplates&&d.isBlankIssuesEnabled),(0,P.useEffect)(()=>{if(c&&i){let e=(0,B.H_)({includeRepository:!1,repository:i,templateFileName:void 0,...t.issueCreateArguments?.initialValues});l(`/${i.nameWithOwner}/issues/new${e?`?${e}`:""}`)}},[l,c,i,t.issueCreateArguments?.initialValues]),c)?null:(0,w.jsx)(M.S,{optionConfig:t,overrideFallbackDisplaymode:V.q.TemplatePicker,preselectedData:r,children:(0,w.jsx)(eo,{currentRepository:a?.repository,...o,returnFocusRef:n})})};try{ed.displayName||(ed.displayName="CreateIssueDialogEntry")}catch{}try{ec.displayName||(ec.displayName="CreateIssueDialogEntryInternal")}catch{}try{eu.displayName||(eu.displayName="CreateIssueEntry")}catch{}try{em.displayName||(em.displayName="CreateIssueEntryWithRepo")}catch{}try{ep.displayName||(ep.displayName="CreateIssueEntryInternal")}catch{}},60871:(e,t,a)=>{var n=a(70103),l=a(1723),i=a(74848),s=a(78314),r=a(35898),o=a(75202),d=a(76648),c=a(96540),u=a(38621),m=a(26382);function p(){return(0,i.jsx)("div",{children:(0,i.jsxs)(m.E,{border:!1,spacious:!1,children:[(0,i.jsx)(m.E.Visual,{children:(0,i.jsx)(u.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"})}),(0,i.jsx)(m.E.Heading,{children:"Unable to load page."}),(0,i.jsxs)(m.E.Description,{children:[(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:"The page is unavailable due to a system error."}),(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:" Try reloading the page, or if the problem persists, contact support."}),(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:(0,i.jsx)("a",{href:"https://www.githubstatus.com",children:"GitHub status"})})]})]})})}try{p.displayName||(p.displayName="CommitErrorState")}catch{}function g(e){let t=(0,d.B)(),[a]=(0,c.useState)(t?.repo),[n]=(0,c.useState)(t?.currentUser);return(0,i.jsx)(o.t,{critical:!0,fallback:(0,i.jsx)(p,{}),children:(0,i.jsx)(r.Q,{user:n,children:(0,i.jsx)(s.d,{repository:a,children:e.children})})})}try{g.displayName||(g.displayName="App")}catch{}var f=a(70719),h=a(79472),y=a(18799),b=a(19976),k=a(53627),x=a(25407),v=a(30721),C=a(71315),j=a(83494),S=a(54571),I=a(70843),N=a(87555),F=a(34164),_=a(18312),L=a(72511),w=a(10095);function T(){return(0,i.jsxs)(L.A,{variant:"warning",className:"mb-4",children:[(0,i.jsx)(w.A,{icon:u.AlertIcon,className:"mr-2"}),(0,i.jsx)("span",{className:"overflow-hidden",children:"This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository."})]})}try{T.displayName||(T.displayName="SpoofedCommitWarningBanner")}catch{}var A=a(83878);function E({oid:e,repo:t}){return(0,A.N)(e,t.id)?(0,i.jsxs)(L.A,{className:"mb-4",children:[(0,i.jsx)("img",{src:"/images/modules/commit/flowers@2x.png",alt:"flower",width:"88px",height:"49px",className:"mr-4 mt-1 float-left"}),(0,i.jsx)("h2",{children:"Thanks for everything, Jim."}),(0,i.jsx)("p",{children:"We will miss you."})]}):null}try{E.displayName||(E.displayName="WeirichCommitBanner")}catch{}function K({oid:e,repo:t,commitBranchState:a}){return(0,i.jsxs)(i.Fragment,{children:[a.loading||0!==a.branches.length?null:(0,i.jsx)(T,{}),(0,i.jsx)(E,{oid:e,repo:t})]})}try{K.displayName||(K.displayName="CommitBanners")}catch{}var P=a(1117),D=a(46251),R=a(91747),M=a(73017),V=a(44185),O=a(81945),B=a(16051),$=a(21373),U=a(84268),H=a(26108),z=a(26607),q=a(55255),G=a(98783),W=a(3536),Q=a(68534),X=a(42257),Y=a(48926),J=a(43147),Z=a(76214),ee=a(72579);function et({data:e,repo:t,className:a}){return e.loading||0!==e.branches.length?(0,i.jsxs)("div",{className:(0,F.$)(a,"d-flex flex-items-center flex-wrap fgColor-muted gap-1"),children:[(0,i.jsx)(w.A,{className:"mr-1",icon:u.GitBranchIcon}),e.loading?(0,i.jsx)(O.O,{width:"60px",variant:"rounded",height:"22px"}):e.branches.map((a,n)=>(0,i.jsxs)("div",{children:[(0,i.jsx)(ea,{branch:a,repo:t}),n!==e.branches.length-1?(0,i.jsx)("span",{className:"ml-1 user-select-none",children:"+"}):null]},a.branch))]}):null}function ea({branch:e,repo:t}){let a=e.branch;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ee.A,{className:"mx-1",href:(0,x.bSP)({repo:t,head:a}),children:e.branch}),e.prs.length>0?(0,i.jsxs)(i.Fragment,{children:["(",e.prs.map((t,a)=>(0,i.jsxs)(c.Fragment,{children:[(0,i.jsx)(en,{pullRequest:t}),a!==e.prs.length-1?(0,i.jsx)(i.Fragment,{children:",\xa0"}):null]},`pr-${t.repo.ownerLogin}-${t.repo.name}-${t.number}`)),")"]}):null]})}function en({pullRequest:e}){let{repo:t,number:a,showPrefix:n}=e,l=n?`${t.ownerLogin}/${t.name}`:"";return(0,i.jsxs)(U.A,{href:(0,x.oDn)({repo:t,number:a}),className:"fgColor-muted","data-hovercard-url":(0,x.i9S)({owner:t.ownerLogin,repo:t.name,pullRequestNumber:a}),children:[l,"#",a]})}try{et.displayName||(et.displayName="CommitBranchInfo")}catch{}try{ea.displayName||(ea.displayName="BranchFragment")}catch{}try{en.displayName||(en.displayName="PullRequestLink")}catch{}var el=a(66108);function ei({commit:e,repo:t}){return(0,i.jsxs)(i.Fragment,{children:[`${e.parents.length} parent${e.parents.length>1||0===e.parents.length?"s":""} `,e.parents.map((e,a)=>(0,i.jsxs)(c.Fragment,{children:[0!==a?" + ":"",(0,i.jsx)(U.A,{to:(0,x.$Qz)({owner:t.ownerLogin,repo:t.name,commitish:e})+new URL(C.fV.origin+C.fV.pathname+C.fV.search,C.fV.origin).search,as:el.N,className:"color-fg-default Link--inTextBlock","data-hotkey":function(e){switch(e){case 0:return"p";case 1:return"o";default:return}}(a),"data-hovercard-url":(0,x.fQd)({owner:t.ownerLogin,repo:t.name,commitish:e}),children:(0,Q.F)(e)})]},e))]})}try{ei.displayName||(ei.displayName="CommitParents")}catch{}var es=a(5524),er=a(15220);function eo({data:e,repo:t,className:a}){if(0===e.tags.length)return null;let n=e.tags.length>2&&e.tags.length<25,l=e.tags.length>=25;return(0,i.jsxs)("div",{className:(0,F.$)(a,"d-flex flex-items-center flex-wrap gap-1"),children:[(0,i.jsx)(w.A,{className:"mr-2 fgColor-muted",icon:u.TagIcon}),(0,i.jsx)(U.A,{href:(0,x.cpj)({owner:t.ownerLogin,repo:t.name,tag:e.tags[0]}),className:"fgColor-default",children:e.tags[0]}),n?(0,i.jsx)(ed,{tags:e.tags,repo:t}):null,l?(0,i.jsx)(ec,{tags:e.tags,repo:t}):null,e.tags.length>1?(0,i.jsx)(U.A,{href:(0,x.cpj)({owner:t.ownerLogin,repo:t.name,tag:e.tags[e.tags.length-1]}),className:"fgColor-muted",children:e.tags[e.tags.length-1]}):null]})}function ed({tags:e,repo:t}){let[a,n]=(0,c.useState)(!1),l=(0,c.useRef)(null),s=(0,c.useCallback)(()=>{n(!0),requestAnimationFrame(()=>l.current?.focus())},[]);return a?(0,i.jsx)(i.Fragment,{children:e.slice(1,e.length-1).map((e,a)=>(0,i.jsx)(U.A,{ref:0===a?l:null,href:(0,x.cpj)({owner:t.ownerLogin,repo:t.name,tag:e}),className:"fgColor-muted mx-1",children:e},e))}):(0,i.jsx)(H.K,{"aria-label":"Show more tags",tooltipDirection:"s",icon:u.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:s})}function ec({tags:e,repo:t}){let[a,n]=(0,c.useState)(!1),l=(0,c.useRef)(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.K,{"aria-label":"Show all tags",tooltipDirection:"s",icon:u.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:()=>n(!0),ref:l}),a&&(0,i.jsx)(er.l,{title:`${e.length} tags`,onClose:()=>n(!1),returnFocusRef:l,width:"medium",height:e.length>=12?"small":"auto",renderBody:()=>(0,i.jsx)(es.l,{className:"overflow-y-auto py-2","data-testid":"tag-dialog-list",children:e.map(e=>(0,i.jsx)(es.l.LinkItem,{href:(0,x.cpj)({owner:t.ownerLogin,repo:t.name,tag:e}),children:e},e))})})]})}try{eo.displayName||(eo.displayName="CommitTagInfo")}catch{}try{ed.displayName||(ed.displayName="ExpandedTags")}catch{}try{ec.displayName||(ec.displayName="CommitTagsDialog")}catch{}let eu=(0,c.memo)(em);function em({commit:e,commitInfo:t,repo:a}){let n=(0,c.useRef)(null),l=(0,W.I)(`${(0,x.$Qz)({owner:a.ownerLogin,repo:a.name,commitish:e.oid})}/deferred_commit_data`);return(0,i.jsxs)(B.z,{children:[(0,i.jsx)(B.z.TitleArea,{variant:"large",className:"CommitHeader-module__PageHeader_TitleArea--aAkxF",children:(0,i.jsxs)(B.z.Title,{as:"h1",className:(0,F.$)("f2","CommitHeader-module__PageHeader_Title--W3dtK"),children:["Commit ",(0,i.jsx)("span",{className:"text-mono bgColor-muted rounded p-1",children:(0,Q.F)(e.oid)})]})}),(0,i.jsx)(B.z.Actions,{className:(0,F.$)("CommitHeader-module__commit-header-actions--Fj6HO"),children:(0,i.jsxs)("div",{className:"d-flex gap-2 flex-items-center flex-md-justify-end",children:[(0,i.jsx)(eg,{}),(0,i.jsx)(q.A,{text:"Browse the repository at this point in the history",direction:"sw",className:(0,F.$)("d-none d-md-flex","CommitHeader-module__browseFilesTooltip--q3qJZ"),children:(0,i.jsx)($.Q,{as:U.A,href:(0,x.IO9)({repo:a,action:"tree",commitish:e.oid}),leadingVisual:u.FileCodeIcon,className:"CommitHeader-module__browseFilesButton--hQymw",children:"Browse files"})}),(0,i.jsx)(H.K,{as:U.A,href:(0,x.IO9)({repo:a,action:"tree",commitish:e.oid}),icon:u.FileCodeIcon,"aria-label":"Browse files",className:"d-flex d-md-none"})]})}),(0,i.jsx)(B.z.Description,{children:(0,i.jsxs)("div",{className:"d-flex flex-column gap-2 width-full",children:[(0,i.jsx)(Y.j,{commit:e,repo:a,settings:{fontColor:"fg.default",avatarSize:20,fontWeight:"bold"},textVariant:"muted",children:(0,i.jsx)(ep,{deferredData:l,oid:e.oid,repo:a})}),(0,i.jsxs)(Z.Z,{className:"pt-0",children:[(e.shortMessageMarkdown||e.bodyMessageHtml)&&(0,i.jsxs)("div",{className:(0,F.$)("CommitHeader-module__commit-message-container--y5fD_"),children:[e.shortMessageMarkdown&&(0,i.jsx)(M.JR,{ref:n,html:e.shortMessageMarkdown,className:"ws-pre-wrap f5 wb-break-word text-mono"}),e.bodyMessageHtml&&(0,i.jsx)(M.JR,{html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container f6 wb-break-word text-mono mt-2"})]}),(0,i.jsxs)("div",{className:"p-2 d-flex gap-2 flex-column flex-md-row flex-justify-between",children:[(0,i.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[(0,i.jsx)(et,{data:t,repo:a}),t.tags.length>0&&(0,i.jsx)("span",{className:"px-2",children:"\xb7"}),(0,i.jsx)(eo,{data:t,repo:a})]}),(0,i.jsxs)("pre",{className:"color-fg-muted d-flex flex-items-center",children:[(0,i.jsx)(ei,{commit:e,repo:a})," commit ",(0,i.jsx)("span",{className:"fgColor-default",children:(0,Q.F)(e.oid)}),(0,i.jsx)(J.w,{sha:e.oid,direction:"sw"})]})]}),(0,R.u)("show_pusher_on_commit_detail")&&e.pusher&&(0,i.jsx)("div",{className:(0,F.$)("CommitHeader-module__pusher-container--AoXTp CommitHeader-module__commit-message-container--y5fD_"),children:(0,i.jsx)(Y.C,{commit:e,repo:a,textVariant:"muted"})})]})]})})]})}function ep({deferredData:e,oid:t,repo:a}){let{helpUrl:n}=(0,G.D)(),l=void 0===e,s="";try{s=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,i.jsxs)(i.Fragment,{children:[l&&(0,i.jsx)(O.O,{className:"ml-2",variant:"rounded",width:"62px"}),e?.statusCheckStatus&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"d-flex ml-2 mr-1",children:"\xb7"}),(0,i.jsx)(X.d,{oid:t,status:e?.statusCheckStatus?.state,descriptionString:s,repo:a}),e?.signatureInformation&&e?.verifiedStatus!=="unsigned"&&(0,i.jsx)("span",{className:"d-flex ml-2",children:"\xb7"})]}),e?.signatureInformation&&(0,i.jsx)("div",{className:"ml-2",children:(0,i.jsx)(V.h,{commitOid:t,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:{helpUrl:n,...e.signatureInformation}})})]})}function eg(){return(0,R.u)("diff_ux_refresh_beta")?(0,i.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,i.jsx)(z.A,{variant:"success",children:"Preview"}),(0,i.jsx)(U.A,{href:"https://gh.io/new-commit-details-feedback",target:"_blank",rel:"noopener noreferrer",className:"no-wrap f5 text-normal d-none d-sm-block",children:"Give feedback"})]}):null}try{eu.displayName||(eu.displayName="CommitHeader")}catch{}try{em.displayName||(em.displayName="CommitHeaderUnmemoized")}catch{}try{ep.displayName||(ep.displayName="DeferredCommitHeaderData")}catch{}try{eg.displayName||(eg.displayName="Feedback")}catch{}function ef({unavailableReason:e,commit:t,commitInfo:a}){let n=(0,s.t)(),l=eh[e];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D.B,{"data-hpc":!0,padding:{narrow:"normal",regular:"spacious"},children:(0,i.jsx)(eu,{commit:t,commitInfo:a,repo:n})}),(0,i.jsxs)(m.E,{children:[(0,i.jsx)(m.E.Visual,{children:l.visual}),(0,i.jsx)(m.E.Heading,{children:l.heading}),(0,i.jsx)(m.E.Description,{children:l.description}),l.secondaryAction]})]})}let eh={corrupt:{visual:(0,i.jsx)(u.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,i.jsx)(m.E.SecondaryAction,{href:(0,x.y2B)(),children:"Please contact support for more information"})},"missing commits":{visual:(0,i.jsx)(u.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,i.jsx)(m.E.SecondaryAction,{href:(0,x.y2B)(),children:"Please contact support for more information"})},timeout:{visual:(0,i.jsx)(u.HourglassIcon,{}),heading:"Sorry, this diff is taking too long to generate.",description:"It may be too large to display on GitHub."},"too busy":{visual:(0,i.jsx)(u.HourglassIcon,{}),heading:"Sorry, this diff is temporarily unavailable due to heavy server load.",description:"Please try again later."}};try{ef.displayName||(ef.displayName="CommitUnavailable")}catch{}var ey=a(35311),eb=a(73189),ek=a(79634),ex=a(88431),ev=a(51220),eC=a(38943),ej=a(96379);let eS={extraDiffEntries:[],loading:!0,error:!1};var eI=a(99511);let eN=(0,c.memo)(function({currentPathDigestIndex:e,searchTerm:t,searchResults:a,setSearchTerm:n,focusedSearchResult:l,currentIndex:s,setCurrentIndex:r,setFocusedSearchResult:o,scrollDiffCellIntoView:d}){let m=(0,c.useRef)([]),p=(0,c.useRef)(0),g=(0,i.jsxs)("div",{className:"d-flex flex-row flex-justify-center flex-items-center",children:[t&&(0,i.jsxs)("span",{className:"text-small fgColor-subtle mx-2 text-center",children:[0===a.size||void 0===l?0:s+1,"/",p.current]}),!t&&(0,i.jsx)("span",{className:"text-small fgColor-subtle mx-2 text-center pr-4",children:"\xa0"}),t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.K,{size:"small",variant:"invisible",onClick:()=>{f(-1)},icon:u.ChevronUpIcon,"aria-label":"Up","data-testid":"up-search"}),(0,i.jsx)(H.K,{size:"small",variant:"invisible",onClick:()=>{f(1)},icon:u.ChevronDownIcon,"aria-label":"Down","data-testid":"down-search"})]})]}),f=t=>{if(void 0===l||""===l.pathDigest){e.current=0,o({pathDigest:m.current[0]??"",indexWithinDigest:0});return}1===t?(r(s===p.current-1?0:s+1),l.indexWithinDigest===a.get(l.pathDigest).length-1?(e.current=e.current+1,e.current===m.current.length&&(e.current=0),l.pathDigest=m.current[e.current]??"",l.indexWithinDigest=0):l.indexWithinDigest=l.indexWithinDigest+1):(r(0===s?p.current-1:s-1),0===l.indexWithinDigest?(e.current=e.current-1,-1===e.current&&(e.current=m.current.length-1),l.pathDigest=m.current[e.current]??"",l.indexWithinDigest=a.get(l.pathDigest).length-1):l.indexWithinDigest=l.indexWithinDigest-1),o(l)};return(0,c.useEffect)(()=>{m.current=Array.from(a.keys()),e.current=0,o({pathDigest:m.current[0]??"",indexWithinDigest:0});let t=0;for(let e of a.values())t+=e.length;p.current=t},[e,a,a.size,o]),(0,c.useEffect)(()=>{a.size>0&&void 0!==l&&d(l)},[a,l,s]),(0,i.jsxs)("div",{className:"DiffFind-module__defaultStyles--HqMRo",children:[(0,i.jsx)(j.ak,{commands:{"pull-requests-diff-view:jump-to-next-result-alternate":()=>f(1),"pull-requests-diff-view:jump-to-previous-result-alternate":()=>f(-1)}}),(0,i.jsx)(j.tL,{commands:{"pull-requests-diff-view:jump-to-next-result":()=>f(1),"pull-requests-diff-view:jump-to-previous-result":()=>f(-1)},children:(0,i.jsx)(eI.A,{className:"border-0 box-shadow-none",style:{width:"100%"},validationStatus:p.current>1e3?"error":void 0,type:"text",leadingVisual:()=>(0,i.jsx)(w.A,{icon:u.SearchIcon,"aria-hidden":"true"}),autoComplete:"off",name:"Find in commit input","aria-label":"Search within code",placeholder:"Search within code",value:t,onChange:t=>{t.target.value?(n(t.target.value),r(0)):(n(""),o(void 0),e.current=0)},block:!0,trailingAction:g})})]})});try{eN.displayName||(eN.displayName="DiffFind")}catch{}function eF(e,t){return`${"left"===t?"L":"R"}${e}`}function e_(e){let t=e.match(/^#?(diff-[a-f0-9]+)/);return t?.[1]}function eL(e){let t=eF(e.startLineNumber,e.startOrientation),a=`${e.diffAnchor}${t}`;if(e.endLineNumber!==e.startLineNumber||e.endOrientation!==e.startOrientation){let t=eF(e.endLineNumber,e.endOrientation);a+=`-${t}`}return a}function ew(e){let t=`#${e}`;if(t===window.location.hash)return;let a=window.location.href;(0,k.Zu)(t),window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:window.location.href,oldURL:a}))}var eT=a(7808),eA=a(4788);function eE({data:e}){let{query:t,diffEntryInfo:a,currentDiffEntryData:n}=e,l=new Map;return{matchingDiffs:n?function(e,t,a){if(0===a.size)return new Map;let n=a.size>=200,l={},i=e.reduce((a,n,i)=>{if(l[i])return a;l[i]=!0;let s=eP(t,[e[i]]),r=s.next();for(;!r.done&&a.size<200;){let{resultsWithinDiff:t}=r.value;a.set(e[i]?.pathDigest??"",t),r=s.next()}return a},new Map);if(i.size<200&&n){let a=eP(t,e,i.size),n=a.next();for(;!n.done&&i.size<200;){let{resultsWithinDiff:t,diff:l}=n.value;i.set(e[l]?.pathDigest??"",t),n=a.next()}}return i}(a,eK(t),n):function(e,t){let a=new Map,n=eP(t,e),l=n.next();for(;!l.done&&a.size<200;){let{resultsWithinDiff:t,diff:i}=l.value;a.set(e[i]?.pathDigest??"",t),l=n.next()}return a}(a,eK(t)),query:t}}function eK(e){return{kind:"Text",regexp:RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")}}function*eP(e,t,a=0){for(let n=a;n<t.length;n++){let a=t[n],l=[],i=0;for(let s=0;s<a.diffLines.length;s++){let r,o;r=t[n]?.diffLines[s]?.type==="HUNK"?a.diffLines[s]?.text:a.diffLines[s]?.text?.substring(1);let d=a.diffLines[s];for(;r&&null!==(o=e.regexp.exec(r));){let e=o[0],t=o.index;l.push({pathDigest:a.pathDigest,indexWithinPathDigest:i,matchContent:e,column:t,diffLineNumIndex:s,isHunk:d?.type==="HUNK",hunkLineNumber:d?.blobLineNumber??-1,leftLineNumber:d?.type!=="ADDITION"?d?.left??-1:-1,rightLineNumber:d?.type!=="DELETION"?d?.right??-1:-1,columnEnd:t+e.length,text:r}),i++}}0!==l.length&&(yield{diff:n,resultsWithinDiff:l})}}var eD=a(84078);function eR(){let[e,t]=(0,c.useState)(!1);return(0,i.jsx)("div",{className:e?"":"pt-4",children:!e&&(0,i.jsx)(eD.l,{title:"Some content is hidden",description:(0,i.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"Large Commits have some content hidden by default. Use the searchbox below for content that may be hidden."}),variant:"warning",onDismiss:()=>t(!0)})})}try{eR.displayName||(eR.displayName="VirtualizedBanner")}catch{}var eM=a(50683),eV=a(59523),eO=a(28014),eB=a(30617),e$=a(49245);async function eU(e,t,a){let n=await (0,ej.Sr)(`${t}?pathDigest=${a}${function(e){let t="";for(let a=0;a<e.length;a++)t+=`&lineRanges[]=${JSON.stringify(e[a])}`;return t}(e)}`);if(n.ok)return await n.json()??void 0}async function eH({repo:e,sha1:t,sha2:a,entry:n}){let l=await (0,ej.Sr)((0,x.uxJ)({owner:e.ownerLogin,repo:e.name,entry:n,sha1:t,sha2:a}));if(l.ok)return(await l.json()).diffLines;throw Error("error fetching diff lines.")}var ez=a(13083),eq=a(60745),eG=a(21537),eW=a(11683);let eQ={ArrowLeft:eW.z0.ArrowHorizontal,ArrowDown:eW.z0.ArrowVertical,ArrowUp:eW.z0.ArrowVertical,ArrowRight:eW.z0.ArrowHorizontal,h:eW.z0.HL,j:eW.z0.JK,k:eW.z0.JK,l:eW.z0.HL,a:eW.z0.AD,s:eW.z0.WS,w:eW.z0.WS,d:eW.z0.AD,Tab:eW.z0.Tab,Home:eW.z0.HomeAndEnd,End:eW.z0.HomeAndEnd,PageUp:eW.z0.PageUpDown,PageDown:eW.z0.PageUpDown,Backspace:eW.z0.Backspace},eX=eW.z0.ArrowAll|eW.z0.PageUpDown|eW.z0.HomeAndEnd|eW.z0.AD,eY={displayName:"Ghost",login:"ghost",avatarUrl:"https://avatars.githubusercontent.com/ghost",path:"/ghost",url:"/ghost"},eJ=(0,c.createContext)(null);function eZ({children:e,...t}){let a=!!t.commentingImplementation,n=!!t.markerNavigationImplementation;if(t.commentingEnabled!==a&&t.commentingEnabled!==n)throw Error("commentingEnabled, commentingImplementation, and markerNavigationImplementation must be passed together");let l=t?.ghostUser??eY,s=(0,c.useMemo)(()=>({ghostUser:l,...t}),[...Object.values(t),l]);return(0,i.jsx)(eJ.Provider,{value:s,children:e})}function e0(){let e=(0,c.useContext)(eJ);if(!e)throw Error("useDiffContext must be used within a DiffContextProvider");return e}try{eJ.displayName||(eJ.displayName="DiffContext")}catch{}try{eZ.displayName||(eZ.displayName="DiffContextProvider")}catch{}var e1=a(4559),e2=a(46996),e4=a(18651);let e3="FAILURE",e8="NOTICE",e7="WARNING",e5="empty-diff-line";function e9(e,t,a){return"left"===a?!tt(e)&&e.left===t:!tt(e)&&(0,ez.XU)(e.type)===a&&e.right===t}function e6(e,t,a){let n=`-${tt(t)||"number"!=typeof t.left?"empty":t.left}`,l=a?`-${tt(a)||"number"!=typeof a.right?"empty":a.right}`:"";return`${e}${n}${l}`}function te(e,t){return`${e}-${t}`}function tt(e){return!!e&&e===e5}function ta(e){return"CONTEXT"===e.type}function tn(e,t,a=!1){return a?function(e,t){let a;switch(t){case"ADDITION":a=["+"];break;case"DELETION":a=["-"];break;case"CONTEXT":a=[" "];break;case"INJECTED_CONTEXT":a=[" ","~"]}if(void 0===a||0===a.length||a.every(t=>!e.startsWith(t)))return[e,void 0];let n=e[0];return[e.substring(1),n]}(e,t):function(e,t){let a;switch(t){case"ADDITION":a="+";break;case"DELETION":a="-";break;case"CONTEXT":case"INJECTED_CONTEXT":a=" "}if(!a||!e.startsWith(a))return[e,void 0];let n=e[0];return[e.substring(1),n]}(e,t)}function tl(e){return new DOMParser().parseFromString(e,"text/html").documentElement.textContent||""}function ti(e){return["HUNK","CONTEXT","INJECTED_CONTEXT","DELETION"].includes(e.type)}function ts({line:e,range:t,fileAnchor:a}){let n,{origin:l,pathname:i}=window.location;if(e){let l=ti(e)?e.left:e.right;n=t&&l&&t.startLineNumber<=l&&t.endLineNumber>=l?eL(t):function(e,t){let a=ti(e),n=a?e.left:e.right,l=a?"left":"right";if(null!==n)return eL({diffAnchor:t,endLineNumber:n,endOrientation:l,startLineNumber:n,startOrientation:l,firstSelectedLineNumber:n,firstSelectedOrientation:l})}(e,a)}else t&&(n=eL(t));if(n)return`${l}${i}#${n}`}function tr({includeControlKey:e=!0,includeShiftKey:t,includeOptionKey:a,key:n}){let l=e?`${(0,e4.U0)()?"\u2318":"Ctrl + "}`:"";return a&&(l+=`${(0,e4.U0)()?"\u2325":"Alt + "}`),t&&(l+=`${(0,e4.U0)()?"\u21E7":"Shift + "}`),l+=n}function to({includeControlKey:e=!0,includeShiftKey:t,includeOptionKey:a,key:n}){let l="";return e&&(l+=(0,e4.U0)()?"Command+":"Control+"),a&&(l+=(0,e4.U0)()?"Option+":"Alt+"),t&&(l+="Shift+"),l+=n}let td=["ADDITION","DELETION","CONTEXT"],tc=e=>e?e.filter(e=>!tt(e)).map(e=>{let[t]=tn(tl(e.html),e.type);return t}).join(`
`):"";function tu(e,t=!1,a=!1){let n;switch(e){case"ADDITION":n=t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";break;case"DELETION":n=t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";break;case"HUNK":n=t?"var(--diffBlob-hunkNum-bgColor-rest, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";break;case"EMPTY":n=t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";break;default:n="var(--bgColor-default)"}return a?`color-mix(in oklab, var(--bgColor-accent-emphasis) 8%, ${n})`:n}function tm({selectedDiffRowRange:e,leftLines:t,rightLines:a,isNumberCell:n}){let l=!!a,{startOrientation:i,endOrientation:s}=e;if(e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation&&!n)return{isRowSelected:()=>!1,selectedRightLines:[],selectedLeftLines:[]};let r=u(i).findIndex(t=>e9(t,e.startLineNumber,e.startOrientation)),o=u(s).findIndex(t=>e9(t,e.endLineNumber,e.endOrientation)),d=r>=0&&o>=0;function c(e){if(!d||tt(e))return!1;let t=u((0,ez.XU)(e.type)).indexOf(e);return t>=r&&t<=o}function u(e){var n;return l&&"left"!==("string"==typeof(n=e)?n:(0,ez.XU)(n.type))?a:t}let m=u("left").filter(e=>c(e)),p=u("right").filter(e=>c(e));return{isRowSelected:c,selectedRightLines:p,selectedLeftLines:m}}let tp=e=>{let t=(0,c.useRef)(e);return(0,ex.N)(()=>(t.current=e,()=>t.current=null),[e]),(0,c.useCallback)((...e)=>t.current?.(...e),[])},tg=(0,c.createContext)(null);function tf(){let e=(0,c.useContext)(tg);if(!e)throw Error("useSelectedDiffRowRange must be used within a SelectedDiffRowRangeContext");return e}function th(e){e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation?(0,e1.i)(`${"left"===e.startOrientation?"L":"R"}${e.startLineNumber} selected.`):(0,e1.i)(`${"left"===e.startOrientation?"L":"R"}${e.startLineNumber} to ${"left"===e.endOrientation?"L":"R"}${e.endLineNumber} selected.`)}function ty({children:e}){let t=(0,c.useRef)(new Map),a=tp((e,a)=>{if(!e)return;let n=e.diffAnchor,l=t.current.get(n);if(!l)return;let{leftLines:i,rightLines:s}=function(e){let t=[],a=[],n=()=>{for(;t.length<a.length;)t.push(e5);for(;a.length<t.length;)a.push(e5)};for(let l of e)switch(l.type){case"ADDITION":a.push(l);break;case"DELETION":t.push(l);break;case"CONTEXT":case"INJECTED_CONTEXT":case"HUNK":n(),t.push(l),a.push(l)}return n(),{leftLines:t,rightLines:a}}(l);return tm({selectedDiffRowRange:e,leftLines:i,rightLines:s,isNumberCell:a})}),[n,l]=(0,c.useState)(()=>(function(e){let t=function(e){let t=e.match(/^#?(diff-[a-f0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);if(null!=t&&6===t.length)return t;let a=e.match(/^#?(discussion-diff-[0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);return null!=a&&6===a.length?a:null}(e);if(t){let e=t[1],a=t[2]?"L"===t[2]?"left":"right":void 0,n=t[3]?parseInt(t[3]):void 0;if(!e||!a||void 0===n)return;return{diffAnchor:e,startOrientation:a,startLineNumber:n,endOrientation:(t[4]?"L"===t[4]?"left":"right":void 0)??a,endLineNumber:(t[5]?parseInt(t[5]):void 0)??n,firstSelectedLineNumber:n,firstSelectedOrientation:a}}})(C.fV.hash)),[s,r]=(0,c.useState)(()=>{if(n){let e=a(n);if(e)return{leftLines:e.selectedLeftLines,rightLines:e.selectedRightLines||[]}}return{leftLines:[],rightLines:[]}}),o=tp((e,t)=>{let n=a(e,t),l=n?{leftLines:n.selectedLeftLines,rightLines:n.selectedRightLines||[]}:{leftLines:[],rightLines:[]};(0,e2.A)(s,l)||r(l)}),d=tp((e,t,a,i,s)=>{if(!t||!a)return;let r=i&&n&&n.diffAnchor===e?t<=n.firstSelectedLineNumber?{...n,startLineNumber:t,startOrientation:a,endLineNumber:n.firstSelectedLineNumber,endOrientation:n.firstSelectedOrientation}:{...n,startLineNumber:n.firstSelectedLineNumber,startOrientation:n.firstSelectedOrientation,endLineNumber:t,endOrientation:a}:{diffAnchor:e,endLineNumber:t,endOrientation:a,startLineNumber:t,startOrientation:a,firstSelectedLineNumber:t,firstSelectedOrientation:a};th(r),(s||i)&&l(r),o(r,s),ew(eL(r))}),u=tp(e=>{th(e),l(e),o(e),ew(eL(e))}),m=tp(({diffAnchor:e,startGridCell:t,endGridCell:a,focusedGridCell:n})=>{u({diffAnchor:e,endLineNumber:a.lineNumber,endOrientation:a.orientation,firstSelectedLineNumber:n.lineNumber,firstSelectedOrientation:n.orientation,startLineNumber:t.lineNumber,startOrientation:t.orientation})}),p=tp(()=>{n&&(l(void 0),o(void 0),(0,e1.i)("Selection Cleared"),(0,k.K3)())}),g=tp((e,a)=>{t.current.set(e,a),n?.diffAnchor===e&&o(n)}),f=tp(e=>t.current.get(e)),h=(0,c.useMemo)(()=>({selectedDiffRowRange:n,updateSelectedDiffRowRange:d,clearSelectedDiffRowRange:p,replaceSelectedDiffRowRange:u,replaceSelectedDiffRowRangeFromGridCells:m,updateDiffLines:g,selectedDiffLines:s,getDiffLinesFromLineRange:a,getDiffLinesByDiffAnchor:f}),[n,d,p,u,m,s,g,a,f]);return(0,i.jsx)(tg.Provider,{value:h,children:e})}try{tg.displayName||(tg.displayName="SelectedDiffRowRangeContext")}catch{}try{ty.displayName||(ty.displayName="SelectedDiffRowRangeContextProvider")}catch{}let tb="final-hunk-header-line";function tk(e,t){return e.startBlobLineNumber-t.startBlobLineNumber}function tx(e,t){if("HUNK"===e.type&&e.__id===tb)return{currentHunk:t[t.length-1],previousHunk:t[t.length-2]};let a=t.sort(tk).findIndex(t=>t.startBlobLineNumber<=e.blobLineNumber&&t.endBlobLineNumber>=e.blobLineNumber);return{currentHunk:t[a],nextHunk:t[a+1],previousHunk:t[a-1]}}function tv(e){let t,a=[],n=0;for(let l=1;l<e.length;l++){let i=e[l];if(i&&!tt(i)&&(t=i,"HUNK"===i.type)){let t,s=e[n];if(!s||tt(s))continue;let r=l-1;for(;(!t||tt(t))&&(t=e[r],-1!=--r););t&&!tt(t)&&a.push({startBlobLineNumber:s.blobLineNumber,endBlobLineNumber:t.blobLineNumber}),i.__id===tb&&a.push({startBlobLineNumber:i.blobLineNumber,endBlobLineNumber:i.blobLineNumber+20}),n=l;continue}}if(t&&"HUNK"!==t.type){let l=e[n];l&&!tt(l)&&a.push({startBlobLineNumber:l.blobLineNumber,endBlobLineNumber:t.blobLineNumber})}return a}var tC=a(69726);function tj({children:e,helpText:t,helpUrl:a,onLoadDiff:n,diffAnchor:l}){let s=a&&t,[r,o]=(0,c.useState)("initial"),d=(0,c.useCallback)(async()=>{try{o("loading"),await n()}catch{o("error")}},[n,o]);return(0,i.jsx)("div",{className:"px-3 py-4 fgColor-muted","data-diff-anchor":l,children:(0,i.jsxs)("div",{className:(0,F.$)("HiddenDiffPatch-module__gridColumnTemplate--UvUAt"),children:[(0,i.jsx)("svg",{"aria-hidden":!0,height:"84",style:{maxWidth:"340px"},viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipPath:"url(#diff-placeholder)",d:"M0 0h340v84H0z",fillRule:"evenodd",style:{fill:"var(--bgColor-muted, var(--color-canvas-subtle))"}})})," ",(0,i.jsxs)("div",{className:"d-flex flex-justify-center flex-column flex-column text-center flex-items-center",children:["loading"===r&&(0,i.jsx)(tC.A,{size:"medium"}),"error"===r&&(0,i.jsx)(u.AlertIcon,{size:24}),"initial"===r&&(0,i.jsx)($.Q,{className:"h4 mx-auto fgColor-accent",variant:"invisible",onClick:()=>{d(),o("loading")},children:"Load Diff"}),"error"===r?(0,i.jsxs)("span",{className:"fgColor-muted mt-1",children:["The contents of the file couldn't be loaded."," ",(0,i.jsx)(U.A,{inline:!0,as:"button",onClick:()=>{d(),o("loading")},children:"Retry"})]}):(0,i.jsxs)("span",{className:"fgColor-muted mt-1",children:[e,s&&(0,i.jsx)(U.A,{inline:!0,href:a,children:t})]})]})]})})}try{tj.displayName||(tj.displayName="HiddenDiffPatch")}catch{}var tS=a(12918);let tI=(0,c.createContext)(null);function tN({children:e,currentHunk:t,diffEntryId:a,diffLine:n,fileAnchor:l,fileLineCount:s,filePath:r,hasHiddenUnicodeCharacters:o,isLeftSide:d,isRowSelected:u=!1,isSplit:m,modifiedLineThreads:p,nextHunk:g,originalLineThreads:f,previousHunk:h,rowId:y,diffContext:b,setInGridMode:k}){let x=(0,c.useMemo)(()=>({currentHunk:t,diffEntryId:a,diffLine:n,fileAnchor:l,fileLineCount:s,filePath:r,hasHiddenUnicodeCharacters:o,isLeftSide:d,isRowSelected:u,isSplit:m,modifiedLineThreads:p,modifiedLineHasThreads:p&&p.length>0,nextHunk:g,originalLineThreads:f,originalLineHasThreads:f&&f.length>0,previousHunk:h,rowId:y,diffContext:b,setInGridMode:k}),[t,a,n,l,s,r,o,d,u,m,p,g,f,h,y,b,k]);return(0,i.jsx)(tI.Provider,{value:x,children:e})}function tF(){let e=(0,c.useContext)(tI);if(!e)throw Error("useDiffLineContext must be used within a DiffLineContextProvider");return e}try{tI.displayName||(tI.displayName="DiffLineContext")}catch{}try{tN.displayName||(tN.displayName="DiffLineContextProvider")}catch{}function t_(e,t){return e?.threads?.flatMap(e=>{let a=e?.id,n=e?.commentsData?.comments?.[0]?.author??t,l=e?.commentsData?.totalCount??0,i=e?.commentsData?.__id;return a&&n?[{id:a,author:n,commentCount:l,commentsConnectionId:i,diffSide:e.diffSide,isOutdated:e.isOutdated,line:e.line,startLine:e.startLine,startDiffSide:e.startDiffSide}]:[]})??[]}var tL=a(45800),tw=a(35750),tT=a(18150),tA=a(85242),tE=a(88243),tK=a(16213),tP=a(50467),tD=new WeakMap,tR=new WeakMap,tM=new WeakMap,tV=new WeakMap,tO=new WeakMap,tB=new WeakMap,t$=new WeakSet,tU=new WeakSet,tH=new WeakSet,tz=new WeakSet,tq=new WeakSet,tG=new WeakSet,tW=new WeakSet,tQ=new WeakSet,tX=new WeakSet,tY=new WeakSet;let GridNavigator=class GridNavigator{moveToNextItem(e,t){let a,n=(0,tw._)(this,tR).get(this.focusedGridCell?.cellId??"");if(!n)return;let[l]=n,[,i]=n;switch(("ArrowDown"===e||"ArrowUp"===e)&&(0,tE._)(this,tW,t3).call(this,l)&&(0,tw._)(this,tV)&&(i=(0,tw._)(this,tV),(0,tA._)(this,tV,void 0)),!0){case t&&"Home"===e:this.focusFirstGridCell();break;case t&&"End"===e:{let e=(0,tw._)(this,tD).length-1,t=(0,tw._)(this,tD)[e]?.length;t&&(a=(0,tw._)(this,tD)[e]?.[t-1]);break}case"ArrowUp"===e:(0,tE._)(this,tW,t3).call(this,l-1)?((0,tE._)(this,tY,t5).call(this,i),a=(0,tw._)(this,tD)[l-1]?.[0]):a=(0,tw._)(this,tD)[l-1]?.[i];break;case"ArrowDown"===e:(0,tE._)(this,tW,t3).call(this,l+1)?((0,tE._)(this,tY,t5).call(this,i),a=(0,tw._)(this,tD)[l+1]?.[0]):a=(0,tw._)(this,tD)[l+1]?.[i];break;case"ArrowLeft"===e:a=(0,tw._)(this,tD)[l]?.[i-1];break;case"ArrowRight"===e:a=(0,tw._)(this,tD)[l]?.[i+1];break;case"PageUp"===e:{(0,tE._)(this,tY,t5).call(this,i);let e=(0,tE._)(this,tH,t0).call(this,l);a=(0,tw._)(this,tD)[e]?.[0];break}case"PageDown"===e:{(0,tE._)(this,tY,t5).call(this,i);let e=(0,tE._)(this,tU,tZ).call(this,l),t=0;e||(e=(0,tw._)(this,tD).length-1,t=i),a=(0,tw._)(this,tD)[e]?.[t];break}case"Home"===e:a=(0,tw._)(this,tD)[l]?.[0];break;case"End"===e:{let e=(0,tw._)(this,tD)[l];if(e&&!(0,tE._)(this,tW,t3).call(this,l)){let t=e.length-1;a=(0,tw._)(this,tD)[l]?.[t]}}}return a&&(this.focusedGridCell=a),this.focusedGridCell}reinitializeGrid(e,t){(0,tE._)(this,tz,t1).call(this,e,t)}focusFirstGridCell(e){e&&(0,tw._)(this,tR).get(e)?this.focusGridCell(e):this.focusedGridCell=(0,tw._)(this,tD)[0]?.[0]}focusGridCell(e){if(this.focusedGridCell?.cellId===e)return;let t=(0,tw._)(this,tR).get(e);if(!t)return;let[a,n]=t;this.focusedGridCell=(0,tw._)(this,tD)[a]?.[n]}getNextSelectableCell(e){let t,a=this.getValidSelectableRowCell()||this.focusedGridCell,n=this.lastSelectedGridCell||a,l=(0,tw._)(this,tR).get(n?.cellId??"");if(!l)return;let[i,s]=l;if("ArrowUp"===e){let e=i-1;for(;!t&&e>=0;)t=(0,tE._)(this,t$,tJ).call(this,{rowIndex:e,columnIndex:s}),e--}if("ArrowDown"===e){let e=i+1;for(;!t&&e<(0,tw._)(this,tD).length;)t=(0,tE._)(this,t$,tJ).call(this,{rowIndex:e,columnIndex:s}),e++}return t&&(this.lastSelectedGridCell=t),t}getValidSelectableRowCell(){if(this.focusedGridCell?.isHunk)return;if(!this.focusedGridCell?.isEmpty)return this.focusedGridCell;let e=(0,tw._)(this,tR).get(this.focusedGridCell.cellId)?.[0];if(e)return this.focusedGridCell.columnIndex<=1&&!(0,tw._)(this,tB)?(0,tw._)(this,tD)[e]?.[this.focusedGridCell.columnIndex+1]:this.focusedGridCell.columnIndex<2&&(0,tw._)(this,tB)?(0,tw._)(this,tD)[e]?.[this.focusedGridCell.columnIndex+2]:(0,tw._)(this,tD)[e]?.[this.focusedGridCell.columnIndex-2]}clearLastSelectedCell(){this.lastSelectedGridCell=void 0}getFirstCodeCell(){let e=(0,tw._)(this,tD).find(e=>e[0]&&!e[0].isHunk);return e?.find(e=>!e.isEmpty)}getLastCodeCell(){let e=(0,tw._)(this,tD).slice().reverse().find(e=>e[0]&&!e[0].isHunk);return e?.slice().reverse().find(e=>!e.isEmpty)}hasLine(e,t,a){let n=te(e6((0,tw._)(this,tO),e,t),0),l=(0,tw._)(this,tR).get(n);if(!l)return!1;let[i]=l;return!!a===(0,tE._)(this,tW,t3).call(this,i)}constructor(e,t,a,n,l){(0,tK._)(this,t$),(0,tK._)(this,tU),(0,tK._)(this,tH),(0,tK._)(this,tz),(0,tK._)(this,tq),(0,tK._)(this,tG),(0,tK._)(this,tW),(0,tK._)(this,tQ),(0,tK._)(this,tX),(0,tK._)(this,tY),(0,tT._)(this,tD,{writable:!0,value:[]}),(0,tT._)(this,tR,{writable:!0,value:new Map}),(0,tT._)(this,tM,{writable:!0,value:new Set}),(0,tP._)(this,"focusedGridCell",void 0),(0,tP._)(this,"lastSelectedGridCell",void 0),(0,tT._)(this,tV,{writable:!0,value:void 0}),(0,tT._)(this,tO,{writable:!0,value:void 0}),(0,tT._)(this,tB,{writable:!0,value:void 0}),(0,tA._)(this,tO,e),(0,tA._)(this,tB,t),(0,tE._)(this,tz,t1).call(this,a,n),this.focusFirstGridCell(l)}};function tJ({rowIndex:e,columnIndex:t}){let a=(0,tw._)(this,tD)[e],n=a?.[t];switch(!0){case n?.isHunk:return;case n?.orientation==="left"&&n.isEmpty:return a?.[t+2];case n?.orientation==="right"&&n.isEmpty&&(0,tw._)(this,tB):return a?.[t-2];case n?.orientation==="right"&&n.isEmpty&&!(0,tw._)(this,tB):return a?.[t+1];default:return a?.[t]}}function tZ(e){return Array.from((0,tw._)(this,tM)).sort((e,t)=>e-t).find(t=>t>e)}function t0(e){return Array.from((0,tw._)(this,tM)).sort((e,t)=>e-t).reverse().find(t=>t<e)??0}function t1(e,t){(0,tA._)(this,tD,[]),(0,tA._)(this,tR,new Map),(0,tA._)(this,tM,new Set);for(let a=0;a<e.length;a++){let n=[],l=e[a];if(void 0!==l){if((0,tw._)(this,tB)){let e=(t||[])[a],i=e6((0,tw._)(this,tO),l,e);tt(l)||"HUNK"!==l.type?(0,tE._)(this,tQ,t8).call(this,{leftLine:l,rightLine:e,row:n,rowIdentifier:i,rowIndex:a}):(0,tE._)(this,tG,t4).call(this,n,i,a)}else{let e=e6((0,tw._)(this,tO),l,l);tt(l)||"HUNK"!==l.type?(0,tE._)(this,tX,t7).call(this,{diffLine:l,row:n,rowIdentifier:e,rowIndex:a}):(0,tE._)(this,tG,t4).call(this,n,e,a)}(0,tw._)(this,tD).push(n)}}}function t2({cellIndex:e,diffLine:t,orientation:a,row:n,rowIdentifier:l,rowIndex:i,isSplit:s}){let r,o,d=te(l,e);o=!(s||tt(t))&&t?.type==="DELETION"&&1===e||!(s||tt(t))&&t?.type==="ADDITION"&&0===e||tt(t),tt(t)||"left"!==a||(r=t?.left),tt(t)||"right"!==a||(r=t?.right),n.push({lineNumber:r,orientation:a,isEmpty:o,isHunk:!1,cellId:te(l,e),columnIndex:e}),(0,tw._)(this,tR).set(d,[i,e])}function t4(e,t,a){let n=te(t,0);e.push({isHunk:!0,isEmpty:!1,cellId:n,columnIndex:0}),(0,tw._)(this,tR).set(n,[a,0]),(0,tw._)(this,tM).add(a)}function t3(e){return(0,tw._)(this,tM).has(e)}function t8({leftLine:e,rightLine:t,row:a,rowIdentifier:n,rowIndex:l}){(0,tE._)(this,tq,t2).call(this,{cellIndex:0,diffLine:e,orientation:"left",row:a,rowIdentifier:n,rowIndex:l,isSplit:!0}),(0,tE._)(this,tq,t2).call(this,{cellIndex:1,diffLine:e,orientation:"left",row:a,rowIdentifier:n,rowIndex:l,isSplit:!0}),(0,tE._)(this,tq,t2).call(this,{cellIndex:2,diffLine:t,orientation:"right",row:a,rowIdentifier:n,rowIndex:l,isSplit:!0}),(0,tE._)(this,tq,t2).call(this,{cellIndex:3,diffLine:t,orientation:"right",row:a,rowIdentifier:n,rowIndex:l,isSplit:!0})}function t7({diffLine:e,row:t,rowIdentifier:a,rowIndex:n}){let l=tt(e)||"DELETION"!==e.type?"right":"left";(0,tE._)(this,tq,t2).call(this,{cellIndex:0,diffLine:e,orientation:"left",row:t,rowIdentifier:a,rowIndex:n,isSplit:!1}),(0,tE._)(this,tq,t2).call(this,{cellIndex:1,diffLine:e,orientation:"right",row:t,rowIdentifier:a,rowIndex:n,isSplit:!1}),(0,tE._)(this,tq,t2).call(this,{cellIndex:2,diffLine:e,orientation:l,row:t,rowIdentifier:a,rowIndex:n,isSplit:!1})}function t5(e){(0,tE._)(this,tW,t3).call(this,e)||(0,tA._)(this,tV,e)}function t9(e){e&&setTimeout(()=>{0!==e.tabIndex&&(e.tabIndex=0)})}function t6(e){return e in eQ&&(eQ[e]&eX)>0}function ae({clearSelectedDiffRowRange:e,containerRef:t,fileAnchor:a,isSplitDiff:n,leftLines:l,replaceSelectedDiffRowRangeFromGridCells:i,rightLines:s,disabled:r}){var o;let d,u=(0,c.useRef)(void 0),m=(0,c.useMemo)(()=>new GridNavigator(a,n,l,s,u.current?.focusedGridCell?.cellId),[a,n,l,s]);(0,c.useEffect)(()=>{u.current=m},[m]),(0,c.useEffect)(()=>{let e=t.current,a=()=>{m.clearLastSelectedCell()};return e?.addEventListener("mousedown",a),()=>e?.removeEventListener("mousedown",a)},[t,m]),o=u.current,(0,c.useEffect)(()=>{if(o&&document.activeElement){let e=function(e,t,a){let n=[];for(let l=0;l<t.length;l++){let i=t[l],s=a?.[l]??i,r=!tt(i)&&i?.type==="HUNK";i&&s&&!e.hasLine(i,s,r)&&n.push(i)}return n}(o,l,s);if(0!==e.length){if(document.activeElement===document.body){let t,n,i,s=l.indexOf(e[e.length-1]),r=l[s+1],o=e[0];r&&!tt(r)&&"HUNK"===r.type&&(t=te(e6(a,r,r),0),n=document.querySelector(`[data-grid-cell-id=${t}]`),i=n?.querySelector("button[data-direction=down], button[data-direction=all]")),i||(t=te(e6(a,o,o),0),n=document.querySelector(`[data-grid-cell-id=${t}]`),i=n?.querySelector("button[data-direction=up], button[data-direction=all]")),t&&n&&(i?i.focus():n.focus(),m.focusGridCell(t),t9(n))}else if("BUTTON"===document.activeElement.tagName)t9(document.activeElement.closest("td"));else if("TD"===document.activeElement.tagName){let e=document.activeElement.getAttribute("data-grid-cell-id"),a=m.focusedGridCell?.cellId;if(e!==a){let e=t.current?.querySelector(`[data-grid-cell-id=${a}]`);e?.focus()}}}}},[a,l,m,s,o,t]),d=(0,c.useCallback)(e=>{let t=e.target.getAttribute("data-grid-cell-id");t&&m.focusGridCell(t)},[m]),(0,c.useEffect)(()=>{let e=t.current;return e?.addEventListener("focusin",d),()=>e?.removeEventListener("focusin",d)},[t,d]);let p=(0,c.useCallback)((t,n,l)=>{let s=m.getValidSelectableRowCell();switch(!0){case(l.metaKey||l.ctrlKey)&&"KeyA"===l.code:{let e=m.getFirstCodeCell(),t=m.getLastCodeCell();if(!e||!t)return n;return i({diffAnchor:a,focusedGridCell:e,startGridCell:e,endGridCell:t}),n}case l.shiftKey&&"ArrowDown"===l.key:{let e=m.getNextSelectableCell("ArrowDown");if(!e||!s)return n;return i({diffAnchor:a,focusedGridCell:s,startGridCell:s,endGridCell:e}),at(e.cellId),n}case l.shiftKey&&"ArrowUp"===l.key:{let e=m.getNextSelectableCell("ArrowUp");if(!e||!s)return n;return i({diffAnchor:a,focusedGridCell:s,startGridCell:e,endGridCell:s}),at(e.cellId),n}case"ArrowLeft"===l.key&&l.metaKey&&l.shiftKey:return n;default:{let t=m.moveToNextItem(l.key,l.ctrlKey),a=t&&document.querySelector(`[data-grid-cell-id=${t.cellId}]`);return e(),m.clearLastSelectedCell(),a??void 0}}},[m,a,i,e]);return(0,tL.G)({containerRef:t,bindKeys:eX,getNextFocusable:p,focusableElementFilter:e=>"BUTTON"!==e.tagName&&"TEXTAREA"!==e.tagName,focusInStrategy:"previous",disabled:r},[p]),{gridNavigator:m}}function at(e){let t=C.XC?.querySelector(`[data-grid-cell-id=${e}]`);!function(e){if(!C.XC||!C.cg||!e)return!1;let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(C.cg.innerHeight||C.XC.documentElement.clientHeight)&&t.right<=(C.cg.innerWidth||C.XC.documentElement.clientWidth)}(t)&&t?.scrollIntoView({block:"nearest",inline:"nearest"})}var aa=a(87825);let an=(0,c.createContext)({isInDialogMode:!1,enableInlineCommentDialogMode:()=>{},disableInlineCommentDialogMode:()=>{}});function al({enableDiffGridMode:e,children:t}){let[a,n]=(0,c.useState)(!1),l=(0,c.useCallback)(()=>{n(!0),e?.(!1)},[e]),s=(0,c.useCallback)(()=>{n(!1),e?.(!0)},[e]),r=(0,c.useMemo)(()=>({isInDialogMode:a,enableInlineCommentDialogMode:l,disableInlineCommentDialogMode:s}),[a,l,s]);return(0,i.jsx)(an.Provider,{value:r,children:t})}let ai=()=>(0,c.useContext)(an);try{an.displayName||(an.displayName="InlineCommentDialogModeContext")}catch{}try{al.displayName||(al.displayName="InlineCommentDialogModeProvider")}catch{}function as(e){return null!=e}let ar="thread",ao="annotation",ad=(0,c.createContext)(null);function ac({children:e,line:t}){let[a,n]=(0,c.useState)(!1),[l,s]=(0,c.useState)(),[r,o]=(0,c.useState)(),[d,u]=(0,c.useState)(),[m,p]=(0,c.useState)(),[g,f]=(0,c.useState)(),{ghostUser:h,markerNavigationImplementation:y}=e0(),{originalLineThreads:b,modifiedLineThreads:k}=tF(),[x,v]=(0,c.useState)(),C=am({line:t,side:x,originalLineThreads:b,modifiedLineThreads:k,ghostUser:h}),j=(0,c.useMemo)(()=>!!l||!!r||!!d||!!m,[l,d,r,m]),S=(0,c.useCallback)(()=>{n(!0)},[]),I=(0,c.useCallback)(()=>{n(!1)},[]),N=(0,c.useCallback)(e=>{e?f({id:e,kind:ar}):f(void 0)},[]),F=g?.kind===ar?g.id:void 0,_=g?.kind===ao?g.id:void 0,L=(0,c.useCallback)(e=>{e?f({id:e,kind:ao}):f(void 0)},[]),w=(0,c.useCallback)((e,t,a)=>{var n;let l,i;switch(n=y?.overlayPortalContainerName,l=document.querySelector('#__primerPortalRoot__ div[role="dialog"]'),i=document.querySelector(`#${n} div[role="dialog"]`),(l||i)&&document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",code:"Escape",ctrlKey:!0})),e){case"context-menu":s(t),p(void 0),u(void 0),o(void 0);break;case"new-conversation":p({cellId:t,withSuggestedChange:a?.withSuggestedChange}),s(void 0),u(void 0),o(void 0);break;case"marker-details":u(t),s(void 0),o(void 0),p(void 0);break;case"marker-list":o(t),s(void 0),p(void 0),u(void 0)}},[y?.overlayPortalContainerName]),T=(0,c.useCallback)(e=>{switch(e){case"context-menu":s(void 0);break;case"new-conversation":p(void 0);break;case"marker-details":u(void 0);break;case"marker-list":o(void 0)}},[]),A=(0,c.useCallback)(e=>(v(e),am({line:t,side:e,modifiedLineThreads:k,originalLineThreads:b,ghostUser:h})),[t,k,b,h]),E=(0,c.useMemo)(()=>t.annotationsData?.annotations?.filter(as)??[],[t.annotationsData?.annotations]),K=(0,c.useMemo)(()=>({annotations:E,isActionBarVisible:a,showActionBar:S,hideActionBar:I,selectThreadId:N,selectAnnotationId:L,closeDialog:T,openDialog:w,anyMenuOpen:j,selectedThreadId:F,selectedAnnotationId:_,openContextMenuCell:l,openMarkersListCell:r,openMarkerDetailsCell:d,openNewConversationCell:m,threads:C,updateVisibleThreads:A}),[E,a,S,I,N,L,T,w,j,F,_,l,r,d,m,C,A]);return(0,i.jsx)(ad.Provider,{value:K,children:e})}function au(){let e=(0,c.useContext)(ad);if(!e)throw Error("useMarkersDialogContext must be used within a MarkersDialogContextProvider");return e}function am({line:e,side:t,originalLineThreads:a,modifiedLineThreads:n,ghostUser:l}){switch(t){case"LEFT":return a||[];case"RIGHT":return n||[];case void 0:return t_(e.threadsData,l);default:return[]}}try{ad.displayName||(ad.displayName="MarkersDialogContext")}catch{}try{ac.displayName||(ac.displayName="MarkersDialogContextProvider")}catch{}var ap=a(40260),ag=a(98211),af=a(94236);let ah=(0,c.createContext)({});function ay({children:e}){let[t,a]=(0,c.useState)(!1),n=(0,c.useMemo)(()=>({isDialogOpen:t,setIsDialogOpen:a}),[t,a]);return(0,i.jsx)(ah.Provider,{value:n,children:e})}try{ah.displayName||(ah.displayName="DialogStateContext")}catch{}try{ay.displayName||(ay.displayName="DialogStateProvider")}catch{}let ab=eW.z0.ArrowAll;eW.z0.ArrowHorizontal,eW.z0.ArrowVertical,eW.z0.ArrowVertical,eW.z0.ArrowHorizontal;let MarkerNavigator=class MarkerNavigator{focusMarker(e){let t=this.markers.findIndex(t=>t.id.toString()===e.toString());-1!==t&&(this.currentMarkerPosition={markerId:e,index:t})}get focusedMarker(){if(this.currentMarkerPosition)return this.markers[this.currentMarkerPosition.index]}moveToFirstComment(e){if(0!==this.markers.length&&!e)return}moveToNextMarker(e,t){let a;if(0===this.markers.length)return;if(t){let e=t.closest("[data-marker-id]"),a=e?.getAttribute("data-marker-id");a&&(this.currentMarkerPosition={markerId:a,index:this.markers.findIndex(e=>e.id.toString()===a.toString())})}if(!this.currentMarkerPosition){let t="ArrowUp"===e?this.markers.length-1:0,a=this.markers[t];if(!a)return;return this.currentMarkerPosition={markerId:a.id,index:t},this.markers[t]}let n=0===this.currentMarkerPosition.index,l=this.currentMarkerPosition.index===this.markers.length-1;switch(e){case"ArrowDown":if(l)return;a=(this.currentMarkerPosition.index+1)%this.markers.length;break;case"ArrowUp":if(n)return;a=(this.currentMarkerPosition.index-1+this.markers.length)%this.markers.length;break;default:return}let i=this.markers[a];if(i)return this.currentMarkerPosition={markerId:i.id,index:a},i}moveToNextMarkerItem(e,t){let a;if(!t||!this.markerComments)return;let n=t.closest("[data-marker-id]"),l=n?.getAttribute("data-marker-id");if(!n||!l)return;let i=this.markerComments[l]||[];if(0===i.length)return;let s=t.getAttribute("data-marker-navigation-comment-id"),r=i.findIndex(e=>e.id===s);if(-1===r)return;let o=r===i.length-1;switch(e){case"ArrowDown":if(o)return;a=r+1;break;case"ArrowUp":if(0===r)return;a=r-1;break;default:return}let d=i[a];if(d)return this.currentMarkerCommentPosition={markerId:d.id,index:a},d}constructor(e,t,a){if((0,tP._)(this,"markers",void 0),(0,tP._)(this,"markerComments",null),(0,tP._)(this,"currentMarkerPosition",null),(0,tP._)(this,"currentMarkerCommentPosition",null),this.markers=e.map(e=>{let t=e.id;return{...e,id:t}}),this.markerComments=e.reduce((e,t)=>{let a=document.querySelectorAll(`[data-marker-navigation-comment-thread-id="${t.id}"]`);if(a){let n=Array.from(a).map(e=>({id:e.getAttribute("data-marker-navigation-comment-id")}));return{...e,[t.id.toString()]:n}}return e},{}),t&&!a){const e=this.markers.findIndex(e=>e.id.toString()===t.toString());-1!==e&&(this.currentMarkerPosition={markerId:t,index:e})}}};let ak="a, audio, button, details, embed, iframe, img, input, keygen, label, object, select, textarea, video";function ax(e){for(let t of(e?.setAttribute("aria-hidden","false"),Array.from(e?.querySelectorAll("*")??[])))t?.setAttribute("aria-hidden","false");for(let t of Array.from(e?.querySelectorAll(ak)??[]))t.setAttribute("tabindex","0")}function av({commentSubjectType:e,markerRef:t,isThread:a=!1,thread:n}){let{isInDialogMode:l}=ai();(0,c.useEffect)(()=>{let i=null;if(!a||n){if(l)"commit"===e?i=setTimeout(()=>{ax(t.current)},100):ax(t.current);else{var s;s=t.current,s?.setAttribute("aria-hidden","true"),function e(t=0){setTimeout(()=>{let t=Array.from(s?.querySelectorAll("*")??[]),a=Array.from(s?.querySelectorAll(ak)??[]);if(0===a.length)return e(200);for(let e of t)e?.setAttribute("aria-hidden","true");for(let e of a)e.setAttribute("tabindex","-1")},t)}()}return()=>{i&&clearTimeout(i)}}},[l,e,t,a,n])}var aC=a(77430),aj=a(98552),aS=a(69497),aI=a(38267);function aN({annotationLevel:e,...t}){let{icon:a,...n}=aL[e];return function({fill:e,stroke:t,ariaLabel:a,svgHtml:n,className:l}){return(0,i.jsx)("svg",{"aria-label":a,className:l,fill:e,height:"24",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",style:{boxShadow:"none"},viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:n})}({...a,...n,...t})}let aF=(0,aI.i7)(["0%{opacity:0;}100%{opacity:1;}"]),a_=(0,aI.Ay)(aN).withConfig({displayName:"AnnotationIcon__AnimatedAnnotationIcon",componentId:"sc-f8bdef5f-0"})(["animation:"," 0.1s ease-in;"],aF),aL={[e3]:{priority:1,ariaLabel:"Check failure",primaryColor:"danger.fg",primaryColorClass:"fgColor-danger",borderColor:"borderColor-danger-emphasis",icon:{fill:"var(--bgColor-danger-emphasis, var(--color-danger-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"15",x2:"9",y1:"9",y2:"15"}),(0,i.jsx)("line",{x1:"9",x2:"15",y1:"9",y2:"15"})]})}},[e7]:{priority:2,ariaLabel:"Check warning",primaryColor:"attention.fg",primaryColorClass:"fgColor-attention",borderColor:"borderColor-attention-emphasis",icon:{fill:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"16"})]})}},[e8]:{priority:3,ariaLabel:"Check notice",primaryColor:"fg.muted",primaryColorClass:"fgColor-muted",borderColor:"fgColor-muted",icon:{fill:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"12"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"8"})]})}}};try{aN.displayName||(aN.displayName="AnnotationIcon")}catch{}try{a_.displayName||(a_.displayName="AnimatedAnnotationIcon")}catch{}let aw={[e3]:(0,i.jsx)(u.StopIcon,{className:"fgColor-danger"}),[e7]:(0,i.jsx)(u.AlertIcon,{className:"fgColor-attention"}),[e8]:(0,i.jsx)(u.InfoIcon,{className:"fgColor-muted"})};function aT({annotation:e}){return(0,i.jsxs)("div",{className:(0,F.$)("p-3 bgColor-default",aL[e.annotationLevel]?.borderColor,"Annotation-module__annotation--XyhuZ"),children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center mb-2",children:[aw[e.annotationLevel],(0,i.jsx)(aj.A,{weight:"semibold",className:"fgColor-muted pl-2",size:"small",children:aL[e.annotationLevel]?.ariaLabel})]}),(0,i.jsx)("div",{className:"ml-4",children:e.title&&(0,i.jsx)(aj.A,{weight:"semibold",size:"medium",className:aL[e.annotationLevel]?.primaryColorClass,children:e.title})}),(0,i.jsxs)("h2",{className:"sr-only",children:[aL[e.annotationLevel]?.ariaLabel,": ",e.title]}),(0,i.jsx)("div",{className:"mb-3 mt-1 ml-4",children:e.message&&(0,i.jsx)(M.$6,{html:e.message,className:"Annotation-module__annotationMessage--vtkTa"})}),(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between ml-4",children:[(0,i.jsxs)("div",{className:"Annotation-module__annotationSource--_lhYD",children:[(0,i.jsx)(aC.r,{src:e.appAvatarUrl,alt:e.appAvatarAltText}),(0,i.jsxs)(aS.A,{className:"ml-2",maxWidth:"300px",inline:!0,title:`${e.checkSuiteName} / ${e.checkRun.name}`,children:[(0,i.jsx)(aj.A,{weight:"semibold",size:"small",children:e.checkSuiteName})," ","/ ",(0,i.jsx)(aj.A,{size:"small",children:e.checkRun.name})]})]}),e.checkRun.detailsUrl&&(0,i.jsx)($.Q,{as:"a",href:e.checkRun.detailsUrl,size:"small",children:"View details"})]})]})}try{aT.displayName||(aT.displayName="Annotation")}catch{}function aA({annotation:e,isFirstMarker:t,commentingImplementation:a}){let n=(0,c.useRef)(null),{isInDialogMode:l}=ai();return av({commentSubjectType:a.commentSubjectType,markerRef:n}),(0,i.jsx)("div",{id:`annotation_${e.databaseId}`,ref:n,className:(0,F.$)("border rounded-2 color-border-default color-shadow-small overflow-hidden",t?"mb-1":"mb-2","InlineAnnotation-module__inlineAnnotation--zYahl"),"data-level":e.annotationLevel,"data-testid":`annotation-${e.id}`,"data-marker-id":`${e.id}`,tabIndex:l?0:-1,children:(0,i.jsx)(aT,{annotation:e})})}try{aA.displayName||(aA.displayName="InlineAnnotation")}catch{}var aE=a(82075),aK=a(30459),aP=a(11196),aD=a(35811);function aR(){return(0,i.jsx)("div",{className:"position-relative",children:(0,i.jsxs)(m.E,{border:!0,children:[(0,i.jsx)(m.E.Visual,{children:(0,i.jsx)(u.AlertIcon,{size:24,className:"fgColor-muted mt-3 mb-3"})}),(0,i.jsx)(m.E.Heading,{children:(0,i.jsx)("strong",{children:"Comments cannot be loaded right now"})}),(0,i.jsx)("div",{className:"mb-n2",children:(0,i.jsx)(m.E.Description,{children:"Refresh the page or try again later"})}),(0,i.jsx)(m.E.SecondaryAction,{href:"https://www.githubstatus.com/",children:"GitHub status"})]})})}try{aR.displayName||(aR.displayName="CommentErrorFallback")}catch{}let aM="InlineReviewThread-module__inlineReviewThreadHeading--ytbVB";var aV=a(11738);function aO(e,t="r"){(0,k.Zu)(`#${t}${e}`)}var aB=a(91835),a$=a(46747);let{getItem:aU,removeItem:aH,setItem:az}=(0,aE.D)("localStorage");function aq({diffSide:e,filePath:t,handlePersistedCommentExists:a,line:n,subjectId:l,threadId:i,fileLevelComment:s}){let r,o,[d,u]=(0,c.useState)(!1),m=(0,c.useMemo)(()=>i||(i??((e,t)=>{let{diffSide:a,filePath:n,line:l,subjectId:i}=e;if(t)return`PullRequest:${i}-File:${n}`;if(void 0!==l&&void 0!==a)return`PullRequest:${i}-File:${n}-Line:${l}-DiffSide:${a}`;throw Error("Cannot build diff line comment cache key for a comment without a line number or diff side")})({diffSide:e,filePath:t,line:n,subjectId:l},s)),[e,t,n,l,i,s]),{hasPersistedComment:p,removePersistedCommentFromStorage:g}=(r=aU(m),o=!!r?.text?.trim(),(0,c.useEffect)(()=>{o&&a?.(r)},[o]),{hasPersistedComment:o,removePersistedCommentFromStorage:()=>{aH(m),o=!1,r=null}});return{hasPersistedComment:p,persistCommentToStorage:(0,a$.d)(e=>{if(d)return;let t={text:e.text};e.startLine&&e.startSide&&(t={...t,startLine:e.startLine,startSide:e.startSide});try{az(m,t)}catch{u(!0)}},1e3),removePersistedCommentFromStorage:g}}function aG(e,t){for(let a of function e(t,a=[]){var n,l;let i;if(""===t)return a;let s=t.match(aW());if(!s)return a;let r=s.groups.fence;if(!r)return a;let o=r.includes("~")?"~":"`",d=t.match((i=aW([n=o],l=r.length),RegExp(`${i.source}(?:\r?
)(?<suggestion>.*?)(?:\r?
)^ {0,3}${n}{${l},}[ 	]*$`,"ms")));if(!d)return a;let c=0,u=s.groups.indent;""!==u&&(c=u.length);let m=d.groups.suggestion;if(c>0){let e=RegExp(`^ {0,${c}}`,"m");m=m.replace(e,"")}return a.push(m),e(t.slice(d.index+d[0].length),a)}(e))if(a===t)return{isValid:!1,errorMessage:"Suggested change cannot be the same as the original line"};return{isValid:!0,errorMessage:""}}function aW(e=["`","~"],t){let a=t?`{${t}}`:"{3,}",n=e.map(e=>`${e}${a}`);return RegExp(`^(?<indent> {0,3})(?<fence>${n.join("|")})suggestion[ 	]*$`,"m")}var aQ=a(42118);let aX=(0,c.forwardRef)(({children:e,subject:t,...a},n)=>(0,i.jsx)(aQ.hF,{...a,ref:n,placeholder:"Leave a comment",actions:e,subject:t,showLabel:!1}));function aY({batchPending:e,batchingEnabled:t,commentBoxSubject:a,condensed:n,fileLevelComment:l,filePath:s,focusOnMount:r,isReplying:o,lineNumber:d,onAddComment:u,onCancelComment:m,onPersistedCommentExists:p,quotedText:g="",side:f,startLineNumber:h,subjectId:y,threadId:b,suggestedChangesConfig:k}){let[x,v]=(0,c.useState)(g),[j,S]=(0,c.useState)(!1),[I,N]=(0,c.useState)(),F=(0,c.useRef)(null),_=(0,c.useRef)(null),{persistCommentToStorage:L,removePersistedCommentFromStorage:w}=aq({diffSide:f,filePath:s,line:d,subjectId:y,threadId:b,handlePersistedCommentExists:({text:e})=>{e&&(v(e),p?.())},fileLevelComment:!!l});(0,c.useEffect)(()=>{if(r){let e=setTimeout(()=>{if(_.current&&(C.XC||C.cg)){let e=_.current,t=e.getBoundingClientRect(),a=C.XC?.documentElement.clientHeight||0;if(!(t.top>=0&&t.bottom<=(C.cg?.innerHeight||a))){let n=t.top,l=C.XC?.documentElement.getBoundingClientRect().top||0,i=e.clientHeight*(2/3);C.cg?.scrollTo({top:n-l-2/3*a+i,behavior:"smooth"})}}F.current?.focus()},100);return()=>{window.clearTimeout(e)}}},[r]);let T=({submitBatch:e})=>{let t="Failed to save comment";if(j)return;if(!x.trim())return void N(`${t}: Body can't be blank`);S(!0),N(void 0);let a=aG(x,k?.sourceContentFromDiffLines??"");if(!a.isValid){N(a.errorMessage),S(!1);return}u?.({commentText:x,onCompleted(){S(!1),K()},onError(e){S(!1),e.message&&(t=`${t}: ${e.message}`),N(t)},submitBatch:e})},A=()=>T({submitBatch:!1}),E=()=>T({submitBatch:!0}),K=(0,c.useCallback)(()=>{w(),v(""),m?.()},[m,w]),P={footer:{justifyContent:o?"end":"space-between","> div:first-child":{display:n||o?"none":"flex"},...n&&{"> div:last-child":{display:"flex",flexDirection:"column",width:"100%"}}}};return(0,i.jsx)("div",{className:"AddCommentEditor-module__AddCommentEditor--PS0ul",onKeyDown:e=>{"Escape"!==e.key||x.trim()?e.stopPropagation():(e.preventDefault(),K())},children:(0,i.jsxs)(aX,{ref:F,label:"Add diff comment",sx:P,value:x,onChange:e=>{N(void 0),L({text:e}),v(e)},onPrimaryAction:t?A:E,suggestedChangesConfig:k,markdownErrorMessage:I,subject:a,lineNumber:d,filePath:s,startLineNumber:h,children:[m&&(0,i.jsx)(aB.x,{disabled:j,className:"py-1 px-2",variant:"default",onClick:K,children:"Cancel"}),!e&&(0,i.jsx)(aB.x,{disabled:j||!x.length,className:"py-1 px-2",variant:t?"default":"primary",onClick:E,ref:_,children:o?"Reply":"Comment"}),t&&(0,i.jsx)(aB.x,{disabled:j||!x.length,className:"py-1 px-2",variant:"primary",onClick:A,children:e?"Add review comment":"Start a review"})]})})}aX.displayName="ConversationCommentBox";try{aY.displayName||(aY.displayName="AddCommentEditor")}catch{}var aJ=a(26156),aZ=a(71073),a0=a(81156),a1=a(63352),a2=a(78809),a4=a(24967),a3=a(19805),a8=a(43258),a7=a(59394),a5=a(40961);function a9({commentingImplementation:e,suggestedChange:t}){let{sendAnalyticsEvent:a}=(0,aK.s)();return(0,i.jsx)("div",{className:"d-flex flex-row-reverse",children:(0,i.jsx)($.Q,{variant:"primary",onClick:()=>{a("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON"),e.addSuggestedChangeToPendingBatch(t)},children:"Add suggestion to batch"})})}try{a9.displayName||(a9.displayName="AddToExistingBatch")}catch{}var a6=a(73783);let ne={applySuggestion:{text:"Apply suggestion"},addSuggestionToBatch:{text:"Add suggestion to batch",inactive:!0,inactiveReason:"This feature is not supported yet."}};function nt({commentingImplementation:e,onOpenDialog:t,suggestedChange:a}){let{sendAnalyticsEvent:n}=(0,aK.s)(),[l,s]=(0,c.useState)(ne.applySuggestion),[r,o]=(0,c.useState)(!1),d=(0,c.useRef)(null),m=(0,c.useRef)(null),p=()=>o(!r),{addSuggestedChangeToPendingBatch:g}=e,f=(0,c.useCallback)(()=>{l===ne.addSuggestionToBatch&&(g(a),n("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON")),l===ne.applySuggestion&&t(m)},[g,t,l,n,a]);return(0,i.jsx)("div",{className:"d-flex flex-row-reverse",children:(0,i.jsxs)(a6.A,{children:[(0,i.jsx)($.Q,{variant:"primary",onClick:f,ref:m,children:l.text}),(0,i.jsxs)(af.W,{anchorRef:d,open:r,onOpenChange:p,children:[(0,i.jsx)(af.W.Anchor,{children:(0,i.jsx)(H.K,{ref:d,"aria-haspopup":"true","aria-label":"More suggestion batching options",icon:u.TriangleDownIcon,size:"medium",variant:"primary",onClick:p})}),(0,i.jsx)(af.W.Overlay,{width:"medium",children:(0,i.jsx)(es.l,{selectionVariant:"single",children:Object.keys(ne).map(e=>{let t=ne[e];return(0,i.jsx)(es.l.Item,{selected:l===t,onSelect:()=>s(t),inactiveText:t.inactiveReason,children:t.text},e)})})})]})]})})}try{nt.displayName||(nt.displayName="ApplyOrAddToBatch")}catch{}var na=a(70263),nn=a(86877),nl=a(4175);function ni({children:e,footerButtons:t}){let{containerRef:a}=(0,tL.G)({bindKeys:eW.z0.ArrowHorizontal|eW.z0.Tab,focusInStrategy:"closest"});return t?(0,i.jsx)(er.l.Footer,{ref:a,children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("div",{className:"d-flex flex-row gap-2 flex-justify-end",children:(0,i.jsx)(er.l.Buttons,{buttons:t})}),e]})}):null}let ns="CHANGE_COMMIT_MESSAGE",nr="CHANGE_EXTENDED_DESCRIPTION";function no(e,t){switch(t.type){case ns:return{...e,commitMessage:t.payload};case nr:return{...e,extendedDescription:t.payload};default:return console.error("Unknown suggested change action."),e}}function nd({authorLogins:e,batchSize:t,onClose:a,onCommit:n}){let l=(0,na.A)(),{sendAnalyticsEvent:s}=(0,aK.s)(),[r,o]=(0,c.useState)(!1),[d,u]=(0,c.useState)(),[m,p]=(0,c.useReducer)(no,{commitMessage:1===e.length?`Apply suggestion from @${e[0]}`:1===new Set(e).size?`Apply suggestions from @${e[0]}`:"Apply suggestions from code review",extendedDescription:""}),g=(0,c.useCallback)((e,t,a)=>{if(!l())return;let n="There was an error trying to commit changes";a?n+=`: ${a}`:n+=".",o(!1),u(n)},[l]),f=(0,c.useCallback)(()=>{l()&&(o(!1),d&&u(void 0))},[d,l]),h=(0,c.useCallback)(()=>{r||(o(!0),s("comments.commit_suggestion","COMMIT_SUGGESTION_DIALOG_BUTTON",{batchSize:t}),n(`${m.commitMessage}

${m.extendedDescription}`,g,f))},[t,m.commitMessage,m.extendedDescription,f,g,r,n,s]);return(0,i.jsxs)(er.l,{title:"Apply suggestion",renderFooter:()=>(0,i.jsx)(ni,{footerButtons:[{content:"Cancel",onClick:a},{content:(0,i.jsxs)("span",{className:"d-flex flex-row flex-items-center",children:["Commit changes",r&&(0,i.jsx)(tC.A,{size:"small",className:"ml-1"})]}),onClick:h,buttonType:"primary"}],children:d&&(0,i.jsx)(nn.A.Validation,{variant:"error",className:"mt-2 pt-1 flex-justify-end",children:d})}),onClose:a,children:[(0,i.jsxs)(nn.A,{className:"mb-2",children:[(0,i.jsx)(nn.A.Label,{required:!0,children:"Commit message"}),(0,i.jsx)(eI.A,{block:!0,name:"commit_message",onChange:e=>p({type:ns,payload:e.target.value}),value:m.commitMessage})]}),(0,i.jsxs)(nn.A,{children:[(0,i.jsx)(nn.A.Label,{children:"Extended description"}),(0,i.jsx)(nl.Ay,{block:!0,rows:3,placeholder:"Add an optional description...",onChange:e=>p({type:nr,payload:e.target.value}),value:m.extendedDescription})]})]})}try{ni.displayName||(ni.displayName="DialogFooter")}catch{}try{nd.displayName||(nd.displayName="ApplySuggestionDialog")}catch{}function nc({reason:e,className:t="m-2"}){return(0,i.jsx)("div",{className:t,children:(0,i.jsx)("small",{className:"fgColor-muted",children:e})})}try{nc.displayName||(nc.displayName="CodeSuggestionUnavailable")}catch{}function nu({commentingImplementation:e,onOpenDialog:t,suggestedChange:a}){let n=(0,c.useRef)(null),l=(0,c.useCallback)(()=>{t(n)},[t]),s=e.pendingSuggestedChangesBatch.length,{sendAnalyticsEvent:r}=(0,aK.s)();return(0,i.jsxs)("div",{className:"d-flex flex-row flex-justify-between",children:[(0,i.jsx)(z.A,{variant:"attention",className:"my-auto",children:"Pending in batch"}),(0,i.jsxs)("div",{className:"d-flex gap-2",children:[(0,i.jsx)($.Q,{size:"medium",variant:"danger",onClick:()=>{e.removeSuggestedChangeFromPendingBatch(a),r("comments.remove_suggested_change_from_batch","REMOVE_SUGGESTED_CHANGE_FROM_BATCH_BUTTON")},children:"Remove from batch"}),(0,i.jsx)($.Q,{ref:n,size:"medium",count:s,variant:"primary",onClick:l,children:`Apply suggestion${s>1?"s":""}`})]})]})}try{nu.displayName||(nu.displayName="CommitOrRemoveFromBatch")}catch{}function nm({commentingImplementation:e,suggestedChange:t}){let a,{setIsDialogOpen:n}=(0,c.useContext)(ah),[l,s]=(0,c.useState)(!1),r=(0,c.useRef)(void 0),{pendingSuggestedChangesBatch:o,submitSuggestedChanges:d}=e,u=o.some(e=>{var a,n;let l,i;return a=e,n=t,a.commentId===n.commentId&&a.path===n.path&&a.suggestion.length===n.suggestion.length&&(l=a.suggestion,i=n.suggestion,l.length===i.length&&!l.some((e,t)=>e!==i[t]))}),m=0===o.length,{isValid:p,reason:g}=(a={isValid:!1,reason:"Unable to commit due to other pending changes affecting this line."},o.length>=50?{isValid:!1,reason:"Unable to commit due to too many changes in the batch."}:o.find(e=>e.threadId===t.threadId)||function(e,t){for(let l of t)if(e.path===l.path){var a,n;return a=e.lineRange,n=l.lineRange,a.endLineNumber>=n.startLineNumber&&a.startLineNumber<=n.endLineNumber}return!1}(t,o)?a:{isValid:!0}),f=(0,c.useMemo)(()=>u?o:[t],[u,o,t]),h=(0,c.useCallback)(e=>{s(e),n?.(e)},[n]),y=(0,c.useCallback)(()=>{if(h(!1),r.current){let e=r.current.current;setTimeout(()=>e?.focus())}},[h]),b=(0,c.useCallback)(e=>{h(!0),r.current=e},[h,r]),k=(0,c.useCallback)((e,t,a)=>{d({suggestedChanges:f,commitMessage:e,onCompleted:()=>{y(),a()},onError:t})},[y,d,f]);return(0,i.jsxs)("div",{className:"border-top p-2",children:[u&&(0,i.jsx)(nu,{commentingImplementation:e,suggestedChange:t,onOpenDialog:b}),!u&&!p&&g&&(0,i.jsx)(nc,{reason:g,className:"m-0"}),!u&&m&&(0,i.jsx)(nt,{commentingImplementation:e,suggestedChange:t,onOpenDialog:b}),!u&&p&&!m&&(0,i.jsx)(a9,{commentingImplementation:e,suggestedChange:t}),l&&(0,i.jsx)(nd,{authorLogins:f.map(e=>e.authorLogin),batchSize:f.length,onClose:y,onCommit:k})]})}try{nm.displayName||(nm.displayName="CodeSuggestionActions")}catch{}function np({applySuggestedChangesValidationData:e,comment:t,commentBodyRef:a,commentingImplementation:n,filePath:l,isOutdated:s,isThreadResolved:r,subject:o,suggestedChangesConfig:d,databaseId:u,viewerData:m}){let p=function(e,t,a,n,l){let[i,s]=(0,c.useState)();return(0,ex.N)(()=>{if(!e.current||t.subjectType?.toUpperCase()!=="LINE")return;let i=[...e.current.getElementsByClassName("js-apply-changes")];if(i.length>0){let e=[];for(let s of i){let i=s?.closest("div.js-suggested-changes-blob");if(!i)continue;let r=[...i.querySelectorAll(".js-blob-code-addition")];l.lineRange&&e.push({authorLogin:t.author?.login??"ghost",commentId:t.id,path:a,ref:s,suggestion:r.map(e=>e.textContent),lineRange:l.lineRange,threadId:n})}s(e)}},[l.lineRange,t.author?.login,t.bodyHTML,t.id,t.subjectType,e,a,n]),i}(a,t,l,u,e),g=o?.state?.toUpperCase();return(0,i.jsx)(i.Fragment,{children:p?.length?p.map(a=>{let{isValid:l,reason:c}=function({suggestedChange:e,isOutdated:t,isPending:a,isResolved:n,pullRequestIsClosed:l,pullRequestIsInMergeQueue:i,userCanApplySuggestion:s,applySuggestedChangesValidationData:r,suggestedChangesConfig:o}){let{lineRange:d}=r;if(t)return{isValid:!1,reason:"This suggestion is outdated and cannot be applied."};if(a)return{isValid:!1,reason:"This suggestion is part of a pending comment and cannot be applied."};if(n)return{isValid:!1,reason:"This suggestion is part of a resolved comment and cannot be applied."};if(l)return{isValid:!1,reason:"This suggestion cannot be applied because the pull request is closed."};if(i)return{isValid:!1,reason:"This suggestion cannot be applied because the pull request is queued to merge."};if(!s)return{isValid:!1,reason:"You do not have permission to apply this suggestion."};if(!d)return{isValid:!1,reason:"This suggestion does not have a valid line range."};if(!o)return{isValid:!1,reason:"Unable to determine the validity of this suggestion."};if(!o?.isValidSuggestionRange)return{isValid:!1,reason:"Unable to apply suggestions on deleted lines."};let c=o?.sourceContentFromDiffLines,u=e.suggestion.join(`
`);return 0!==e.suggestion.length&&u===c?{isValid:!1,reason:"This suggestion is invalid because no changes were made to the code."}:{isValid:!0}}({suggestedChange:a,isOutdated:s,isPending:"PENDING"===t.state.toUpperCase(),isResolved:r,pullRequestIsClosed:void 0===g||"CLOSED"===g||"MERGED"===g,pullRequestIsInMergeQueue:!!o?.isInMergeQueue,userCanApplySuggestion:!!m?.viewerCanApplySuggestion,applySuggestedChangesValidationData:e,suggestedChangesConfig:d});return!l&&c?(0,a5.createPortal)((0,i.jsx)(nc,{reason:c}),a.ref):(0,a5.createPortal)((0,i.jsx)(nm,{commentingImplementation:n,suggestedChange:a}),a.ref)}):null})}try{np.displayName||(np.displayName="SuggestedChangeView")}catch{}function ng({isAnchorable:e=!1,index:t=0,isInlineComment:a,isLastChild:n,isOutdated:l,isThreadResolved:s,anchorPrefix:r="r",comment:o,commentingImplementation:d,filePath:m,hideActions:p,isFirstComment:g=!1,enterDialogMode:f=eb.l,onRefreshThread:h,onQuoteReply:y=eb.l,subjectId:b,subject:k,threadCommentCount:x,threadId:v,threadPositionNumber:j,threadsConnectionId:S,suggestedChangesConfig:I,applySuggestedChangesValidationData:N,viewerData:_,ghostUser:w=a0.t.ghostUser,skipReactions:T=!1,originalDiffPathUri:A}){let{addToast:E}=(0,a8.Y6)(),[K,P]=(0,c.useState)(!1),[D,R]=(0,c.useState)(o.isHidden),[V,O]=(0,c.useState)(o.body),[B,$]=(0,c.useState)(!1),[U,H]=(0,c.useState)(""),{persistCommentToStorage:z,removePersistedCommentFromStorage:q}=aq({subjectId:b,filePath:m,fileLevelComment:"FILE"===o.subjectType,threadId:o.id,handlePersistedCommentExists:({text:e})=>{e&&O(e)}}),{blockUserFromOrg:G,unblockUserFromOrg:W,editComment:Q,deleteComment:X,hideComment:Y,unhideComment:J,reactToComment:Z,lazyFetchReactionGroups:ee}=d,et=!!G,ea=!!W,en=(0,c.useRef)(null),el=(0,c.useRef)(null),[ei,es]=(0,c.useState)(""),{isInDialogMode:er}=ai(),eo=()=>{en.current?.focus()};(0,c.useEffect)(()=>{if(K){let e=window.setTimeout(eo);return()=>{window.clearTimeout(e)}}},[K]);let ed=(0,a7.S)(),{enableInlineCommentDialogMode:ec,disableInlineCommentDialogMode:eu}=ai(),em=async()=>{eu();let e=!1;try{e=await ed({title:"Delete comment?",content:"Are you sure you want to delete this comment?",confirmButtonContent:"Delete",confirmButtonType:"danger"})}finally{ec()}e&&X({commentId:o.id,onCompleted:()=>{h?.(v)},onError:()=>{$(!1),E({type:"error",message:"Failed to delete comment"})},threadCommentCount:x,threadId:v,threadsConnectionId:S,filePath:m})},ep=(0,c.useCallback)((e,t,a,n,l,i)=>{G&&G({duration:e,shouldHideComment:t,hiddenReason:a,organizationLogin:n,notifyBlockedUser:l,userLogin:i,onCompleted:()=>{t&&R(!0),h?.(v)},onError:()=>{es("Failed to block user")}})},[G,h,v]),eg=(0,c.useCallback)((e,t)=>{W&&W({organizationLogin:e,userLogin:t,onCompleted:()=>{h?.(v)},onError:()=>{es("Failed to unblock user")}})},[h,v,W]),ef=(0,c.useCallback)(()=>{$(!0);let e=aG(V,I?.sourceContentFromDiffLines??"");if(!e.isValid){H(e.errorMessage),$(!1);return}Q({text:V,comment:o,onCompleted:()=>{P(!1),$(!1),q(),h?.(v)},onError:()=>{$(!1),E({type:"error",message:"Failed to update comment"})}})},[E,V,o,Q,h,q,I,v]),eh=o.databaseId?.toString(),ey=eh?`${r}${eh}`:void 0,ek=ey&&C.fV?new URL(`${C.fV.pathname}#${ey}`,C.fV.origin).toString():"",ex=(0,c.useRef)(null);(0,c.useEffect)(()=>{e&&eh&&ey&&window.location.hash.split("#").pop()===ey&&(aO(eh,r),f?.(!1),ex.current?.focus())},[r,ey,eh,f,e]);let ev={outline:"2px solid",outlineColor:"accent.fg",outlineOffset:"-2px",boxShadow:"none"},eC=t>0,ej=t>1,eS=d.suggestedChangesEnabled,eI=K?"editing":D?"hidden":"visible",eN={headingProps:{as:"h3"},avatarUrl:o.author?.avatarUrl??w.avatarUrl,comment:{...o,url:ek,referenceText:o.reference.text??`#${o.reference.number}`},commentRef:ex,deleteComment:em,editComment:()=>{P(!0)},editHistoryComponent:void 0,hideComment:e=>{Y({commentDatabaseId:o.databaseId,reason:e,onCompleted:()=>{R(!0),h?.(v)},onError:()=>{$(!1),es("Failed to hide comment")}})},onBlock:et?ep:void 0,onUnblock:ea?eg:void 0,onMinimize:R,onSuccessfulBlock:()=>{setTimeout(()=>C.cg?.location.reload(),800)},isMinimized:D,commentAuthorLogin:o.author?.login??w.login,navigate:eb.l,commentSubjectAuthorLogin:o.reference?.author?.login??"",commentSubjectType:d.commentSubjectType,onReplySelect:y,unhideComment:()=>{J({commentDatabaseId:o.databaseId,onCompleted:()=>{R(!1),h?.(v)},onError:()=>{$(!1),es("Failed to unhide comment")}})},hideActions:p,isReply:eC,forceInlineAvatar:!0,containerStyle:{},originalDiffPathUri:A,isOutdated:l,commentAuthorSlug:"copilot"===o.reviewVariantType?"copilot-pull-request-reviewer":void 0,commentAuthorType:"copilot"===o.reviewVariantType?aJ.S.Bot:void 0};return(0,i.jsxs)(aD.az,{ref:ex,id:e?ey:void 0,tabIndex:a?er?0:-1:0,"data-first-thread-comment":g,"data-marker-navigation-comment-thread-id":v,"data-marker-navigation-comment-id":o.id,...er?{role:"document","aria-roledescription":"comment","aria-label":eC?void 0!==j?`Reply ${t} to Comment ${j}`:`Reply ${t}`:void 0!==j?`Comment ${j}`:"Comment"}:{},sx:{"&:not(:first-child)":{backgroundColor:"canvas.inset"},"&:first-child + div":{borderTop:"1px solid",borderColor:"border.muted"},":target":ev,":focus":ev,scrollMarginTop:e?"120px":0},children:[ej&&(0,i.jsx)(aD.az,{sx:{display:"flex",pl:+!!eC},children:(0,i.jsx)(aD.az,{sx:{ml:4,height:8,borderLeft:"1px solid",borderColor:"border.default"}})}),(0,i.jsx)(aD.az,{sx:{px:3,pt:2*!ej,pb:0},children:(0,i.jsx)(aJ.v,{...eN,commentBody:o.body,threadCommentCount:x,isInDialogMode:er,actions:p?void 0:(0,i.jsx)(aZ.p,{...eN}),isOutdated:l})}),ei&&(0,i.jsxs)(L.A,{variant:"danger",className:"m-3",children:[(0,i.jsx)(u.StopIcon,{className:"mr-2"}),ei]}),(0,i.jsxs)(aD.az,{sx:{display:"flex",pl:+!!eC},children:[eC&&(0,i.jsx)(aD.az,{sx:{ml:4,mr:1,pl:3,borderLeft:"1px solid",borderColor:"border.default",...n&&{borderImage:"linear-gradient(to bottom, var(--borderColor-default, var(--color-border-default)), rgba(0, 0, 0, 0)) 1 100%"}}}),"editing"===eI&&(0,i.jsx)("div",{className:(0,F.$)("flex-1 min-width-0 pr-2 pt-1 pb-2",eC?"pl-0":"pl-2"),children:(0,i.jsxs)(aX,{ref:en,label:"Update comment",value:V,onChange:e=>{z({text:e}),O(e),H(void 0)},onPrimaryAction:ef,subject:d.commentBoxSubject,suggestedChangesConfig:I,markdownErrorMessage:U,children:[(0,i.jsx)(aQ.xR,{variant:"default",onClick:()=>{P(!1),q(),O(o.body)},children:"Cancel"}),(0,i.jsx)(aQ.xR,{disabled:B||!V.length,variant:"primary",onClick:ef,children:"Update"})]})}),"visible"===eI&&(0,i.jsx)(aD.az,{sx:eC?{pb:2,pr:2,overflowX:"auto",width:"100%"}:{px:3,pb:2,width:"100%"},children:o.bodyHTML&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(M.vb,{ref:el,className:"markdown-body","comment-testid":`Comment body html for comment ${o.id}`,html:o.bodyHTML,sx:{mt:1,fontSize:1}}),"copilot"===o.reviewVariantType&&(0,i.jsxs)("p",{className:"text-small color-fg-muted mt-2 mb-1",children:[(0,i.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"Link--inTextBlock",href:"https://docs.github.com/en/copilot/responsible-use-of-github-copilot-features/responsible-use-of-github-copilot-code-review",children:"Copilot"})," ","uses AI. Check for mistakes."]}),(0,i.jsxs)("div",{className:"d-flex flex-direction-column gap-2",children:["copilot"===o.reviewVariantType&&(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)(a1.Z,{commentUrl:o.url,commentId:o.databaseId?.toString()??""})}),o.reactionGroups&&Z?(0,i.jsx)("div",{className:"d-flex flex-direction-column mt-2",children:(0,i.jsx)(a2.P,{reactionGroups:o.reactionGroups,onReact:(e,t)=>{Z?.({commentDatabaseId:o.databaseId,threadId:v,reaction:e,viewerHasReacted:t,onCompleted:()=>{h?.(v)},onError:()=>{$(!1),E({type:"error",message:"Failed to react to comment"})}})},canReact:o.viewerCanReact})}):!T&&(0,i.jsx)(aD.az,{sx:{display:"flex",flexDirection:"column",mt:3},children:ee?(0,i.jsx)(c.Suspense,{fallback:(0,i.jsx)(a4.e,{}),children:(0,i.jsx)(a3.ReactionViewerRelayQueryComponent,{id:o.id,subjectLocked:!o.viewerCanReact})}):(0,i.jsx)(a3.ReactionViewerRelay,{reactionGroups:o,subjectId:o.id,canReact:o.viewerCanReact})})]}),eS&&N&&(0,i.jsx)(np,{comment:o,commentBodyRef:el,commentingImplementation:d,filePath:m,isOutdated:l,isThreadResolved:s,databaseId:o.databaseId,suggestedChangesConfig:I,applySuggestedChangesValidationData:N,subject:k,viewerData:_})]})})]})]})}try{ng.displayName||(ng.displayName="ReviewThreadComment")}catch{}function nf({subject:e,tabSize:t,hideHeaderDetails:a,className:n,diffTableClassName:l}){if(!e?.diffLines||e?.diffLines.length<1)return null;let s=(0,ez.c7)(e.diffLines);return(0,i.jsxs)("div",{className:(0,F.$)("StaticUnifiedDiffPreview-module__StaticDiffPreview--R_cuY",n),children:[!a&&(0,i.jsx)("div",{className:"StaticUnifiedDiffPreview-module__HeaderContainer--l3mJd",children:(0,i.jsxs)("span",{className:"text-small fgColor-muted",children:["Line"," ",(0,b.Ah)({originalStartLine:e.originalStartLine,originalEndLine:e.originalEndLine,startDiffSide:e.startDiffSide,endDiffSide:e.endDiffSide}),", commit ",(0,i.jsx)("code",{children:e.pullRequestCommit?.commit.abbreviatedOid})]})}),(0,i.jsx)(b.l4,{lineWidth:s,lines:e.diffLines,tabSize:t,className:l})]})}try{nf.displayName||(nf.displayName="StaticUnifiedDiffPreview")}catch{}function nh({batchingEnabled:e,batchPending:t,commentAnchorPrefix:a,commentingImplementation:n,commentsConnectionId:l,filePath:s,hideDiffPreview:r,isInlineComment:o,onRefreshThread:d,enterDialogMode:u,repositoryId:m,subject:p,subjectId:g,tabSize:f,thread:h,threadPositionNumber:y,threadsConnectionId:b,shouldLimitHeight:k=!0,suggestedChangesConfig:x,viewerData:v,ghostUser:j}){let[S,I]=(0,c.useState)(!1),[N,F]=(0,c.useState)(void 0),{sendAnalyticsEvent:_}=(0,aK.s)(),{addThreadReply:L}=n,w=(0,c.useRef)(null),T=e=>{F(e),I(!0)};if(null===h.commentsData.comments||h.commentsData.comments.length<1)return null;let A=function(e){if(!e||"LINE"!==e.subjectType||!e.subject)return;let t=e.subject.startDiffSide??e.subject.endDiffSide;if(!t)return;if(e.isOutdated&&e.subject.originalStartLine&&e.subject.originalEndLine)return{endLineNumber:e.subject.originalEndLine,endOrientation:e.subject.endDiffSide||"RIGHT",startLineNumber:e.subject.originalStartLine,startOrientation:t};if(!e.subject.endLine||!e.subject.endDiffSide)return;let a=e.subject.startLine??e?.subject.endLine;return{endLineNumber:e.subject.endLine,endOrientation:e.subject.endDiffSide,startLineNumber:a,startOrientation:t||"RIGHT"}}(h),E="LINE"===h.subjectType?{lineRange:A}:void 0;return(0,i.jsx)("div",{"data-testid":"review-thread",children:(0,i.jsxs)(aD.az,{sx:k?{maxHeight:"40vh",overflowY:"auto"}:{},children:[!r&&h.isOutdated&&(0,i.jsx)(nf,{subject:h.subject,tabSize:f??4}),h.commentsData.comments.map((e,t)=>(0,i.jsx)(ng,{enterDialogMode:u,isAnchorable:!0,index:t,threadPositionNumber:y,isFirstComment:0===t,isInlineComment:o,isLastChild:t===h.commentsData.comments.length-1,anchorPrefix:a,comment:e,commentConnectionId:h.commentsData.__id,commentingImplementation:n,filePath:s,isOutdated:h.isOutdated,repositoryId:m,subject:p,subjectId:g,threadId:h.id,onRefreshThread:d,onQuoteReply:T,threadCommentCount:h.commentsData.comments.length,threadsConnectionId:b,isThreadResolved:!!h.isResolved,suggestedChangesConfig:x,applySuggestedChangesValidationData:E,viewerData:v,ghostUser:j},e.id)),h.reviewCommentsLimitExceeded&&(0,i.jsx)(eD.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:`Only the first ${(h.reviewCommentsLimit||0)-1} replies are currently being shown.`,className:"m-3"}),h.viewerCanReply&&(0,i.jsxs)("div",{className:"rounded-bottom-2 p-2",children:[S&&(0,i.jsx)(aY,{batchingEnabled:e,batchPending:t,commentBoxSubject:n.commentBoxSubject,condensed:!1,fileLevelComment:!0,filePath:s,focusOnMount:!0,isReplying:!0,onCancelComment:()=>{I(!1),_("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON"),C.cg?.requestAnimationFrame(()=>w.current?.focus())},repositoryId:m,quotedText:N,subjectId:g,threadId:h.id,onAddComment:({commentText:e,onCompleted:t,onError:a,submitBatch:n})=>{let i=[];h.commentsData.__id&&i.push(h.commentsData.__id),l&&i.push(l),L({commentsConnectionIds:i,filePath:s,thread:h,text:e,submitBatch:n,onCompleted:e=>{e&&aO(e.toString()),t?.(),d?.(h.id)},onError:a,threadsConnectionId:b}),_("comments.add","ADD_COMMENT_BUTTON")},suggestedChangesConfig:x}),!S&&(0,i.jsx)(aV.z,{ref:w,onClick:()=>{_("comments.start_thread_reply","REPLY_TO_THREAD_INPUT_BUTTON"),I(!0)},children:"Write a reply"})]})]})})}try{nh.displayName||(nh.displayName="ReviewThread")}catch{}function ny({children:e}){return(0,i.jsx)("span",{className:"text-semibold fgColor-default",children:e})}function nb({thread:e}){return void 0!==e&&e?.diffSide&&e.line?e.startLine&&e.startDiffSide?nx({thread:e}):nk({thread:e}):null}function nk({thread:e}){let t="LEFT"===e.diffSide?"L":"R";return(0,i.jsxs)("h2",{className:aM,children:["Comment on line"," ",(0,i.jsxs)(ny,{children:[t,e.line]})]})}function nx({thread:e}){let t="LEFT"===e.startDiffSide?"L":"R",a="LEFT"===e.diffSide?"L":"R";return(0,i.jsxs)("h2",{className:aM,children:["Comment on lines"," ",(0,i.jsxs)(ny,{children:[t,e.startLine]})," ","to"," ",(0,i.jsxs)(ny,{children:[a,e.line]})]})}function nv({commentingImplementation:e,fileAnchor:t,filePath:a,threadId:n,threadPositionNumber:l,isOutdated:s,threads:r,threadsConnectionId:d,isFirstThread:m,enterDialogMode:p,ghostUser:g,manuallyUpdateCommentsWithThisThreadId:f,suggestedChangesConfig:h,...y}){let[b,k]=(0,c.useState)(void 0),{fetchThread:x,shouldRefetchThread:v}=e,C=(0,c.useRef)(null),j=(0,aE.A)("localStorage"),S=b?.isResolved,[I,N]=(0,c.useState)(""),[_,w]=(0,c.useState)(S??!1);(0,c.useEffect)(()=>{let e=localStorage.getItem(`reviewThreadIsCollapsed_${n}`);null!==e?w(JSON.parse(e)):S&&w(!0)},[S,n]);let T=(0,c.useCallback)(async(e,t=!0)=>{k(await x(e,t))},[x]);(0,c.useEffect)(()=>{T(n,!1)},[T,f,n]),av({commentSubjectType:e.commentSubjectType,markerRef:C,isThread:!0,thread:b}),(0,c.useEffect)(()=>{b||T(n,!1)},[n,b,x,T]);let A=(0,c.useMemo)(()=>{if(t&&b&&b.subject?.startDiffSide&&b.subject?.endDiffSide&&b.subject?.startLine&&b.subject?.endLine&&h?.configureSuggestedChangesFromLineRange){let e=b.subject?.startLine??b?.subject?.endLine,a=b.subject?.startDiffSide??b?.subject?.endDiffSide,n={diffAnchor:t,endLineNumber:b?.subject?.endLine,endOrientation:b.subject?.endDiffSide==="LEFT"?"left":"right",startLineNumber:e,firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===a?"left":"right",startOrientation:"LEFT"===a?"left":"right"};return h?.configureSuggestedChangesFromLineRange(n)}},[t,b,h]);(0,c.useEffect)(()=>{b&&v?.(b)&&T(n,!0)},[T,v,b,n,r]);let{sendAnalyticsEvent:E}=(0,aK.s)(),{resolveThread:K,unresolveThread:P,resolvingEnabled:D}=e,R=r.find(e=>e.id===n);if(!b||!(b.commentsData.comments.length>0))return null;let M=!!b.isResolved,V=R?.commentsConnectionId,O=D&&b.commentsData.comments.some(e=>e.state?.toUpperCase()!=="PENDING");return(0,i.jsx)(o.t,{fallback:(0,i.jsx)(aR,{}),children:(0,i.jsxs)("div",{className:"rounded-2 bgColor-default",ref:C,children:[(0,i.jsxs)("div",{className:(0,F.$)("px-1","InlineReviewThread-module__ReviewThreadContainer--m84Gi"),children:[(0,i.jsx)(aD.K0,{"aria-label":_?"Expand comment":"Collapse comment",icon:_?u.ChevronRightIcon:u.ChevronDownIcon,size:"small",variant:"invisible",onClick:()=>{window.requestAnimationFrame(()=>{j.setItem(`reviewThreadIsCollapsed_${n}`,JSON.stringify(!_))}),w(e=>!e)},"data-is-first-collapse-button":m}),(0,i.jsx)(nb,{thread:R}),(0,i.jsxs)("div",{className:"InlineReviewThread-module__ResolvableContainer--yhxaM",children:[M&&(0,i.jsx)(z.A,{variant:"secondary",children:"Resolved"}),O&&(0,i.jsx)(aP.m,{text:M?"Unresolve conversation":"Resolve conversation",type:"label",direction:"w",id:"resolve-conversation",children:(0,i.jsx)(aD.K0,{"aria-labelledby":"resolve-conversation",icon:M?u.CheckCircleFillIcon:u.CheckCircleIcon,sx:{color:M?"var(--fgColor-done, var(--color-done-fg)) !important":void 0},variant:"invisible",onClick:M?()=>{b&&(P({threadId:b.id,onCompleted:()=>{v||T(b.id),w(!1),j.removeItem(`reviewThreadIsCollapsed_${n}`)},onError:()=>{N("Failed to unresolve thread")}}),E("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))}:()=>{b&&(K({threadId:b.id,onCompleted:()=>{v||T(b.id),w(!0),j.removeItem(`reviewThreadIsCollapsed_${n}`)},onError:()=>{N("Failed to resolve thread")}}),E("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON"))}})})]})]}),(0,i.jsxs)(c.Suspense,{fallback:(0,i.jsxs)("div",{className:"InlineReviewThread-module__ThreadLoading--E5i0R",children:[(0,i.jsx)(tC.A,{}),(0,i.jsx)("p",{children:"Loading comments"})]}),children:[I&&(0,i.jsxs)(L.A,{variant:"danger",className:"m-2",children:[(0,i.jsx)(u.StopIcon,{className:"mr-2"}),I]}),!_&&(0,i.jsx)(nh,{enterDialogMode:p,commentingImplementation:e,commentsConnectionId:V,filePath:a,isInlineComment:!0,onRefreshThread:T,thread:b,threadPositionNumber:l,threadsConnectionId:d,suggestedChangesConfig:A,shouldLimitHeight:!1,...y,ghostUser:g})]})]})})}try{ny.displayName||(ny.displayName="Emphasis")}catch{}try{nb.displayName||(nb.displayName="ThreadBanner")}catch{}try{nk.displayName||(nk.displayName="SingleLineThreadBanner")}catch{}try{nx.displayName||(nx.displayName="MultineLineThreadBanner")}catch{}try{nv.displayName||(nv.displayName="InlineReviewThread")}catch{}let nC={[e3]:0,[e7]:1,[e8]:2};function nj(e){return(0,i.jsx)(ay,{children:(0,i.jsx)(nS,{...e})})}function nS({annotations:e,children:t,commentingImplementation:a,conversationListThreads:n,inlineMarkersRef:l,isMarkerListOpen:s,isRowSelected:r,fileAnchor:o,filePath:d,gutterSizeOffset:m,lineType:p,onAnnotationSelected:g,onCloseConversationList:f,onCloseFocusMode:h,onThreadSelected:y,returnFocusRef:b,selectedAnnotationId:k,selectedThreadId:x,threadsConnectionId:v,suggestedChangesConfig:C,manuallyUpdateCommentsWithThisThreadId:j,ghostUser:S,enterDialogMode:I,...N}){let[_,L]=(0,c.useState)({}),w=(0,c.useCallback)(async e=>{let t=await a.fetchThread(e,!1);t&&n.push(t),L({})},[a,n]);(0,c.useEffect)(()=>{0===n.length&&j&&""!==j&&w(j)},[a,n.length,w,j]);let{isInDialogMode:T,enableInlineCommentDialogMode:A}=ai(),E=(0,c.useRef)(null),K=(0,c.useMemo)(()=>[...e].sort((e,t)=>nC[e.annotationLevel]-nC[t.annotationLevel]),[e]),P=(0,c.useMemo)(()=>t?[...n,{id:"new-comment"},...K]:[...n,...K],[t,n,K]);return!function({containerRef:e,markers:t,disabled:a=!1,focusInStrategy:n="previous",selectedMarkerId:l}){let i=(0,c.useRef)(void 0),s=(0,c.useRef)(void 0);(0,c.useEffect)(()=>{s.current=new MarkerNavigator(t,i.current?.focusedMarker?.id||l||void 0),i.current=s.current},[t,l]);let r=(0,c.useCallback)((e,t,a)=>{let n=a.key,l=!t?.hasAttribute("data-marker-id")&&!t?.hasAttribute("data-marker-navigation-comment-id");switch(!0){case l&&("ArrowUp"===n||"ArrowDown"===n||"ArrowRight"===n||"ArrowLeft"===n):return t?.closest("[data-marker-navigation-comment-id]")||t?.closest("[data-marker-id]")||void 0;case"ArrowUp"===n||"ArrowDown"===n:if(s.current&&t?.hasAttribute("data-marker-id")){let e=s.current.moveToNextMarker(n,t);if(e)return document.querySelector(`[data-marker-id="${e.id}"]`)||void 0;return t}if(s.current&&t?.hasAttribute("data-marker-navigation-comment-id")){let e=s.current.moveToNextMarkerItem(n,t);if(e)return document.querySelector(`[data-marker-navigation-comment-id="${e.id}"]`)||void 0}return t;case"ArrowRight"===n:if(t?.hasAttribute("data-marker-navigation-comment-id"))return t;if(t?.hasAttribute("data-marker-id"))return t?.querySelector('[data-first-thread-comment="true"]')||void 0;return t;case"ArrowLeft"===n:if(t?.hasAttribute("data-marker-id"))return t;if(t?.hasAttribute("data-marker-navigation-comment-id"))return t?.closest("[data-marker-id]")||void 0;return t;default:return t??void 0}},[s]);(0,tL.G)({containerRef:e,bindKeys:ab,getNextFocusable:r,focusableElementFilter:e=>e.hasAttribute("data-marker-id")||e.hasAttribute("data-marker-navigation-comment-id"),focusInStrategy:n,disabled:a},[r,a])}({containerRef:E,markers:P,disabled:!T,selectedMarkerId:x}),(0,i.jsxs)("div",{className:(0,F.$)("d-flex pt-1",T?"InlineMarkers-module__markersDialogActive--NvAFu":""),style:T?{marginRight:`-${m}`,backgroundColor:tu(p,!0,r)}:{marginRight:`-${m}`},onFocus:()=>{T||A()},"data-inline-markers":!0,ref:l,children:[(0,i.jsxs)("div",{className:"InlineMarkers-module__markersWrapper--PUwBK",ref:E,children:[n.map((e,t)=>(0,i.jsx)("div",{className:(0,F.$)("mt-1 border rounded-2 color-border-default color-shadow-small",t===P.length-1?"mb-1":"mb-2"),"data-first-marker":0===t,"data-marker-id":`${e.id}`,tabIndex:T?0:-1,children:(0,i.jsx)(nv,{threadPositionNumber:t+1,manuallyUpdateCommentsWithThisThreadId:j,enterDialogMode:I,isFirstThread:0===t,commentingImplementation:a,filePath:d,fileAnchor:o,threadId:e.id,isOutdated:e.isOutdated,threads:n,threadsConnectionId:v,onThreadSelected:y,suggestedChangesConfig:C,ghostUser:S,...N})},`review-thread-${e.id}`)),t,K.map((e,t)=>{let n=0===t&&e===P[0];return(0,i.jsx)(aA,{annotation:e,commentingImplementation:a,isFirstMarker:n},`annotation-${e.id}`)})]}),T&&(0,i.jsx)(H.K,{icon:u.UndoIcon,className:(0,F.$)("InlineMarkers-module__closeMarkersDialogButton--kjk9B","ml-2 position-relative",0===n.length?"mt-2":"mt-1"),"aria-label":"Return to code","data-exit-dialog-mode-button":"true",variant:"default",size:"small",onMouseUp:h,onKeyDown:e=>{("Enter"===e.key||"Space"===e.code)&&h()}})]})}try{nj.displayName||(nj.displayName="InlineMarkers")}catch{}try{nS.displayName||(nS.displayName="InlineMarkersInternal")}catch{}var nI=a(31604),nN=a(81960);function nF({addCommentDialogTitle:e,isLeftSide:t,filePath:a,lineNumber:n,onAddComment:l,onClose:s,viewerData:r,threadsConnectionId:o,showOnCloseIcon:d=!0,...c}){return(0,i.jsxs)("div",{className:"px-2 pb-2 pt-1",children:[(0,i.jsxs)("div",{className:"d-flex flex-justify-between flex-items-center",children:[(0,i.jsxs)(nN.A,{as:"h4",className:"f5 ml-1 pt-1 pb-2",children:[(0,i.jsx)(aC.r,{alt:r.login,size:24,src:r.avatarUrl||"",className:"mr-2"}),(0,i.jsx)("span",{children:e??"Add a comment"})]}),s&&d&&(0,i.jsx)(H.K,{variant:"invisible",icon:u.XIcon,onClick:s,"aria-label":"Cancel"})]}),(0,i.jsx)(aY,{focusOnMount:!0,condensed:!1,fileLevelComment:!1,filePath:a,lineNumber:n,onAddComment:({commentText:e,onCompleted:t,onError:n,submitBatch:i})=>{l({text:e,onError:n,onCompleted:(e,a)=>{a&&aO(a.toString()),t?.(e,a)},submitBatch:i,filePath:a,threadsConnectionId:o})},onCancelComment:s,side:t?"LEFT":"RIGHT",...c})]})}try{nF.displayName||(nF.displayName="StartThreadComment")}catch{}function n_({align:e="end",anchorRef:t,isOpen:a,isDialog:n=!0,returnFocusRef:l,onCloseCommentDialog:s,suggestedChangesConfig:r,...o}){let{sendAnalyticsEvent:d}=(0,aK.s)(),{isInDialogMode:u}=ai(),m=(0,c.useMemo)(()=>{if(a&&r?.configureSuggestedChangesFromLineRange)return r.configureSuggestedChangesFromLineRange(r?.selectedDiffRowRange,r?.shouldStartNewConversationWithSuggestedChange)},[a,r]);return a?n?(0,i.jsx)(nI.T,{align:e,anchorRef:t,focusZoneSettings:{disabled:!0},open:a,renderAnchor:null,focusTrapSettings:{disabled:!0},overlayProps:{id:"conversation-dialog",role:"dialog",width:"xlarge",preventOverflow:!1,returnFocusRef:l,style:{borderRadius:"8px"},"aria-label":"Add a comment",onClickOutside:eb.l,onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}},onClose:s,children:(0,i.jsx)(nF,{onClose:()=>{s(),d("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},suggestedChangesConfig:m,...o})}):(0,i.jsx)("div",{className:"rounded-2 bgColor-default","data-marker-id":"new-comment",tabIndex:u?0:-1,children:(0,i.jsx)(nF,{onClose:()=>{s(),d("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},showOnCloseIcon:!1,suggestedChangesConfig:m,...o})}):null}try{n_.displayName||(n_.displayName="StartConversation")}catch{}function nL({cellId:e,actionBarRef:t,onOpenInLineThread:a}){let{replaceSelectedDiffRowRange:n}=tf(),{fileAnchor:l}=tF(),[i,s]=(0,c.useState)(t),{annotations:r,openDialog:o,closeDialog:d,selectedAnnotationId:u,selectAnnotationId:m,selectedThreadId:p,selectThreadId:g,openContextMenuCell:f,openNewConversationCell:h,openMarkerDetailsCell:y,threads:b,anyMenuOpen:k}=au(),{sendAnalyticsEvent:x}=(0,aK.s)(),v=(0,c.useMemo)(()=>h?.cellId===e,[e,h]),C=(0,c.useMemo)(()=>h?.withSuggestedChange,[h]),j=(0,c.useCallback)(t=>{a?.(),o("new-conversation",e,t)},[e,a,o]),S=(0,c.useCallback)(()=>{j()},[j]),I=(0,c.useCallback)(()=>{j({withSuggestedChange:!0}),x("diff.start_new_conversation_with_suggested_change","CELL_CONTEXT_MENU")},[j,x]),N=(0,c.useCallback)(()=>{d("new-conversation")},[d]),F=(0,c.useMemo)(()=>f===e,[e,f]),_=(0,c.useCallback)(()=>{o("context-menu",e)},[e,o]),L=(0,c.useCallback)(()=>{s(t),_()},[t,_]),w=(0,c.useCallback)(()=>{d("context-menu")},[d]),T=(0,c.useCallback)(()=>{F?w():_()},[w,F,_]),A=(0,c.useCallback)(()=>{s(t),T()},[t,T]),E=(0,c.useMemo)(()=>y===e?p:void 0,[e,y,p]),K=(0,c.useMemo)(()=>y===e?u:void 0,[e,y,u]),P=(0,c.useCallback)(()=>{a?.()},[a]),D=tp((e,t={skipLineSelection:!1})=>{if(g(e),P(),t.skipLineSelection)return;let a=b.find(t=>t.id===e);if(a&&a.diffSide&&a.line){let e=a.startLine??a.line,t=a.startDiffSide??a.diffSide;n({diffAnchor:l,endLineNumber:a.line,endOrientation:"LEFT"===a.diffSide?"left":"right",startLineNumber:e,startOrientation:"LEFT"===t?"left":"right",firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===t?"left":"right"})}});return{isNewConversationDialogOpen:v,startNewConversation:S,closeNewConversation:N,startNewConversationWithSuggestedChange:I,shouldStartNewConversationWithSuggestedChange:C,isContextMenuOpen:F,openContextMenu:_,openContextMenuFromActionBar:L,closeContextMenu:w,toggleContextMenu:T,toggleContextMenuFromActionBar:A,optimizedSelectedThreadId:E,optimizedSelectedAnnotationId:K,selectThread:D,selectAnnotation:tp((e,t={skipLineSelection:!1})=>{if(m(e),P(),t.skipLineSelection)return;let a=r.find(t=>t.id===e);a&&n({diffAnchor:l,endLineNumber:a.endLine,endOrientation:"right",startLineNumber:a.startLine,startOrientation:"right",firstSelectedLineNumber:a.startLine,firstSelectedOrientation:"right"})}),openMarkersDialog:P,closeMarkerListDialog:(0,c.useCallback)(()=>{d("marker-list")},[d]),annotations:r,returnFocusRef:i,threads:b,anyMenuOpen:k}}function nw({cellRef:e}){let{showActionBar:t,hideActionBar:a,anyMenuOpen:n}=au(),[l,i]=(0,c.useState)(!1),s=(0,c.useCallback)(()=>{t()},[t]),r=(0,c.useCallback)(t=>{n||e.current&&e.current.contains(t.relatedTarget)||a()},[n,e,a]),o=(0,c.useCallback)(()=>{t()},[t]),d=(0,c.useCallback)(()=>{n||e.current===document.activeElement||e.current?.contains(document.activeElement)||a()},[n,e,a]),u=(0,c.useCallback)(t=>{e.current&&(n||(e.current.contains(t.relatedTarget)?e.current===t.relatedTarget&&i(!1):(a(),i(!1))))},[n,e,a]);return{isActionBarFocused:l,handleCellBlur:r,handleCellFocus:s,handleCellMouseEnter:o,handleCellMouseLeave:d,handleActionBarBlur:u,handleActionBarFocusCapture:(0,c.useCallback)(e=>{n||(e.stopPropagation(),i(!0))},[n]),handleActionBarKeydownCapture:(0,c.useCallback)(e=>{!n&&t6(e.key)&&e.stopPropagation()},[n])}}function nT({fileAnchor:e}){let{isSplit:t,isLeftSide:a,diffLine:n}=tF(),{selectedDiffRowRange:l}=tf(),{getDiffSingleLineCode:i,getUnifiedDiffMultiLineCode:s,getSplitDiffMultiLineCode:r}=function(e,t){let{selectedDiffLines:a,getDiffLinesByDiffAnchor:n}=tf();return{getUnifiedDiffMultiLineCode:()=>{let a=n(e);if(!a||!t)return"";let{startOrientation:l,endOrientation:i,startLineNumber:s,endLineNumber:r}=t,o=0,d=0;return a.length>1&&(o=a.findIndex(e=>"left"===l?e.left===s:e.right===s),d=a.findIndex(e=>"left"===i?e.left===r:e.right===r)),tc(a.slice(o,d+1))},getDiffSingleLineCode:(t,a)=>{if(!t||!a)return"";let l=n(e)?.find(e=>"left"===t?e.left===a:e.right===a);return l?tc([l]):""},getSplitDiffMultiLineCode:e=>void 0===e?"":"left"===e?tc(a.leftLines):tc(a.rightLines)}}(e,l);return(0,c.useCallback)(async()=>{let e=window.getSelection();e&&""!==e.toString()?document.execCommand("copy"):void 0===l||l?.startOrientation===l?.endOrientation&&l?.startLineNumber===l?.endLineNumber?await (0,ap.D)(i(a?"left":"right",a?n?.left:n?.right)):t?await (0,ap.D)(r(a?"left":"right")):await (0,ap.D)(s())},[l,t,s,i,a,n?.left,n?.right,r])}function nA(e,t){switch(t){case"SHOW_MARKERS":return{userMinimized:!1,showMarkers:!0};case"USER_EXPANDED_MARKERS":return{showMarkers:!0,userMinimized:!1};case"USER_MINIMIZED_MARKERS":return{userMinimized:!0,showMarkers:!1};case"USER_EXITED_MARKERS_DIALOG":return{...e,showMarkers:!1}}}var nE=a(21513);let nK="ActionBar-module__actionBarHeight--rjbc7";var nP=a(94602);let nD={compact:{avatarSize:18},relaxed:{avatarSize:20}};function nR({shouldAnimateRef:e,lineSpacingPreference:t="relaxed"}){let{diffLine:a}=tF(),{ghostUser:n}=e0();(0,c.useEffect)(()=>{e?.current&&(e.current=!1)},[e]);let{avatarSize:l}=nD[t],s=(a.threadsData?.totalCommentsCount||0)+(a.annotationsData?.totalCount||0);if(0===s)return null;let r={},o=[];a.annotationsData?.annotations?.map(e=>{e?.annotationLevel&&o.push({id:e.id,level:e.annotationLevel})}),a.threadsData?.threads?.map(e=>e?.commentsData?.comments?.map(e=>{e?.author?r[e?.author.login]=e.author:n?.login&&(r[n.login]=n)}));let d=[...o.sort((e,t)=>(aL[e.level]?.priority||0)<(aL[t.level]?.priority||0)?-1:1).map(t=>e?.current?(0,i.jsx)(a_,{annotationLevel:t.level},t.id):(0,i.jsx)(aN,{annotationLevel:t.level},t.id)),...Object.keys(r).map(e=>{let t=r[e]?.login,a=r[e]?.avatarUrl??(n?.avatarUrl||" ");return(0,i.jsx)(aC.r,{alt:t,size:20,src:a},t)})].slice(0,3),u=s>9?"9+":`${s}`;return(0,i.jsxs)("div",{className:(0,F.$)("d-flex","flex-justify-between","flex-items-center","CommentIndicator-module__commentIndicatorContainer--js8be"),children:[(0,i.jsx)(nP.A,{disableExpand:!0,size:l,className:(0,F.$)("CommentIndicator-module__AvatarStack--jEc1l","relaxed"===t?"CommentIndicator-module__Relaxed--BloMn":"CommentIndicator-module__Compact--ZE18o"),children:d}),(0,i.jsx)("span",{className:(0,F.$)("fgColor-default","ml-1","CommentIndicator-module__textStyles--F0_Xp"),children:u})]})}try{nR.displayName||(nR.displayName="CommentIndicator")}catch{}var nM=a(89141),nV=a(29255);function nO(){let{nextHunk:e,currentHunk:t,previousHunk:a}=tF(),{addInjectedContextLines:n}=e0(),l=!!t&&0!==t.startBlobLineNumber,i=!!t&&!!e;return{expandStartOfHunk:()=>{l&&t&&n({start:Math.max(0,t.startBlobLineNumber-20),end:t.startBlobLineNumber})},expandEndOfHunk:()=>{i&&t&&n({start:t.endBlobLineNumber+1,end:t.endBlobLineNumber+1+20})},expandEndOfPreviousHunk:()=>{a&&n({start:a.endBlobLineNumber+1,end:a.endBlobLineNumber+1+20})},canExpandEndOfHunk:i,canExpandStartOfHunk:l}}let nB={left:"L",right:"R"},n$="Add comment",nU="Suggest change";function nH(e,t,a){let n=a&&!ta(t)?nB.left:nB.right;return`${e} on line ${n}${t.blobLineNumber}`}function nz({handleStartConversationWithSuggestedChange:e,handleStartConversation:t}){let a,n,l,{selectedDiffRowRange:s,selectedDiffLines:r,replaceSelectedDiffRowRange:o}=tf(),{commentingEnabled:d}=e0(),{diffLine:m,isLeftSide:p,isSplit:g,diffContext:f}=tF(),h=(0,c.useMemo)(()=>r.leftLines[0],[r.leftLines]),y=(0,c.useMemo)(()=>r.leftLines[r.leftLines.length-1],[r.leftLines]),b=(0,c.useMemo)(()=>r.leftLines.every(e=>!tt(e)&&"DELETION"!==e.type),[r.leftLines]),k=(0,c.useMemo)(()=>r.rightLines[0],[r.rightLines]),x=(0,c.useMemo)(()=>r.rightLines[r.rightLines.length-1],[r.rightLines]),v=(0,c.useMemo)(()=>0===r.rightLines.length,[r.rightLines]),C=(0,c.useMemo)(()=>0===r.leftLines.length,[r.leftLines]),j=(0,c.useMemo)(()=>!(r.leftLines.find(e=>!tt(e)&&!ta(e)&&"INJECTED_CONTEXT"!==e.type)||r.rightLines.find(e=>!tt(e)&&!ta(e)&&"INJECTED_CONTEXT"!==e.type)),[r.leftLines,r.rightLines]),S=(0,c.useCallback)((a,n)=>{!s||!y||!h||tt(y)||tt(h)||!h.left||!y.left||(o({diffAnchor:s.diffAnchor,endLineNumber:y.left,endOrientation:"left",startLineNumber:h.left,startOrientation:"left",firstSelectedLineNumber:h.left,firstSelectedOrientation:"left"}),n?.withSuggestedChange?e():t())},[s,y,h,o,e,t]),I=(0,c.useCallback)((a,n)=>{!s||!x||!k||tt(x)||tt(k)||!k.right||!x.right||(o({diffAnchor:s.diffAnchor,endLineNumber:x.right,endOrientation:"right",startLineNumber:k.right,startOrientation:"right",firstSelectedLineNumber:k.right,firstSelectedOrientation:"right"}),n?.withSuggestedChange?e():t())},[s,x,k,o,e,t]),N="DELETION"!==m.type&&("pr"===f||void 0===f),F=(0,c.useMemo)(()=>!!s&&(s.startOrientation!==s.endOrientation||s.startLineNumber!==s.endLineNumber),[s]);if(!d)return null;let _=!1,L=!1;if(s&&F){let r=nB[s.startOrientation],o=nB[s.endOrientation];return l=` on lines ${r}${s.startLineNumber}-${o}${s.endLineNumber}`,!tt(h)&&!tt(y)&&h&&y&&(_=!0,a=h.left===y.left?v?` on line L${h.left}`:`, original line L${h.left}`:v?` on lines L${h.left}-L${y.right}`:`, original lines L${h.left}-L${y.left}`),!tt(k)&&!tt(x)&&k&&x&&(L=!0,n=k.right===x.right?C||g&&j?` on line R${k.right}`:`, modified line R${x.right}`:C||g&&j?` on lines R${k.right}-R${x.right}`:`, modified lines R${k.right}-R${x.right}`),(0,i.jsx)(i.Fragment,{children:g?(0,i.jsx)(i.Fragment,{children:j?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(es.l.Item,{onSelect:I,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusIcon,{})}),n$+n,(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)(nV.U,{keys:"Alt+n"})})]}),(0,i.jsxs)(es.l.Item,{onSelect:e=>I(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusCircleIcon,{})}),nU+n]})]}):(0,i.jsxs)(i.Fragment,{children:[_?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(es.l.Item,{onSelect:S,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusIcon,{})}),n$+a,(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)(nV.U,{keys:v?"Alt+n":"Alt+Shift+N"})})]}),b&&(0,i.jsxs)(es.l.Item,{onSelect:e=>S(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusCircleIcon,{})}),nU+a]})]}):null,L?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(es.l.Item,{onSelect:I,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusIcon,{})}),n$+n,(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)(nV.U,{keys:"Alt+n"})})]}),(0,i.jsxs)(es.l.Item,{onSelect:e=>I(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusCircleIcon,{})}),nU+n]})]}):null]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(es.l.Item,{onSelect:t,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusIcon,{})}),n$+l]}),N&&b&&(0,i.jsxs)(es.l.Item,{onSelect:e,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusCircleIcon,{})}),nU+l]})]})})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(es.l.Item,{onSelect:t,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusIcon,{})}),nH(n$,m,p)]}),N&&(0,i.jsxs)(es.l.Item,{onSelect:e,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.PlusCircleIcon,{})}),nH(nU,m,p)]})]})}try{nz.displayName||(nz.displayName="StartConversationContextMenuItems")}catch{}function nq(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nY,{...e}),(0,i.jsx)(nQ,{fileDiffReference:e.copilotChatReference}),(0,i.jsx)(n2,{handleCopyCode:e.handleCopyCode}),(0,i.jsx)(nX,{}),(0,i.jsx)(nG,{}),(0,i.jsx)(n4,{})]})}function nG(){let{diffLine:e,fileAnchor:t}=tF(),{selectedDiffRowRange:a}=tf(),n=(0,c.useCallback)(()=>{let n=ts({line:e,range:a,fileAnchor:t});n&&(0,ap.D)(n)},[t,e,a]);return(0,i.jsxs)(es.l.Item,{onSelect:n,onMouseDown:e=>{window.getSelection()?.toString()!==""&&e.preventDefault()},children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.LinkIcon,{})}),"Copy link",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)(nV.U,{keys:"Mod+Alt+y"})})]})}function nW(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n3,{}),(0,i.jsx)(nX,{})]})}let nQ=e=>{let{selectedDiffRowRange:t}=tf(),{diffLine:a,isLeftSide:n,fileAnchor:l}=tF(),s=((e,t,a,n)=>{let l;if(e)return e;if(!tt(t)){let e=(a?t.left:t.right)??0,i=a?"left":"right";l={startOrientation:i,endOrientation:i,startLineNumber:e,endLineNumber:e,firstSelectedLineNumber:e,firstSelectedOrientation:i,diffAnchor:n}}return l})(t,a,n,l);return e.fileDiffReference?(0,i.jsx)(nM.w,{showDivider:!0,selectedRange:s,fileDiffReference:e.fileDiffReference}):null};function nX(){let{fileAnchor:e}=tF();return(0,i.jsxs)(es.l.Item,{onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${e}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"a",code:"KeyA",ctrlKey:!0}))})},children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.MultiSelectIcon,{})}),"Select all",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)(nV.U,{keys:"Mod+a"})})]})}function nY({handleViewMarkersSelection:e,shouldDisplayCollapseComments:t,showStartConversation:a,startConversationCurrentLine:n,startConversationWithSuggestedChange:l}){let{commentingEnabled:s}=e0(),{annotations:r,threads:o}=au(),d=r.length>0;return s&&(a||o||d)?(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsx)(nz,{handleStartConversation:n,handleStartConversationWithSuggestedChange:l}),(0,i.jsx)(nJ,{handleViewMarkersSelection:e,shouldDisplayCollapseComments:t}),(0,i.jsx)(es.l.Divider,{})]}):null}function nJ({handleViewMarkersSelection:e,shouldDisplayCollapseComments:t}){let{commentingEnabled:a}=e0(),{isSplit:n}=tF(),{viewerData:l}=e0();return a&&l.commentsPreference!==y.sI.Visible?n?(0,i.jsx)(nZ,{handleViewMarkersSelection:e,shouldDisplayCollapseComments:t}):(0,i.jsx)(n0,{onSelect:()=>e(),shouldDisplayCollapseComments:t}):null}function nZ({handleViewMarkersSelection:e,shouldDisplayCollapseComments:t}){let{originalLineHasThreads:a,modifiedLineHasThreads:n,isLeftSide:l}=tF(),{annotations:s}=au(),r=s.length>0;return l?(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsx)(n1,{text:t?"Collapse comments":"Expand comments",onSelect:()=>e("LEFT")}),(n||r)&&(0,i.jsx)(n1,{text:t?"Collapse comments, modified line":"Expand comments, modified line",onSelect:()=>e("RIGHT")})]}):(0,i.jsxs)(i.Fragment,{children:[(n||r)&&(0,i.jsx)(n1,{text:t?"Collapse comments":"Expand comments",onSelect:()=>e("RIGHT")}),a&&(0,i.jsx)(n1,{text:t?"Collapse comments, original line":"Expand comments, original line",onSelect:()=>e("LEFT")})]})}function n0({onSelect:e,shouldDisplayCollapseComments:t}){let{ghostUser:a}=e0(),{diffLine:n}=tF(),{annotations:l}=au();return n&&t_(n.threadsData,a).length>0||l.length>0?(0,i.jsx)(n1,{text:t?"Collapse comments":"Expand comments",onSelect:()=>e()}):null}function n1({onSelect:e,text:t}){return(0,i.jsxs)(es.l.Item,{onSelect:e,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.CommentDiscussionIcon,{})}),t]})}function n2({handleCopyCode:e}){return(0,i.jsxs)(es.l.Item,{onSelect:e,onMouseDown:e=>{window.getSelection()?.toString()!==""&&e.preventDefault()},children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.CopyIcon,{})}),"Copy",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)(nV.U,{keys:"Mod+c"})})]})}function n4(){let{canExpandStartOfHunk:e,canExpandEndOfHunk:t}=nO(),{previousHunk:a,nextHunk:n}=tF();return e||t||a||n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(es.l.Divider,{}),(0,i.jsx)(n3,{}),(0,i.jsx)(n8,{})]}):null}function n3(){let{canExpandStartOfHunk:e,expandEndOfHunk:t,expandStartOfHunk:a,canExpandEndOfHunk:n}=nO();return(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsxs)(es.l.Item,{onSelect:a,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.FoldUpIcon,{})}),"Expand above"]}),n&&(0,i.jsxs)(es.l.Item,{onSelect:t,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.FoldDownIcon,{})}),"Expand below"]})]})}function n8(){let{previousHunk:e,nextHunk:t}=tF(),{fileAnchor:a}=tF();return(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsxs)(es.l.Item,{"aria-keyshortcuts":"PageDown",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${a}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageDown"}))})},children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.MoveToBottomIcon,{})}),"Go to next hunk",(0,i.jsx)(es.l.TrailingVisual,{children:"Page Down"})]}):null,e?(0,i.jsxs)(es.l.Item,{"aria-keyshortcuts":"PageUp",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${a}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))})},children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.MoveToTopIcon,{})}),"Go to previous hunk",(0,i.jsx)(es.l.TrailingVisual,{children:"Page Up"})]}):null]})}try{nq.displayName||(nq.displayName="CellContextMenu")}catch{}try{nG.displayName||(nG.displayName="CopyAnchorLink")}catch{}try{nW.displayName||(nW.displayName="EmptyCellContextMenu")}catch{}try{nX.displayName||(nX.displayName="SelectAllListItem")}catch{}try{nY.displayName||(nY.displayName="MarkerListItems")}catch{}try{nJ.displayName||(nJ.displayName="ViewMarkerListItems")}catch{}try{nZ.displayName||(nZ.displayName="SplitDiffMarkersListItems")}catch{}try{n0.displayName||(n0.displayName="UnifiedDiffMarkerListItem")}catch{}try{n1.displayName||(n1.displayName="MarkerListItem")}catch{}try{n2.displayName||(n2.displayName="CopyContentListItems")}catch{}try{n4.displayName||(n4.displayName="HunkListItems")}catch{}try{n3.displayName||(n3.displayName="ExpandHunksListItems")}catch{}try{n8.displayName||(n8.displayName="JumpToHunkListItems")}catch{}var n7=a(17998);function n5({authorAvatarUrl:e,authorLogin:t,lineSpacingPreference:a,sx:n}){return(0,i.jsx)(n7.k,{altText:`${t}'s avatar image with pending indicator`,icon:u.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",square:!1,size:"compact"===a?18:20,src:e,sx:{...n},backgroundClassName:"InProgressCommentIndicator-module__InProgressCommentIndicatorBackground--zV0pN",className:"InProgressCommentIndicator-module__InProgressCommentIndicatorContainer--HrW1B"})}try{n5.displayName||(n5.displayName="InProgressCommentIndicator")}catch{}let n9=(0,c.forwardRef)(function({authorAvatarUrl:e,authorLogin:t,cellId:a,cellRef:n,showStartConversation:l,hasDraftComment:s,copilotChatReference:r,handleCopyCode:o,onOpenInLineThread:d,shouldDisplayCollapseComments:m,toggleViewingMarkers:p},g){let f=(0,c.useRef)(null),h=(0,c.useRef)(null),{commentingEnabled:b,viewerData:{lineSpacingPreference:k,commentsPreference:x}}=e0(),{diffLine:v}=tF(),C=(0,c.useRef)(null),j=f.current?f:h;(0,nE.T)(g,j);let S=v.threadsData?.totalCommentsCount||0,I=v.annotationsData?.totalCount||0,{isActionBarFocused:N,handleActionBarBlur:_,handleActionBarFocusCapture:L,handleActionBarKeydownCapture:w}=nw({cellRef:n}),{annotations:T,isContextMenuOpen:A,startNewConversation:E,startNewConversationWithSuggestedChange:K,anyMenuOpen:P,threads:D,toggleContextMenu:R,toggleContextMenuFromActionBar:M}=nL({cellId:a,actionBarRef:C,onOpenInLineThread:d}),V=b&&S+I>0&&x===y.sI.Collapsed,O=b&&l,B={onBlur:_,onFocusCapture:L,onKeyDownCapture:w};return(0,i.jsxs)(i.Fragment,{children:[O&&(0,i.jsx)("div",{"aria-hidden":!N,className:(0,F.$)("d-flex","flex-row","ActionBar-module__left-action-bar--B2Plj"),children:(0,i.jsx)(i.Fragment,{children:s?(0,i.jsx)($.Q,{"aria-label":"Continue comment in progress",size:"small",className:(0,F.$)("py-0","compact"===k?"ActionBar-module__left-action-bar-draft-compact--ru7MJ":"ActionBar-module__left-action-bar-draft-relaxed--nHQ2x",nK),onClick:E,...B,children:(0,i.jsx)(n5,{lineSpacingPreference:k,authorAvatarUrl:e,authorLogin:t})}):(0,i.jsx)($.Q,{icon:u.PlusIcon,"aria-label":"Add comment",ref:h,size:"small",className:(0,F.$)("fgColor-muted","bgColor-accent-emphasis","fgColor-onEmphasis","px-0","ActionBar-module__left-action-bar-new--Emc9g","ActionBar-module__addCommentButtonNew--EgyyF",nK,"ActionBar-module__actionBarStartCommentWidth--f77cS"),onClick:E,...B})})}),(0,i.jsx)("div",{"aria-hidden":!N,className:(0,F.$)("d-flex","flex-row","ActionBar-module__action-bar-position--INpbt"),children:(0,i.jsxs)(a6.A,{className:"ActionBar-module__action-bar-button-group--mW855",...B,children:[V&&(0,i.jsx)($.Q,{ref:f,"aria-expanded":P,"aria-label":"View comments",size:"small",className:(0,F.$)("py-0","px-1",nK),onClick:e=>{(1===D.length||1===T.length)&&e.preventDefault(),p?.()},children:(0,i.jsx)(nR,{lineSpacingPreference:k})}),(0,i.jsxs)(af.W,{anchorRef:C,open:A,onOpenChange:R,children:[(0,i.jsx)(af.W.Anchor,{children:(0,i.jsx)($.Q,{ref:C,"aria-haspopup":"true","aria-label":"More actions",icon:u.TriangleDownIcon,size:"small",className:(0,F.$)("fgColor-muted","ActionBar-module__actionBarArrowSizing--Fp2kh"),onClick:M})}),(0,i.jsx)(af.W.Overlay,{width:"medium",children:(0,i.jsx)(es.l,{children:(0,i.jsx)(nq,{shouldDisplayCollapseComments:m,copilotChatReference:r,showStartConversation:l,handleCopyCode:o,handleViewMarkersSelection:p,startConversationCurrentLine:E,startConversationWithSuggestedChange:K})})})]})]})})]})});n9.displayName="ActionBar";let n6="DiffHighlightedOverlay-module__visibilityHidden--OT0yL",le="DiffHighlightedOverlay-module__userSelectNone--ubGdL";function lt({searchResults:e,focusedSearchResult:t,className:a,styleObject:n}){let l=0,s=e[0]?.text??"",r=e[0]?.diffLineNumIndex??-1,o=`overlay-${r}-${s}`;return(0,i.jsxs)("span",{className:(0,F.$)(a,"position-absolute",le,!e[0].isHunk&&"DiffHighlightedOverlay-module__nonHunkStyles--JFK7K"),style:{...n},children:[e.map(e=>{var a,n;let r=e.indexWithinPathDigest===t,o=(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{className:(0,F.$)(n6,le),children:s.substring(l,e.column)}),(0,i.jsx)("span",{className:(0,F.$)(le,r&&"DiffHighlightedOverlay-module__focusedResultStyles--JG6X3",!r&&"DiffHighlightedOverlay-module__nonFocusedResultStyles--JUCld"),children:(0,i.jsx)("span",{className:(0,F.$)(!r&&n6),id:(a=e.indexWithinPathDigest,n=e.pathDigest,`match-${n}-${a}`),children:s.substring(e.column,e.columnEnd)})})]},`find-match-${e.diffLineNumIndex}-${e.column}`);return l=e.columnEnd,o}),(0,i.jsx)("span",{className:(0,F.$)(n6,le),children:s.substring(l)})]},o)}try{lt.displayName||(lt.displayName="DiffHighlightedOverlay")}catch{}function la({diffLine:e}){let t=function(e){let t=(e.annotationsData?.annotations??[]).length>0,a=(e.threadsData?.threads??[]).length>0;switch(!0){case t&&a:return"Code has comments and alerts. Press enter to view.";case a:return"Code has comments. Press enter to view.";case t:return"Code has alerts. Press enter to view.";default:return""}}(e);return t?(0,i.jsx)("span",{className:"sr-only user-select-none",children:t}):null}try{la.displayName||(la.displayName="DiffLineScreenReaderSummary")}catch{}let ln=["CONTEXT","INJECTED_CONTEXT"];function ll(e){let{rowId:t}=tF();if(t)return te(t,e)}let li=(0,c.forwardRef)(function({children:e,ContextMenu:t,className:a,columnIndex:n,handleDiffCellClick:l,handleDiffCellMouseDown:s,handleExitDialogMode:r,handleHideMarkersFromFocus:o,handleDiffSideCellSelectionBlocking:d,handleStartConversation:u,handleUserClosedMarkersDialog:m,lineAnchor:p,firstLineNumberSelection:g,commentDialogOpen:f,enterDialogMode:h,hasThreads:y,...b},k){let{diffLine:x,fileAnchor:v,isRowSelected:j,isLeftSide:S}=tF(),I=(0,c.useRef)(null);(0,c.useImperativeHandle)(k,()=>I.current,[]);let[N,F]=(0,c.useState)(!1),{selectedDiffRowRange:_}=tf(),{disableInlineCommentDialogMode:L,isInDialogMode:w}=ai(),T=(0,c.useRef)(null),A=(0,ag.U)(e=>{if(!e.target)return;let t=e.target;if(!N||T.current?.contains(t)||I.current?.contains(t)||2!==e.button?I.current?.contains(t)&&e.target.closest("button")?.contains(t)&&F(!1):F(!1),w){let t=!e.target.closest("[data-inline-markers]"),a=!e.target.closest("#__primerPortalRoot__");t&&a&&L()}});(0,c.useEffect)(()=>(C.XC?.addEventListener("mousedown",A),()=>C.XC?.removeEventListener("mousedown",A)),[A]),(0,c.useEffect)(()=>()=>C.XC?.removeEventListener("mousedown",A),[]);let E=(0,c.useCallback)(()=>{let e=ts({line:x,range:_,fileAnchor:v});e&&(0,ap.D)(e)},[v,x,_]),K=(0,c.useCallback)(()=>{g?.current&&(g.current=null)},[g]),P=(0,c.useCallback)(e=>{let t=e.target?.closest("td"),a=t?.classList.contains("diff-line-number");e.shiftKey?e.preventDefault():a?s?.():g&&(g.current=null),g&&a&&(g.current=S?x.left:x.right),d?.(e)},[d]),D=(0,c.useCallback)(()=>{I.current?.focus(),L(),r?.(),m?.()},[L,r,m]),R=nT({fileAnchor:v}),M=(0,c.useCallback)(async e=>{if(e.target===I.current&&(e?.metaKey||e?.ctrlKey)&&"c"===e.key){e.preventDefault(),await R();return}if(e.target===I.current&&(e?.metaKey||e?.ctrlKey)&&e.altKey&&"y"===e.key)return void E();if(I.current?.contains(e.target)&&e?.key==="Escape")return void D();if(I.current?.contains(e.target)&&"true"===e.target.getAttribute("data-exit-dialog-mode-button")&&!e?.shiftKey&&e?.key==="Tab"){e.preventDefault(),I.current?.querySelector('[data-is-first-collapse-button="true"]')?.focus();return}if(I.current?.contains(e.target)&&"true"===e.target.getAttribute("data-is-first-collapse-button")&&e?.shiftKey&&e?.key==="Tab"){e.preventDefault(),I.current?.querySelector('[data-exit-dialog-mode-button="true"]')?.focus();return}e.target===I.current&&"Enter"===e.key&&(h?.(),!1===y&&u?.(),e.preventDefault())},[R,E,D,h,y,u]),V=`inline-dialog-heading-${(0,c.useId)()}`;return(0,i.jsxs)("td",{ref:I,"data-grid-cell-id":ll(n),"data-line-anchor":p,"data-selected":j,role:w?"dialog":"gridcell",style:{userSelect:"none",position:"relative"},tabIndex:-1,valign:"top",className:a?`focusable-grid-cell ${a} ${n<3?"left-side":""}`:"focusable-grid-cell",onKeyDown:M,onBlur:e=>e.target.ariaSelected="false",onClick:l,onFocus:e=>e.target.ariaSelected="true",onMouseDown:P,onMouseUp:K,"aria-labelledby":w?V:void 0,...b,children:[w&&(0,i.jsx)("h1",{id:V,className:"sr-only",children:"Comment view"}),e,t&&N&&(0,i.jsx)(af.W,{anchorRef:I,open:!0,onOpenChange:F,children:(0,i.jsx)(af.W.Overlay,{width:e?"medium":"small",children:(0,i.jsx)(es.l,{children:t})})})]})});function ls(){let{isSplit:e}=tF();return(0,i.jsx)("div",{className:(0,F.$)("hunk-kebab-icon pr-2 pb-1",!e&&"hunk-kebab-icon-unified"),children:(0,i.jsx)(u.KebabHorizontalIcon,{})})}let lr=(0,c.forwardRef)(function({searchResultsForLine:e,focusedSearchResult:t,columnIndex:a,lineAnchor:n,firstLineNumberSelection:l,handleDiffCellClick:s,handleDiffSideCellSelectionBlocking:r,filePath:o,copilotChatReference:d},m){let{diffLine:p,fileAnchor:g,isLeftSide:f,isRowSelected:h}=tF(),b=(0,R.u)("react_diff_line_type_character_correction"),[k,x]=tn(p.html,p.type,b),v=x&&["+","-"].includes(x),[C,j]=(0,c.useState)(""),{isActionBarVisible:S}=au(),{selectedDiffRowRange:I,selectedDiffLines:N}=tf(),{commentBatchPending:_,commentingEnabled:L,commentingImplementation:w,initialExpandedThreadId:T,markerNavigationImplementation:A,repositoryId:E,subjectId:K,subject:P,viewerData:D}=e0(),{hasPersistedComment:V}=aq({diffSide:f?"LEFT":"RIGHT",filePath:o,line:p.blobLineNumber,subjectId:K,fileLevelComment:!1}),{isInDialogMode:O,enableInlineCommentDialogMode:B,disableInlineCommentDialogMode:$}=ai(),U=(0,c.useRef)(null),H=(0,c.useRef)(null);(0,c.useImperativeHandle)(m,()=>H.current,[]);let z=!!p.threadsData?.threads?.length||!!p.annotationsData?.annotations?.length,q=function({hasThreads:e}){return e?"80px":"24px"}({hasThreads:z&&D.commentsPreference===y.sI.Collapsed}),G=function(e,t,a){let{selectedDiffRowRange:n}=tf();return(0,c.useMemo)(()=>{let l="Add a comment on",i=!!n&&n.startLineNumber!==n.endLineNumber;if(n&&i&&a){let e={left:"L",right:"R"},t=e[n.startOrientation],a=e[n.endOrientation];l+=n.startLineNumber!==n.endLineNumber?` lines ${t}${n.startLineNumber} to ${a}${n.endLineNumber}`:` line ${t}${n.startLineNumber}`}else{let a=t&&!ta(e)?"L":"R";l+=` line ${a}${e.blobLineNumber}`}return l},[e,t,n,a])}(p,!!f,h),W=ll(a),{handleCellBlur:Q,handleCellFocus:X,handleCellMouseEnter:Y,handleCellMouseLeave:J}=nw({cellRef:H}),Z=(0,c.useRef)(null),[ee,et]=function(e){let[t,a]=(0,c.useReducer)(nA,{userMinimized:e===y.sI.Collapsed,showMarkers:!1}),n=(0,c.useRef)(e);return(0,c.useEffect)(()=>{n.current!==e&&(n.current=e,e===y.sI.Visible?a("SHOW_MARKERS"):a("USER_MINIMIZED_MARKERS"))},[e,a]),[t,a]}(D.commentsPreference),ea=(0,c.useCallback)((e=!0)=>{H.current?.classList.contains("diff-text-cell")&&(B(),et("USER_EXPANDED_MARKERS"),e&&setTimeout(()=>{H.current?.querySelector('[data-first-marker="true"]')?.focus()},0))},[et,B]),en=(0,c.useCallback)(()=>{setTimeout(()=>H.current?.focus()),$(),et("USER_MINIMIZED_MARKERS")},[$,et]),el=(0,c.useCallback)(()=>{D.commentsPreference===y.sI.Collapsed&&ee.showMarkers?en():ea()},[en,ea,ee.showMarkers,D.commentsPreference]),{annotations:ei,isNewConversationDialogOpen:es,shouldStartNewConversationWithSuggestedChange:er,startNewConversation:eo,startNewConversationWithSuggestedChange:ed,selectAnnotation:ec,selectThread:eu,closeNewConversation:em,closeMarkerListDialog:ep,returnFocusRef:eg,optimizedSelectedAnnotationId:ef,optimizedSelectedThreadId:eh,threads:ey}=nL({cellId:W,actionBarRef:U,onOpenInLineThread:ea}),eb=(0,c.useMemo)(()=>{var e;return!es&&(e=D.viewerCanComment,L&&e&&((e,t)=>{if(!e)return!1;let a=t.leftLines.concat(t.rightLines);return a.length>0&&a.includes(e)?a.every(e=>!tt(e)&&td.includes(e.type)):!tt(e)&&td.includes(e.type)})(p,N))},[es,L,D.viewerCanComment,p,N]);(0,c.useEffect)(()=>{w&&T&&eh!==T&&ey.map(e=>e.id).includes(T)&&eu(T,{skipLineSelection:!0})},[T]),(0,c.useEffect)(()=>{if(!A)return;let{activeGlobalMarkerID:e}=A;if(e){let t=ey.map(e=>e.id),a=ei.map(e=>e.id);t.includes(e)?eu(e,{skipLineSelection:!0}):a.includes(e)&&ec(e,{skipLineSelection:!0})}},[eu,ey,A,ei,ec]);let ek=function(e,t,a){let{sendAnalyticsEvent:n}=(0,aK.s)(),{getDiffLinesFromLineRange:l,selectedDiffRowRange:i}=tf(),s=tp(function(a,i){if(!e)return;let s=function(e){if(!e)return"DELETION"!==t.type;if("right"===e.startOrientation&&"right"===e.endOrientation)return!0;if(e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation)return"DELETION"!==t.type;let a=l(e)?.selectedLeftLines;return!!a?.every(e=>"empty-diff-line"!==e&&"DELETION"!==e.type)}(a);return{isValidSuggestionRange:s,showSuggestChangesButton:s,sourceContentFromDiffLines:s?function(e){let a=l(e)?.selectedRightLines;if(e&&a&&a.length>1)return tc(a);if(!t)return"";let[n]=tn(t.text,t.type);return n}(a):void 0,onInsertSuggestedChange:()=>{n("diff.add_suggested_change","ADD_SUGGESTED_CHANGE_BUTTON")},shouldInsertSuggestedChange:i}});return(0,c.useMemo)(()=>({selectedDiffRowRange:i,configureSuggestedChangesFromLineRange:s,shouldStartNewConversationWithSuggestedChange:a}),[i,s,a])}(w?.suggestedChangesEnabled,p,er),ex=(0,c.useCallback)(()=>{ea?.(),eo?.()},[ea,eo]),ev=(0,c.useCallback)(()=>{O||0!==(H.current?.querySelectorAll(":focus")??[]).length||$()},[$,O]),eC=(0,c.useRef)(!0),{ghostUser:ej}=e0(),eS=nT({fileAnchor:g}),eI=(0,c.useMemo)(()=>z&&D.commentsPreference===y.sI.Collapsed?!ee.userMinimized:(!!es||!!z)&&!!L&&(D.commentsPreference===y.sI.Collapsed&&(!!es||!!O)||D.commentsPreference===y.sI.Visible&&(!!z||!!es||!!ee.showMarkers)||!1),[L,z,O,es,ee.showMarkers,ee.userMinimized,D.commentsPreference]),eN=(0,c.useMemo)(()=>!!(p.text.length<1&&("CONTEXT"===p.type||"INJECTED_CONTEXT"===p.type)||("DELETION"===p.type||"ADDITION"===p.type)&&1===p.text.length&&["+","-"].includes(p.text.charAt(0))),[p]);return(0,i.jsxs)(li,{ref:H,columnIndex:a,commentDialogOpen:es,handleDiffCellClick:s,enterDialogMode:ea,handleDiffSideCellSelectionBlocking:r,handleExitDialogMode:()=>et("USER_EXITED_MARKERS_DIALOG"),handleUserClosedMarkersDialog:()=>et("USER_MINIMIZED_MARKERS"),lineAnchor:n,firstLineNumberSelection:l,handleStartConversation:ex,hasThreads:z,ContextMenu:(0,i.jsx)(nq,{shouldDisplayCollapseComments:eI,copilotChatReference:d,showStartConversation:eb,handleViewMarkersSelection:el,startConversationCurrentLine:ex,startConversationWithSuggestedChange:ed}),className:(0,F.$)(`diff-text-cell ${f?"left-side-diff-cell":"right-side-diff-cell"} ${eN?"pt-4":""}`,{"border-right":f&&"HUNK"!==p.type}),style:{backgroundColor:tu(p.type,!1,h),paddingRight:q},onBlur:e=>{Q(e),ev()},onFocus:X,onMouseEnter:Y,onMouseLeave:J,children:[(0,i.jsxs)("code",{className:(0,F.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===p.type,deletion:"DELETION"===p.type}),children:[v&&(0,i.jsx)("span",{className:"diff-text-marker",children:x}),e&&e.length>0&&(0,i.jsx)(lt,{searchResults:e,focusedSearchResult:t,className:(0,F.$)("diff-text-inner",{"color-fg-muted":"HUNK"===p.type})}),(0,i.jsx)(M.$6,{html:k,className:(0,F.$)("diff-text-inner",{"color-fg-muted":"HUNK"===p.type})})]}),p.displayNoNewLineWarning&&(0,i.jsx)(u.NoEntryIcon,{size:16,className:"fgColor-danger"}),S&&(0,i.jsx)(n9,{shouldDisplayCollapseComments:ee.showMarkers,copilotChatReference:d,authorAvatarUrl:D.avatarUrl,authorLogin:D.login,ref:U,cellId:W,cellRef:H,hasDraftComment:V,showStartConversation:eb,onOpenInLineThread:ea,handleCopyCode:eS,toggleViewingMarkers:el}),w&&A&&(0,i.jsx)(i.Fragment,{children:eI?(0,i.jsx)(nj,{gutterSizeOffset:q,inlineMarkersRef:Z,manuallyUpdateCommentsWithThisThreadId:C,annotations:ei,enterDialogMode:ea,batchPending:_,batchingEnabled:w.batchingEnabled,commentingImplementation:{...w,deleteComment:({onCompleted:e,...t})=>{w&&p&&w.deleteComment({...t,onCompleted:()=>{e?.(),ey.length<=1&&setTimeout(()=>H.current?.focus())},filePath:o})}},conversationListThreads:ey,fileAnchor:g,filePath:o,onCloseFocusMode:en,isMarkerListOpen:!!H.current?.classList.contains("diff-text-cell")&&ey.length>0,isRowSelected:h,lineType:p.type,repositoryId:E,returnFocusRef:eg,selectedAnnotationId:ef,selectedThreadId:eh||(H.current?.classList.contains("diff-text-cell")&&ey.length>0?ey[0]?.id:null),subjectId:K,subject:P,suggestedChangesConfig:ek,onCloseConversationList:ep,onAnnotationSelected:ec,onThreadSelected:eu,viewerData:D,ghostUser:ej,children:es&&(0,i.jsx)("div",{className:(0,F.$)(" border rounded-2 color-border-default",(ey.length,"mt-2 mb-1")),children:(0,i.jsx)(n_,{isDialog:!1,addCommentDialogTitle:G,anchorRef:H,batchPending:_,batchingEnabled:w.batchingEnabled,commentBoxSubject:w.commentBoxSubject,filePath:o,isLeftSide:!!f,isOpen:es,lineNumber:h?I?.endLineNumber:p.blobLineNumber,repositoryId:E,returnFocusRef:eg,startLineNumber:h?I?.startLineNumber:void 0,subjectId:K,suggestedChangesConfig:ek,viewerData:D,onAddComment:({onCompleted:e,threadsConnectionId:t,...a})=>{if(!w||!p)return;let{leftLines:n,rightLines:l}=N;if(I){var i;let e="left"===I.endOrientation?n:l,a=e[e.length-1];a&&(i=a)&&i!==e5&&a.threadsData?.__id&&(t=a.threadsData?.__id)}w.addThread({...a,diffLine:p,isLeftSide:f,isLineSelected:h,selectedDiffRowRange:I,threadsConnectionId:t,onCompleted:(t,a)=>{e?.(t,a),eu(t),j(t)}})},onCloseCommentDialog:()=>{en(),em()}})})}):null}),!S&&D.commentsPreference===y.sI.Collapsed&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{"aria-hidden":"true",style:{left:"compact"===D.lineSpacingPreference?"-1px":"-2px"},className:(0,F.$)("position-absolute top-0 d-flex user-select-none","DiffLineTableCellParts-module__in-progress-comment-indicator--DmbGA"),children:V&&(0,i.jsx)(n5,{lineSpacingPreference:D.lineSpacingPreference,authorAvatarUrl:D.avatarUrl,authorLogin:D.login})}),(0,i.jsx)("div",{"aria-hidden":"true",className:(0,F.$)("position-absolute top-0 d-flex user-select-none","DiffLineTableCellParts-module__comment-indicator--EOzeT"),children:(0,i.jsx)(nR,{shouldAnimateRef:eC,lineSpacingPreference:D.lineSpacingPreference})})]}),(0,i.jsx)(la,{diffLine:p})]})}),lo=(0,c.memo)(lr),ld=(0,c.memo)(lc);function lc({children:e,columnIndex:t,handleDiffCellClick:a,handleDiffSideCellSelectionBlocking:n,firstLineNumberSelection:l,filePath:s,copilotChatReference:r,contentRef:o,...d}){let u=(0,c.useRef)(null),{diffLine:m,fileAnchor:p,isLeftSide:g,isRowSelected:f}=tF(),{updateSelectedDiffRowRange:h}=tf(),y=(0,c.useCallback)(()=>{l&&null!==l.current&&h(p,g?m.left:m.right,g?"left":"right",!0,!0)},[p,g,m.left,m.right,l,h]),b=(0,c.useCallback)(()=>{h(p,g?m.left:m.right,g?"left":"right",!1,!0)},[p,g,m.left,m.right,h]);return(0,i.jsx)(li,{ref:u,className:(0,F.$)("diff-line-number position-relative",ln.includes(m.type)&&"diff-line-number-neutral"),columnIndex:t,handleDiffCellClick:a,handleDiffSideCellSelectionBlocking:n,firstLineNumberSelection:l,style:{backgroundColor:tu(m.type,!0,f),textAlign:"center"},handleDiffCellMouseDown:b,onMouseEnter:y,...d,children:(0,i.jsx)("code",{children:e})})}function lu({ContextMenu:e,renderHunkButton:t,searchResultsForLine:a,focusedSearchResult:n}){let l=(0,c.useRef)(null),[s,r]=function(e){let[t,a]=(0,c.useState)(!1),[n,l]=(0,c.useState)(!1),i=(0,c.useCallback)(t=>{e.current&&e.current.contains(t.relatedTarget)||a(!1)},[e]);return[{onFocus:(0,c.useCallback)(()=>{e.current===document.activeElement&&a(!0)},[e]),onBlur:i},{"aria-hidden":!n,tabIndex:t?0:-1,onBlur:(0,c.useCallback)(t=>{e.current&&!e.current.contains(t.relatedTarget)&&a(!1),l(!1)},[e]),onFocusCapture:(0,c.useCallback)(e=>{e.stopPropagation(),l(!0)},[]),onKeyDownCapture:(0,c.useCallback)(e=>{t6(e.key)&&e.stopPropagation()},[])}]}(l),{diffLine:o}=tF();return(0,i.jsx)(li,{ref:l,ContextMenu:e,colSpan:4,columnIndex:0,style:{backgroundColor:"var(--bgColor-accent-muted, var(--color-accent-subtle))",flexGrow:1},...s,className:"diff-hunk-cell",children:(0,i.jsxs)("div",{className:"d-flex flex-row",children:[t?.(r)??(0,i.jsx)(ls,{}),(0,i.jsxs)("code",{className:"diff-text-cell hunk",children:[a&&a.length>0&&(0,i.jsx)(lt,{searchResults:a,focusedSearchResult:n,className:(0,F.$)("diff-text-inner",{"color-fg-muted":"HUNK"===o.type})}),(0,i.jsx)(M.$6,{className:"diff-text-inner color-fg-muted",html:o.html})]})]})})}function lm({columnIndex:e,showRightBorder:t}){return(0,i.jsx)(li,{ContextMenu:(0,i.jsx)(nW,{}),className:(0,F.$)("empty-diff-line",{"border-right":t}),columnIndex:e})}try{li.displayName||(li.displayName="Cell")}catch{}try{ls.displayName||(ls.displayName="HunkKebabIcon")}catch{}try{lr.displayName||(lr.displayName="ContentCellUnmemoized")}catch{}try{lo.displayName||(lo.displayName="ContentCell")}catch{}try{ld.displayName||(ld.displayName="LineNumberCell")}catch{}try{lc.displayName||(lc.displayName="LineNumberCellUnmemoized")}catch{}try{lu.displayName||(lu.displayName="HunkCell")}catch{}try{lm.displayName||(lm.displayName="EmptyCell")}catch{}let lp=({resultsForLine:e,focusedSearchResult:t,handleDiffSideCellSelectionBlocking:a,handleDiffRowClick:n,lineAnchor:l,filePath:s,copilotChatReference:r,firstLineNumberSelection:o})=>{let{diffLine:d,hasHiddenUnicodeCharacters:u,isLeftSide:m,isSplit:p,setInGridMode:g}=tF(),f=(0,c.useRef)(null),h="ADDITION"!==d.type,y=!p||m,b=y&&!h,k="DELETION"!==d.type,x=!p||!m,v=x&&!k,C=(0,c.useCallback)(e=>{d.left&&n(e,d.left,"left",e.shiftKey,!0)},[n,d.left]),j=(0,c.useCallback)(e=>{d.left&&n(e,d.left,"left",e.shiftKey,!1)},[n,d.left]),S=(0,c.useCallback)(e=>{d.right&&n(e,d.right,"right",e.shiftKey,!0)},[n,d.right]),I=(0,c.useCallback)(e=>{d.right&&n(e,d.right,"right",e.shiftKey,!1)},[n,d.right]),N=(0,c.useCallback)(()=>{a&&a("left")},[a]),F=(0,c.useCallback)(()=>{a&&a("right")},[a]);return(0,i.jsxs)(ac,{line:d,children:[y&&(0,i.jsxs)(ld,{copilotChatReference:r,columnIndex:0,filePath:s,handleDiffCellClick:b?S:C,handleDiffSideCellSelectionBlocking:F,firstLineNumberSelection:o,contentRef:f,children:[u&&!k&&(0,i.jsx)(lf,{children:(0,i.jsx)(aa.o,{})}),h&&d.left]}),x&&(0,i.jsxs)(ld,{copilotChatReference:r,columnIndex:p?2:1,filePath:s,handleDiffCellClick:v?C:S,handleDiffSideCellSelectionBlocking:N,firstLineNumberSelection:o,contentRef:f,children:[u&&k&&(0,i.jsx)(lf,{children:(0,i.jsx)(aa.o,{})}),k&&d.right]}),(0,i.jsx)(al,{enableDiffGridMode:g,children:(0,i.jsx)(lo,{copilotChatReference:r,columnIndex:p?m?1:3:2,filePath:s,handleDiffCellClick:m?j:I,lineAnchor:l,handleDiffSideCellSelectionBlocking:m?F:N,searchResultsForLine:e,focusedSearchResult:t,firstLineNumberSelection:o,ref:f})})]})},lg=({resultsForLine:e,focusedSearchResult:t,fileAnchor:a,filePath:n,handleDiffRowClick:l,handleDiffSideCellSelectionBlocking:s,copilotChatReference:r,firstLineNumberSelection:o})=>{let{diffLine:d,isLeftSide:c}=tF();if(tt(d))return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(lm,{columnIndex:2*!c}),(0,i.jsx)(lm,{columnIndex:c?1:3,showRightBorder:c})]});let u=c?"left":(0,ez.XU)(d.type),m="left"===u?d.left:d.right,p=(0,ez.IQ)(a,u,m??0);switch(d.type){case"HUNK":return null;case"ADDITION":case"DELETION":case"CONTEXT":case"INJECTED_CONTEXT":return(0,i.jsx)(ly,{copilotChatReference:r,filePath:n,handleDiffRowClick:l,handleDiffSideCellSelectionBlocking:s,lineAnchor:p,resultsForLine:e,focusedSearchResult:t,firstLineNumberSelection:o});default:throw Error(`cannot handle type ${d.type}`)}};function lf({children:e}){return(0,i.jsx)("span",{className:"position-absolute",style:{left:"-1px",zIndex:"1"},children:e})}let lh=c.memo(lg),ly=c.memo(lp);try{lp.displayName||(lp.displayName="CodeDiffLineUnmemoized")}catch{}try{lg.displayName||(lg.displayName="DiffLineSideUnmemoized")}catch{}try{lf.displayName||(lf.displayName="DiffCodeAlert")}catch{}try{lh.displayName||(lh.displayName="DiffLineSide")}catch{}try{ly.displayName||(ly.displayName="CodeDiffLine")}catch{}let lb="ExpandableHunkHeaderDiffLine-module__expand-up-and-down--_W5im";function lk({direction:e,icon:t,label:a,onClick:n,ariaLabel:l,className:s,...r}){let{sendAnalyticsEvent:o}=(0,aK.s)(),{isSplit:d}=tF();return(0,i.jsx)("button",{onClick:()=>{n(),o("file_entry.expand_hunk","FILE_EXPANDER_BUTTON")},className:(0,F.$)("Button Button--iconOnly Button--invisible","ExpandableHunkHeaderDiffLine-module__expand-button-line--iUeM1",!d&&"ExpandableHunkHeaderDiffLine-module__expand-button-unified--zEXxI",s),"aria-label":l??a,"data-direction":e,...r,children:(0,i.jsx)(t,{})})}function lx({nextLine:e,prevLine:t,resultsForLine:a,focusedSearchResult:n}){let{fileLineCount:l,diffLine:s}=tF(),{expandStartOfHunk:r,expandEndOfPreviousHunk:o}=nO(),d=!t,m=!e,p=0===s.blobLineNumber,g=d||m,f=m&&s.blobLineNumber===l,h=(0,c.useMemo)(()=>!g&&!(s.blobLineNumber<=0)&&(!!(s.blobLineNumber-t.blobLineNumber<=20)||!!(e.blobLineNumber-s.blobLineNumber>=20)),[g,s,e,t]),y=(0,c.useMemo)(()=>!g&&!f&&s.blobLineNumber-t.blobLineNumber>20,[g,f,s,t]),b=(0,c.useMemo)(()=>!(s.blobLineNumber<=0)&&!p&&!!d,[d,p,s]),k=(0,c.useMemo)(()=>!d&&!f&&!!m,[d,m,f]),x=(0,c.useMemo)(()=>{switch(!0){case h:return"expand-all";case y:return"expand-up-and-down";case b:return"expand-up";case k:return"expand-down"}},[h,y,b,k]),v=()=>r(),C=()=>o(),j=()=>r();return(0,i.jsx)(lu,{searchResultsForLine:a,focusedSearchResult:n,renderHunkButton:a=>{switch(x){case"expand-all":return(0,i.jsx)(lk,{...a,direction:"all",icon:u.UnfoldIcon,label:`Expand file from line ${t?.blobLineNumber||""} to line ${e?.blobLineNumber||""}`,onClick:j});case"expand-up-and-down":return(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)(lk,{...a,direction:"down",icon:u.FoldDownIcon,label:`Expand file down from line ${t?.blobLineNumber||""}`,className:lb,onClick:C}),(0,i.jsx)(lk,{...a,direction:"up",icon:u.FoldUpIcon,label:`Expand file up from line ${e?.blobLineNumber||""}`,className:lb,onClick:v})]});case"expand-up":return(0,i.jsx)(lk,{...a,direction:"up",icon:u.FoldUpIcon,label:`Expand file up from line ${e?.blobLineNumber||""}`,onClick:v});case"expand-down":return(0,i.jsx)(lk,{...a,direction:"down",icon:u.FoldDownIcon,label:`Expand file down from line ${t?.blobLineNumber||""}`,onClick:C});default:return null}},ContextMenu:(0,i.jsx)(lv,{handleCopyContent:()=>{let[e]=tn(tl(s.html),s.type);(0,ap.D)(e)},handleExpandAbove:v,handleExpandAll:j,handleExpandBelow:C,shouldCopyContent:!!s.html,shouldExpandAbove:y||b,shouldExpandBelow:y||k})})}function lv({shouldExpandBelow:e,shouldExpandAbove:t,shouldCopyContent:a,handleExpandAll:n,handleExpandBelow:l,handleExpandAbove:s,handleCopyContent:r}){let o={includeShiftKey:!0,key:"["},d={key:"]"},c={key:"["},m={key:"C"};return(0,i.jsx)(af.W.Overlay,{width:"medium",children:(0,i.jsxs)(es.l,{children:[(0,i.jsxs)(es.l.Item,{"aria-keyshortcuts":to(o),onSelect:n,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.UnfoldIcon,{})}),"Expand all",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${tr(o)}`})})]}),t?(0,i.jsxs)(es.l.Item,{"aria-keyshortcuts":to(d),onSelect:s,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.FoldUpIcon,{})}),"Expand above",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${tr(d)}`})})]}):null,e?(0,i.jsxs)(es.l.Item,{"aria-keyshortcuts":to(c),onSelect:l,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.FoldDownIcon,{})}),"Expand below",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${tr(c)}`})})]}):null,(0,i.jsx)(n8,{}),a?(0,i.jsxs)(es.l.Item,{"aria-keyshortcuts":to(m),onSelect:r,children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.CopyIcon,{})}),"Copy",(0,i.jsx)(es.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${tr(m)}`})})]}):null]})})}try{lk.displayName||(lk.displayName="ExpandButtonLine")}catch{}try{lx.displayName||(lx.displayName="ExpandableHunkHeaderDiffLine")}catch{}try{lv.displayName||(lv.displayName="HunkContextMenu")}catch{}let lC=(0,c.memo)(function({searchResults:e,diffContext:t="pr",focusedSearchResult:a,clearSelectedDiffRowRange:n,diffEntryId:l,diffHasHiddenUnicodeCharacters:s,diffLines:r,fileAnchor:o,fileLineCount:d,filePath:u,handleDiffRowClick:m,handleDiffSideCellSelectionBlocking:p,replaceSelectedDiffRowRangeFromGridCells:g,selectedDiffRowRange:f,setInGridMode:h,showHiddenUnicode:y,tableRef:b,updateDiffLines:k,copilotChatReference:x,inGridMode:v,firstLineNumberSelection:C}){let{leftLines:j,rightLines:S}=function(e){let t=e.reduce((e,t)=>e+(t.threadsData?.totalCount??0),0)??0,{leftLines:a,rightLines:n}=(0,c.useMemo)(()=>(function(e){let t=[],a=[],n=()=>{for(;t.length<a.length;)t.push(e5);for(;a.length<t.length;)a.push(e5)};for(let i of e)switch(i.type){case"ADDITION":a.push(i);break;case"DELETION":t.push(i);break;case"CONTEXT":case"INJECTED_CONTEXT":var l;n();let[e,s]=[{...l=i,threadsData:void 0,annotationsData:void 0},{...l,threadsData:l.threadsData?{...l.threadsData,threads:l.threadsData.threads,totalCommentsCount:l.threadsData.totalCommentsCount,totalCount:l.threadsData.totalCount}:void 0}];t.push(e),a.push(s);break;case"HUNK":n(),t.push(i),a.push(i)}return n(),{leftLines:t,rightLines:a}})(e),[e,t]);return{leftLines:a,rightLines:n}}(r),{ghostUser:I}=e0();ae({clearSelectedDiffRowRange:n,containerRef:b,fileAnchor:o,isSplitDiff:!0,leftLines:j,replaceSelectedDiffRowRangeFromGridCells:g,rightLines:S,disabled:!v});let N=(0,c.useMemo)(()=>{if(f)return tm({selectedDiffRowRange:f,leftLines:j,rightLines:S,isNumberCell:!0})},[f,j,S]);(0,c.useEffect)(()=>{k(o,r)},[r,o,k]);let F=(0,c.useMemo)(()=>tv(j),[j]),_=new Map,L=new Map,w=new Map;for(let t=0;t<(e?.length??0);t++){let a=e?.[t];a&&(_.has(a.leftLineNumber)?_.get(a.leftLineNumber)?.push(a):-1!==a.leftLineNumber&&_.set(a.leftLineNumber,[a]),w.has(a.hunkLineNumber)?w.get(a.hunkLineNumber)?.push(a):a.isHunk&&w.set(a.hunkLineNumber,[a]),L.has(a.rightLineNumber)?L.get(a.rightLineNumber)?.push(a):-1!==a.rightLineNumber&&L.set(a.rightLineNumber,[a]))}let T=e=>{let t=!1;return s&&!tt(e)&&(t=(0,eG.Y)(e.text),y&&t&&(e=e.html?{...e,html:(0,tS.Gx)(e.html)??e.html}:{...e,text:(0,eG.TA)(e.text)})),[e,t]},A=[];for(let e=0;e<j.length;e++){let n=j[e],s=S[e],r=j[e-1],[c,g]=T(n),[f,y]=T(s),b=tt(j[e+1])?S[e+1]:j[e+1],k=!!c&&c!==e5&&"HUNK"===c.type,v=e6(o,c,f),E=tt(c)?tt(f)?void 0:f:c;if(!E)continue;let K=tt(c)?void 0:c.threadsData,P=tt(f)?void 0:f.threadsData,{currentHunk:D,nextHunk:R,previousHunk:M}=tx(E,F),V=_.get(tt(c)?-2:c.left??-2),O=L.get(tt(f)?-2:f.right??-2),B=w.get(E.blobLineNumber),$=B?.[0]?.rightLineNumber===f?.right?a:void 0,U=V?.[0]?.leftLineNumber===c?.left?a:void 0,H=O?.[0]?.rightLineNumber===f?.right?a:void 0,z=t_(P,I),q=t_(K,I),G={currentHunk:D,diffEntryId:l,fileAnchor:o,fileLineCount:d,filePath:u,isRowSelected:(N?.isRowSelected(n)||N?.isRowSelected(s))??!1,nextHunk:R,previousHunk:M,rowId:v,isSplit:!0,diffContext:t,setInGridMode:h};A.push((0,i.jsx)("tr",{className:"diff-line-row",children:k?(0,i.jsx)(tN,{...G,hasHiddenUnicodeCharacters:g||y,diffLine:E,modifiedLineThreads:z,originalLineThreads:q,children:(0,i.jsx)(lx,{nextLine:b,prevLine:r,focusedSearchResult:$,resultsForLine:B})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tN,{...G,diffLine:c,hasHiddenUnicodeCharacters:g,isLeftSide:!0,modifiedLineThreads:z,originalLineThreads:q,children:(0,i.jsx)(lh,{copilotChatReference:x,fileAnchor:o,filePath:u,handleDiffRowClick:m,handleDiffSideCellSelectionBlocking:p,resultsForLine:V,focusedSearchResult:U,firstLineNumberSelection:C})}),(0,i.jsx)(tN,{...G,diffLine:f,hasHiddenUnicodeCharacters:y,modifiedLineThreads:z,originalLineThreads:q,children:(0,i.jsx)(lh,{copilotChatReference:x,fileAnchor:o,filePath:u,handleDiffRowClick:m,handleDiffSideCellSelectionBlocking:p,resultsForLine:O,focusedSearchResult:H,firstLineNumberSelection:C})})]})},v))}return(0,i.jsx)(i.Fragment,{children:A})});try{lC.displayName||(lC.displayName="SplitDiffLines")}catch{}let lj=(0,c.memo)(function({searchResults:e,diffContext:t="pr",focusedSearchResult:a,clearSelectedDiffRowRange:n,diffEntryId:l,diffHasHiddenUnicodeCharacters:s,diffLines:r,fileLineCount:o,fileAnchor:d,filePath:u,tableRef:m,selectedDiffRowRange:p,showHiddenUnicode:g,handleDiffRowClick:f,updateDiffLines:h,replaceSelectedDiffRowRangeFromGridCells:y,copilotChatReference:b,setInGridMode:k,inGridMode:x,firstLineNumberSelection:v}){ae({clearSelectedDiffRowRange:n,containerRef:m,fileAnchor:d,isSplitDiff:!1,leftLines:r,replaceSelectedDiffRowRangeFromGridCells:y,disabled:!x});let C=(0,c.useMemo)(()=>{if(p)return tm({selectedDiffRowRange:p,leftLines:r,isNumberCell:!0})},[p,r]),j=(0,c.useMemo)(()=>tv(r.map(e=>e)),[r]);(0,c.useEffect)(()=>{h(d,r)},[r,d,h]);let S=new Map;for(let t=0;t<(e?.length??0);t++){let a=e?.[t];a&&(e&&S.has(a.diffLineNumIndex)?S.get(a.diffLineNumIndex)?.push(a):e&&S.set(a.diffLineNumIndex,[a]))}let I=r.map((e,n)=>{let c=e,m=r[n+1],p=r[n-1],h="HUNK"===e.type,y=(0,ez.IQ)(d,(0,ez.XU)(c.type),c.blobLineNumber),{currentHunk:x,nextHunk:I,previousHunk:N}=tx(c,j),F=S.get(n),_=n===F?.[0]?.diffLineNumIndex?a:void 0,L=C?.isRowSelected(e)??!1,w=e6(d,c,c),T=s&&(0,eG.Y)(c.text);g&&T&&(c=c.html?{...c,html:(0,tS.Gx)(c.html)??c.html}:{...c,text:(0,eG.TA)(c.text)});let A={diffEntryId:l,diffLine:c,currentHunk:x,fileAnchor:d,fileLineCount:o,filePath:u,hasHiddenUnicodeCharacters:T,isLeftSide:"DELETION"===c.type,isRowSelected:L,isSplit:!1,nextHunk:I,previousHunk:N,diffContext:t,rowId:w,setInGridMode:k};return(0,i.jsx)("tr",{className:"diff-line-row",children:(0,i.jsx)(tN,{...A,children:h?(0,i.jsx)(lx,{nextLine:m,prevLine:p,focusedSearchResult:_,resultsForLine:F}):(0,i.jsx)(ly,{filePath:u,copilotChatReference:b,handleDiffRowClick:f,firstLineNumberSelection:v,lineAnchor:y,resultsForLine:F,focusedSearchResult:_})})},w)});return(0,i.jsx)(i.Fragment,{children:I})});try{lj.displayName||(lj.displayName="UnifiedDiffLines")}catch{}function lS({diffAnchor:e,children:t}){return(0,i.jsx)("div",{className:"fgColor-muted p-2","data-diff-anchor":e,children:t})}let lI=(0,c.memo)(function({searchResults:e,diffContext:t="pr",focusedSearchResult:a,diffEntryData:n,diffLinesManuallyUnhidden:l,baseHelpUrl:s,onHandleLoadDiff:r,copilotChatReference:o,hasExpandedAllRanges:d,...c}){let u=`diff-${n.pathDigest}`;if(n.isBinary)return(0,i.jsx)(lS,{diffAnchor:u,children:"Binary file not shown."});if((0,eV.dK)(n))return(0,i.jsx)(lS,{diffAnchor:u,children:"File renamed without changes."});if((0,eV.Jc)(n))return(0,i.jsx)(lS,{diffAnchor:u,children:"File copied without changes."});if((0,eV.Sn)(n,n.status,n.oldTreeEntry?.mode,n.newTreeEntry?.mode))return(0,i.jsx)(lS,{diffAnchor:u,children:"File mode changed."});if(!l&&(0,eV.HI)(n))return(0,i.jsx)(tj,{diffAnchor:u,onLoadDiff:r,children:(0,eV.l_)(n.truncatedReason)});if((0,eV.s8)(n))return(0,i.jsx)(lS,{diffAnchor:u,children:"Whitespace-only changes."});if(!l&&(0,eV.lO)(n))return(0,i.jsx)(tj,{diffAnchor:u,onLoadDiff:r,children:"This file was deleted."});if(!l&&(0,eV.xW)(n))return(0,i.jsxs)(tj,{diffAnchor:u,helpText:"customizing how changed files appear on GitHub.",helpUrl:`${s}/github/administering-a-repository/customizing-how-changed-files-appear-on-github`,onLoadDiff:r,children:["Some generated files are not rendered by default. Learn more about"," "]});if(n.isTooBig&&0===n.diffLines.length)if(l)return(0,i.jsxs)(lS,{diffAnchor:u,children:["Diff is too big to render. To view,"," ",(0,i.jsx)(U.A,{inline:!0,href:`${s}/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally`,children:"check out this pull request locally."})]});else return(0,i.jsx)(tj,{diffAnchor:u,onLoadDiff:r,children:"Large diffs are not rendered by default."});return n.diffLines?(0,i.jsx)(eZ,{...c,children:(0,i.jsx)(ty,{children:(0,i.jsx)(lN,{diffAnchor:u,diffContext:t,diffEntryData:n,viewerData:c.viewerData,focusedSearchResult:a,searchResults:e,copilotChatReference:o,hasExpandedAllRanges:d})})}):null});function lN({diffAnchor:e,viewerData:t,diffEntryData:a,searchResults:n,focusedSearchResult:l,copilotChatReference:s,diffContext:r,hasExpandedAllRanges:o}){let d=(0,c.useRef)(null),[u,m]=(0,c.useState)(!0),[p,g]=(0,c.useState)(null),[f,h]=(0,c.useState)(!1),y=a.newTreeEntry?.lineCount??a.oldTreeEntry?.lineCount??0,k=(0,c.useMemo)(()=>{let e=a.diffLines[a.diffLines.length-1];return e?.blobLineNumber&&e.blobLineNumber<y?a.diffLines.concat({__id:tb,blobLineNumber:e.blobLineNumber+1,left:null,right:null,type:"HUNK",html:"",text:""}):a.diffLines},[a.diffLines,y]),{diffViewPreference:x,lineSpacingPreference:v,tabSizePreference:j}=t,{selectedDiffRowRange:S,replaceSelectedDiffRowRange:I,replaceSelectedDiffRowRangeFromGridCells:N,clearSelectedDiffRowRange:_,updateDiffLines:L,updateSelectedDiffRowRange:w}=tf(),T=(0,c.useCallback)(e=>{if(!d.current||!e.target)return;let t=e.target,a=t.closest("td.diff-line-number"),n=d.current.contains(t);a&&!n&&(_(),M.current=null)},[_,d]);(0,c.useEffect)(()=>(C.XC?.addEventListener("mousedown",T),()=>{C.XC?.removeEventListener("mousedown",T)}),[T]);let A=e===S?.diffAnchor,E=(0,c.useMemo)(()=>{let e,t=a.status,n=a.oldTreeEntry?.path,l=a.newTreeEntry?.path;if(n||l)return e="RENAMED"===t?`${n} renamed to ${l}`:"DELETED"===t||"REMOVED"===t?n:l,`Diff for: ${e}`},[a]);(0,c.useEffect)(()=>{if(!A)return;let e=function(e,t){if(!e)return;if(!t)return e;let a=!1,n=!1,l=!1;for(let i of t)if(i&&(n||(n=e9(i,e.startLineNumber,e.startOrientation)),l||(l=e9(i,e.endLineNumber,e.endOrientation)),(a=l&&!n)||n&&l))break;return a?{...e,startLineNumber:e.endLineNumber,startOrientation:e.endOrientation,endLineNumber:e.startLineNumber,endOrientation:e.startOrientation}:e}(S,k);e&&e!==S&&I(e)},[k,S,A,I]);let K=C.cg?.location.search,P=(0,c.useMemo)(()=>"split"===new URLSearchParams(K).get("diff")||"split"===x,[K,x]),D=(0,ez.c7)(k),R=(0,c.useCallback)(e=>{g(e)},[g]),M=(0,c.useRef)(null),V=(0,c.useCallback)(e=>{if(e.shiftKey&&e.metaKey&&"ArrowLeft"===e.key&&!o&&u&&e.target?.getAttribute("role")==="gridcell"){let e=document.querySelector(`.js-expand-all-difflines-button[data-file-path="${a.path}"]`);e?.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))}},[o,u,a.path]),O=(0,c.useCallback)((t,a,n,l,i)=>{var s;let r;s=t.target,(r=document.getElementById("__primerPortalRoot__"))&&s&&r.contains(s)||!t.defaultPrevented&&i&&w(e,a,n,l,i)},[e,w]),B=(0,c.useCallback)(e=>{let t=document.getSelection();if(t){let a=[];for(let e=0;e<t.rangeCount;e++){let n=t.getRangeAt(e).cloneContents();if(n.querySelectorAll("td").length){let e=`td.diff-line-number, span.diff-text-marker${P?`, ${"left"===p?"td.left-side-diff-cell":"td.right-side-diff-cell"}`:""}`;for(let t of n.querySelectorAll(e))t.parentNode&&t.parentNode.removeChild(t);for(let e of n.children){let t=e.textContent;`
`===t?a.push(""):a.push(t)}}else 1===t.rangeCount?a.push(t.toString()):a.push(n.textContent)}e.clipboardData.setData("text/plain",a.join(`
`)),e.preventDefault()}},[p,P]),$=(0,c.useMemo)(()=>k.some(e=>(0,eG.Y)(e.text)),[k]),U={searchResults:n,diffContext:r,focusedSearchResult:l,clearSelectedDiffRowRange:_,diffEntryId:a.objectId,diffHasHiddenUnicodeCharacters:$,diffLines:k,fileAnchor:e,fileLineCount:y,filePath:a.path,handleDiffRowClick:O,handleDiffSideCellSelectionBlocking:R,replaceSelectedDiffRowRangeFromGridCells:N,selectedDiffRowRange:A?S:null,showHiddenUnicode:f,tableRef:d,updateDiffLines:L,updateSelectedDiffRowRange:w,copilotChatReference:s,setInGridMode:m,inGridMode:u,firstLineNumberSelection:M};return(0,i.jsxs)(i.Fragment,{children:[$&&(0,i.jsx)(eq.a,{isShown:f,toggleShowHiddenCharacters:()=>h(!f)}),(0,i.jsx)("table",{"aria-label":E,onKeyDown:V,ref:d,className:(0,F.$)("tab-size","width-full","DiffLines-module__tableLayoutFixed--InKAb",{"DiffLines-module__compact--emLm8":"compact"===v}),"data-block-diff-cell-selection":p,"data-diff-anchor":e,"data-tab-size":j,"data-paste-markdown-skip":!0,onCopy:B,role:"grid",style:{"--line-number-cell-width":`${D}px`,"--line-number-cell-width-unified":`${2*parseFloat(D)}px`},children:P?(0,i.jsx)(b.wj,{lineWidth:D,children:(0,i.jsx)(lC,{...U})}):(0,i.jsx)(b.Qe,{lineWidth:D,children:(0,i.jsx)(lj,{...U})})})]})}try{lS.displayName||(lS.displayName="PlainTextStatus")}catch{}try{lI.displayName||(lI.displayName="DiffLines")}catch{}try{lN.displayName||(lN.displayName="CodeDiffLines")}catch{}var lF=a(78049);function l_({submodule:e}){let{basePath:t,changedFiles:a,contentsUrl:n,newCommitOid:l,oldCommitOid:s,status:r,submoduleUrl:o}=e,d=e.summary.length>0&&e.contentsUrl&&"MODIFIED"===r,m=(0,c.useMemo)(()=>{switch(r){case"ADDED":return(0,i.jsx)(lT,{commitOid:l,contentsUrl:n,type:"added"});case"DELETED":case"REMOVED":return(0,i.jsx)(lT,{commitOid:s,contentsUrl:n,type:"deleted"});default:return(0,i.jsx)(lA,{newCommitOid:l,oldCommitOid:s,changedFiles:a,contentsUrl:n})}},[l,s,r,a,n]);return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:`px-3 py-2 ${d?"border-bottom bgColor-muted":""}`,children:[(0,i.jsx)(u.FileSubmoduleIcon,{className:"fgColor-muted mr-2",size:16}),(0,i.jsx)(lL,{basePath:t,submoduleUrl:o}),m]}),d&&(0,i.jsx)(es.l,{className:"SubmoduleDiff-module__filesActionList--bnkEy",showDividers:!0,variant:"full",children:e.summary.map(e=>(0,i.jsx)(lE,{compareUrl:`${n}/compare/${s}...${l}`,linesAdded:e.linesAdded,linesDeleted:e.linesDeleted,path:e.path,pathDigest:e.pathDigest,status:e.status},e.pathDigest))})]})}function lL({basePath:e,submoduleUrl:t}){return(0,i.jsxs)(i.Fragment,{children:["Submodule"," ",t?(0,i.jsx)(U.A,{inline:!0,href:t,children:e}):e," "]})}function lw(e){return e.slice(0,7)}function lT({commitOid:e="",contentsUrl:t,type:a}){let n="added"===a?"added at":"deleted from";return t?(0,i.jsxs)(i.Fragment,{children:[n," ",(0,i.jsx)(U.A,{inline:!0,href:`${t}/tree/${e}`,children:lw(e)})]}):(0,i.jsxs)(i.Fragment,{children:[n," ",lw(e)]})}function lA({newCommitOid:e="",oldCommitOid:t="",changedFiles:a=0,contentsUrl:n}){let l=a>0&&n?`${a} ${1===a?"file":"files"}`:`from ${lw(t)} to ${lw(e)}`;return(0,i.jsxs)(i.Fragment,{children:["updated"," ",n?(0,i.jsx)(U.A,{inline:!0,href:`${n}/compare/${t}...${e}`,children:l}):l]})}function lE({compareUrl:e,linesAdded:t,linesDeleted:a,path:n,pathDigest:l,status:s}){return(0,i.jsx)(es.l.LinkItem,{href:`${e}#diff-${l}`,className:"SubmoduleDiff-module__fileRowLinkItem--B6ZhJ",children:(0,i.jsxs)(D.B,{gap:"condensed",direction:"horizontal",align:"center",className:"SubmoduleDiff-module__fileRow--HYQLm",children:[(0,i.jsx)(lF.E,{status:s}),(0,i.jsxs)("div",{className:"d-flex gap-1 flex-justify-between width-full",children:[(0,i.jsx)("span",{className:"SubmoduleDiff-module__path--M3Bxi",children:n}),(t>0||a>0)&&(0,i.jsxs)("div",{className:"d-flex flex-shrink-0 gap-1 flex-nowrap",children:[(0,i.jsx)("div",{className:"SubmoduleDiff-module__linesAdded--db7oX",children:t>0&&(0,i.jsxs)(eM.C,{isAddition:!0,children:["+",lK(t)]})}),(0,i.jsx)("div",{className:"SubmoduleDiff-module__linesDeleted--zx_Ak",children:a>0&&(0,i.jsxs)(eM.C,{isAddition:!1,children:["-",lK(a)]})})]})]})]})})}function lK(e){return e>999?`${(e/1e3).toFixed(1)}k`:e.toLocaleString()}try{l_.displayName||(l_.displayName="SubmoduleDiff")}catch{}try{lL.displayName||(lL.displayName="SubmodulePath")}catch{}try{lT.displayName||(lT.displayName="SubmoduleCommitChange")}catch{}try{lA.displayName||(lA.displayName="SubmoduleModified")}catch{}try{lE.displayName||(lE.displayName="SubmoduleFileRow")}catch{}function lP(e,t){let a=new Map;for(let t of e){let e=`${t.left}-${t.right}`;a.set(e,t)}return t.map(e=>{let t=`${e.left}-${e.right}`,n=a.get(t);return n?{...e,position:n.position}:{...e,position:null,threadsData:void 0}})}var lD=a(78252);function lR({oid:e,path:t,repo:a,isViewable:n=!0,copilotDiffChatProps:l}){return(0,i.jsxs)(af.W,{children:[(0,i.jsx)(af.W.Anchor,{children:(0,i.jsx)("button",{className:"Button Button--iconOnly Button--invisible","aria-label":"More options",children:(0,i.jsx)(u.KebabHorizontalIcon,{})})}),(0,i.jsx)(af.W.Overlay,{children:(0,i.jsxs)(es.l,{children:[(0,i.jsxs)(es.l.LinkItem,{href:(0,x.nD_)({repo:a.name,owner:a.ownerLogin,filePath:t,commitish:e}),inactiveText:n?void 0:"Action unavailable",children:[(0,i.jsx)(es.l.LeadingVisual,{children:(0,i.jsx)(u.EyeIcon,{})}),"View file"]}),l&&(0,i.jsx)(lD.$,{...l})]})})]})}try{lR.displayName||(lR.displayName="BlobActionsMenu")}catch{}var lM=a(33671),lV=a(8934);function lO({dependencyDiffPath:e,fileRendererInfo:t,proseDiffHtml:a,loading:n}){return n?(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:(0,i.jsx)(tC.A,{size:"large"})}):a?(0,i.jsx)("div",{className:"prose-diff position-relative",children:(0,i.jsx)(M.vb,{html:a})}):t?(0,i.jsx)(lM.default,{...t}):e?(0,i.jsx)(lV.x,{src:e,children:(0,i.jsxs)("div",{className:"text-center py-3",children:[(0,i.jsx)(tC.A,{size:"medium"}),(0,i.jsx)("p",{className:"color-fg-muted my-2",children:"Loading Dependency Review..."})]})}):(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:"This rich diff is not supported at the moment."})}try{lO.displayName||(lO.displayName="RichDiff")}catch{}let lB=(0,c.memo)(function({commitOid:e,path:t,proseDiffHtml:a,fileRendererInfo:n,dependencyDiffPath:l}){let{loaded:r,richDiffData:o}=function(e,t,a,n){let l=!!t.proseDiffHtml||!!t.fileRendererInfo||!!n,i=(0,s.t)(),[r,o]=(0,c.useState)(l),[d,u]=(0,c.useState)(t),m=(0,c.useCallback)(async()=>{let t=await (0,ej.lS)(`${(0,x.$Qz)({owner:i.ownerLogin,repo:i.name,commitish:e})}/rich_diff/${encodeURIComponent(a)}`);t.ok&&u(await t.json()),o(!0)},[e,a,i]);return(0,c.useEffect)(()=>{l||m()},[l,m]),{loaded:r,richDiffData:d}}(e,{proseDiffHtml:a,fileRendererInfo:n},t,l);return(0,i.jsx)(lO,{dependencyDiffPath:l,fileRendererInfo:o.fileRendererInfo,loading:!r,proseDiffHtml:o.proseDiffHtml})});try{lB.displayName||(lB.displayName="CommitRichDiff")}catch{}let l$={isInMergeQueue:!1,state:"OPEN"},lU=c.memo(lH);function lH({diffMatches:e,focusedSearchResult:t,diffEntryData:a,contextLinePathURL:n,recalcTotalHeightOfVirtualWindow:l,onOptionCollapseToggle:s,helpUrl:o,headerStickyOffset:u=0,repo:m,oid:p,index:g,ignoreWhitespace:f,virtualizerScrollTo:y}){let b=(0,r.i)(),{data:k}=(0,h.ID)();void 0===k&&(k=h.aX);let x=(0,c.useMemo)(()=>({filteredMarkers:[],activeGlobalMarkerID:"",decrementActiveMarker:eb.l,incrementActiveMarker:eb.l,overlayPortalContainerName:"commit-details-marker-portal"}),[]),v=(0,d.B)().commentInfo,{getThreadDataByPathAndPosition:C,getInlineCommentInfoByPathAndPosition:j,updateInlineCommentMapWithNewComment:S,initialExpandedThreadId:I}=(0,eO.B)(),{commentBoxSubject:N}=(0,eB.X)(),F=function(e,t,a){let n=(0,d.B)(),{commit:l,commentInfo:i,repoOwnerGlobalRelayId:s}=n,r=(0,e$.I)({commit:l,repo:n.repo,viewerCanReply:i.canComment,repoOwnerGlobalRelayId:s,getInlineCommentInfoByPathAndPosition:t}),{addComment:o,deleteComment:u,editComment:m,hideComment:p,unhideComment:g}=(0,eB.X)(),{findInlineComment:f,findInlineCommentWithRelay:h}=(0,eO.B)(),y=(0,c.useCallback)(({filePath:e,onCompleted:t,onError:a,text:n,thread:l})=>{let[i,s]=l.id.split("::");i&&s?o(n,e,s).then(e=>{e.comment?t?.(e.comment.id):a(Error("Failed to add comment"))}):a(Error("Invalid threadId"))},[o]),b=(0,c.useCallback)(({text:e,diffLine:t,filePath:n,onCompleted:l,onError:i})=>{!t||t.position&&o(e,n,t.position.toString()).then(e=>{if(e.comment){let i=e.comment.id,s=`${n}::${t.position}`;a?.(n,t.position??0,[e.comment],!0),r(s,!0),l?.(s,i)}else i?.(Error("Failed to add comment"))})},[o,a,r]),k=(0,c.useCallback)(({comment:e,text:t,onCompleted:a,onError:n})=>{let l=h(e.id);l?m(t,{id:l.id,bodyVersion:l.bodyVersion}).then(e=>{e.updatedFields?a?.():n(Error("Failed to edit comment"))}):n(Error("Comment not found"))},[m,h]),x=(0,c.useCallback)(({commentId:e,onCompleted:t,onError:a})=>{let n=h(e);n?u(n.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&a?.(Error("Failed to delete comment"))}):a?.(Error("Comment not found"))},[u,h]),v=(0,c.useCallback)(({commentDatabaseId:e,reason:t,onCompleted:a,onError:n})=>{let l=f(e);l?p(l.id.toString(),t).then(e=>{"success"===e?a?.():"error"===e&&n(Error("Failed to hide comment"))}):n?.(Error("Comment not found"))},[f,p]),C=(0,c.useCallback)(({commentDatabaseId:e,onCompleted:t,onError:a})=>{let n=f(e);n?g(n.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&a(Error("Failed to unhide comment"))}):a?.(Error("Comment not found"))},[f,g]);return(0,c.useMemo)(()=>({batchingEnabled:!1,commentSubjectType:"commit",commentBoxSubject:e,multilineEnabled:!1,resolvingEnabled:!1,suggestedChangesEnabled:!1,lazyFetchReactionGroups:!0,addThread:b,addThreadReply:y,deleteComment:x,editComment:k,pendingSuggestedChangesBatch:[],submitSuggestedChanges:eb.l,addSuggestedChangeToPendingBatch:eb.l,removeSuggestedChangeFromPendingBatch:eb.l,addFileLevelThread:eb.l,resolveThread:eb.l,unresolveThread:eb.l,hideComment:v,unhideComment:C,fetchThread:r}),[b,y,x,k,r,v,C,e])}(N,j,S),[_,L]=(0,c.useState)(lz(a.current[g],C)),w=(0,c.useCallback)(e=>{L(lz(e,C))},[C]),[T,A]=(0,c.useState)(_.collapsed),[E,K]=(0,c.useState)(_.defaultToRichDiff),P=_.isSubmodule&&!!_.submodule,D=!P&&!E,[R,M]=(0,c.useState)(_.diffManuallyExpanded),V=(0,c.useRef)(!1);(0,c.useEffect)(()=>{A(_.collapsed)},[_.collapsed]);let O=(0,c.useRef)([]),B=(0,c.useCallback)(async e=>{O.current.push(e);let t=await eU(O.current,n,_.pathDigest);if(void 0!==t){let e={..._};e.diffLines=lP(e.diffLines,t.diffEntryWithContext),w(e),a.current[g]=e,l()}},[n,a,_,g]),$=async()=>{O.current=[],V.current||((_.newTreeEntry?.lineCount??0)<5e3?O.current.push({start:1,end:Math.max(_.oldTreeEntry?.lineCount??0,_.newTreeEntry?.lineCount??0)}):O.current=function(e,t){let a=[];for(let t=0;t<e.length;t++)if("HUNK"===e[t].type){let n=e[t-1>=0?t-1:0],l=e[t+1<e.length?t+1:e.length-1],i=n?.blobLineNumber,s=l?.blobLineNumber;i&&s&&(a.push({start:i,end:i+40}),a.push({start:Math.max(s-40,1),end:s}))}let n=e[e.length-1].blobLineNumber;return n<t&&a.push({start:n,end:n+40}),a}(_.diffLines,_.newTreeEntry?.lineCount??0)),V.current=!V.current;let e=await eU(O.current,n,_.pathDigest);if(void 0!==e){let t={..._};t.diffLines=lP(t.diffLines,e.diffEntryWithContext),w(t),a.current[g]=t,l()}},U=(0,c.useCallback)(async()=>{if(0===_.diffLines.length){let e;try{e=await eH({repo:m,sha1:_.oldOid,sha2:_.newOid,entry:_.diffNumber.toString()})}catch{throw Error("Error fetching diff lines")}let t={..._};t.diffLines=e,w(t),a.current[g]=t}_.diffManuallyExpanded=!0,a.current[g].diffManuallyExpanded=!0,M(!0),l(),requestAnimationFrame(()=>{y?.(g,{align:"center"})})},[a,_,g,l]);(0,c.useEffect)(()=>{w(a.current[g]),O.current=[]},[f,g,a,p,m.name,m.ownerLogin,_.path,w]);let H=(0,c.useMemo)(()=>{if(_.isBinary||_.isSubmodule||(0,eV.dK)(_))return!1;if(V.current||(a.current[g]?.diffLines?.[1]?.blobLineNumber||0)>1)return!0;let e=a.current[g]?.diffLines?.length||0,t=a.current[g]?.diffLines?.[e-1]?.blobLineNumber||0,n=a.current[g]?.newTreeEntry?.lineCount||0;return!!(t<n)||!!(e-1<n)},[a.current[g]?.diffLines,a.current[g]?.newTreeEntry?.lineCount,g,a,_]),z=(0,c.useMemo)(()=>({avatarUrl:b?.avatarURL??"",diffViewPreference:k.splitPreference,isSiteAdmin:!1,commentsPreference:k.commentsPreference,login:b?.login??"",lineSpacingPreference:k.lineSpacing,tabSizePreference:b?.tabSize??4,viewerCanComment:v.canComment,viewerCanApplySuggestion:!1}),[b?.avatarURL,b,b?.login,b?.tabSize,k]),q=(0,c.useMemo)(()=>{if(_.copilotChatReference)return{copilotChatReference:_.copilotChatReference}},[_]),G=(0,c.useId)(),W=`heading-${G}`;return(0,i.jsxs)("div",{role:"region","aria-labelledby":W,className:"position-relative",style:{contain:"layout"},children:[(0,i.jsx)("div",{className:"Diff-module__diffHeaderWrapper--DiwLD",style:{"--header-sticky-offset":`${u}px`},children:(0,i.jsx)(eM.B,{areLinesExpanded:V.current,canExpandOrCollapseLines:H,fileLinkHref:`#diff-${_.pathDigest}`,isCollapsed:T,isBinary:_.isBinary,isSubmodule:P,headingId:W,size:_.diffSize,canToggleRichDiff:_.canToggleRichDiff,linesAdded:_.linesAdded,linesChanged:_.linesChanged,linesDeleted:_.linesDeleted,newMode:_.newTreeEntry?.mode,newPath:_.newTreeEntry?.path,oldMode:_.oldTreeEntry?.mode,oldPath:_.oldTreeEntry?.path,patchStatus:_.status,path:_.path,onToggleExpandAllLines:$,onToggleFileCollapsed:e=>{e.altKey?s(!T):(_.collapsed=!T,a.current[g].collapsed=!T,A(!T))},onToggleDiffDisplay:e=>K(e),rightSideContent:(0,i.jsx)(lR,{oid:"REMOVED"===_.status&&_.deletedSha?_.deletedSha:p,path:_.path,repo:m,isViewable:!_.isSubmodule,copilotDiffChatProps:q}),showRichDiff:E})}),T?null:(0,i.jsxs)("div",{className:"border position-relative rounded-bottom-2",children:[P&&_.submodule&&(0,i.jsx)(l_,{submodule:_.submodule}),E&&(0,i.jsx)(lB,{commitOid:p,path:_.path,proseDiffHtml:_.proseDifffHtml,fileRendererInfo:_.renderInfo,dependencyDiffPath:_.dependencyDiffPath}),D&&(0,i.jsx)(lI,{diffContext:"commit",copilotChatReference:_.copilotChatReference,searchResults:e,focusedSearchResult:t,diffEntryData:_,baseHelpUrl:o,commentingEnabled:!0,commentBatchPending:!1,repositoryId:m.id.toString(),subject:l$,subjectId:p,viewerData:z,newCommitOid:_.newOid,oldCommitOid:_.oldOid,addInjectedContextLines:B,commentingImplementation:F,markerNavigationImplementation:x,diffLinesManuallyUnhidden:R,onHandleLoadDiff:U,initialExpandedThreadId:I})]})]},`${_.pathDigest}_${_.diffLines.length}`)}function lz(e,t){for(let a of e?.diffLines??[]){let n=t(e.path,a.position);n?a.threadsData={totalCommentsCount:n.count,totalCount:n.count,threads:(n.threads??[]).map(e=>({id:e.id,diffSide:e.diffSide,commentsData:e.commentsData,line:a.blobLineNumber,isOutdated:!1}))}:a.threadsData=void 0}return e}try{lU.displayName||(lU.displayName="Diff")}catch{}try{lH.displayName||(lH.displayName="DiffUnmemoized")}catch{}var lq=a(27028);let lG=(0,c.memo)(lW);function lW({treeToggleElement:e,headerInfo:t,searchBox:a,ignoreWhitespace:n,userNotices:l}){let s=(0,c.useRef)(null),r=function(e){let[t,a]=(0,c.useState)(!1),n=(0,c.useCallback)(e=>{let n=e[e.length-1].intersectionRatio<1;n!==t&&a(n)},[t,a]);return(0,c.useEffect)(()=>{let t=e.current,a=new IntersectionObserver(n,{root:t?.ownerDocument,threshold:[1],rootMargin:"-1px 0px 0px 0px"});return e.current&&a.observe(e.current),()=>{t&&a.unobserve(t)}},[e,n]),t}(s),o=r?"d-none d-sm-flex":"";return(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between gap-2 pt-3 pt-lg-4 pb-2 position-sticky top-0 color-bg-default",style:{zIndex:2},ref:s,children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[e,(0,i.jsxs)(nN.A,{as:"h2",className:"mx-2 f4",children:[t.filesChangedString," file",t.filesChanged>1?"s":""," changed"]}),(0,i.jsxs)(eM.C,{className:o,isAddition:!0,children:["+",t.additions]}),(0,i.jsxs)(eM.C,{className:o,isAddition:!1,children:["-",t.deletions]}),(0,i.jsx)("span",{className:`${o} ml-2 fgColor-muted text-small`,style:{whiteSpace:"nowrap"},children:"lines changed"})]}),(0,i.jsxs)("div",{className:"d-flex gap-2 flex-items-center",children:[r&&(0,i.jsx)(lQ,{}),void 0!==a&&a,(0,i.jsx)(lq.G,{reloadOnWhitespaceChange:!0,defaultHideWhitespace:n,userNotices:l})]})]})}let lQ=()=>(0,i.jsx)($.Q,{leadingVisual:u.ArrowUpIcon,variant:"invisible",className:"fgColor-default px-2 f6 gap-1",onClick:e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},children:"Top"});try{lG.displayName||(lG.displayName="DiffsHeader")}catch{}try{lW.displayName||(lW.displayName="DiffsHeaderUnmemoized")}catch{}try{lQ.displayName||(lQ.displayName="GoToTopButton")}catch{}let lX=c.memo(lY);function lY(){return(0,i.jsx)("div",{className:"pt-3",children:(0,i.jsxs)("div",{className:"border borderColor-muted rounded-top-2",children:[(0,i.jsx)("div",{className:"gap-2 p-3 border-bottom borderColor-muted bgColor-muted rounded-top-2",children:(0,i.jsx)(O.O,{height:"sm",variant:"rounded",width:"140px"})}),(0,i.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,i.jsx)(O.O,{height:"sm",variant:"rounded",width:"random"}),(0,i.jsx)(O.O,{height:"sm",variant:"rounded",width:"random"}),(0,i.jsx)(O.O,{height:"sm",variant:"rounded",width:"random"}),(0,i.jsx)(O.O,{height:"sm",variant:"rounded",width:"random"})]})]})})}try{lX.displayName||(lX.displayName="LoadingContentBlock")}catch{}try{lY.displayName||(lY.displayName="LoadingContentBlockUnmemoized")}catch{}function lJ({diffEntryData:e,contextLinePathURL:t,repo:a,oid:n,treeToggleElement:l,headerInfo:s,totalFileCount:r}){let o=(0,c.useRef)(e),u=(0,ek.X)(),m=(0,d.B)();return(0,i.jsxs)("div",{"data-hpc":!0,children:[r>40&&(0,i.jsx)(eR,{}),(0,i.jsx)(lG,{treeToggleElement:l,headerInfo:s}),e.map((e,l)=>l>=10?null:(0,i.jsx)("div",{className:0===l?"pt-0":"pt-3",children:(0,i.jsx)(lU,{onOptionCollapseToggle:eb.l,diffEntryData:o,index:l,helpUrl:u.helpUrl,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:eb.l,repo:a,ignoreWhitespace:m.ignoreWhitespace,oid:n})},e.pathDigest))]})}try{lJ.displayName||(lJ.displayName="SSRDiffs")}catch{}let lZ=(0,c.memo)(l0);function l0({totalFileCount:e,diffEntryData:t,contextLinePathURL:a,unselectedFileExtensions:n,repo:l,oid:s,ignoreWhitespace:r,filterTerm:o,searchTerm:u,setSearchTerm:m,setCanFocusComments:p,isTreeExpanded:g,treeToggleElement:f,headerInfo:y}){let b=function(){let[e,t]=(0,c.useState)(""),a=(0,c.useCallback)(()=>{t((e_(C.fV.hash??"")??"").replace("diff-",""))},[]);return(0,c.useEffect)(()=>(window.addEventListener("hashchange",a),a(),()=>{window.removeEventListener("hashchange",a)}),[a]),e}(),{data:k}=(0,h.ID)();void 0===k&&(k=h.aX);let v=k.lineSpacing,j=(0,h.Qn)(r),S=(0,d.B)(),I=(0,c.useCallback)(()=>F({}),[]),[N,F]=(0,c.useState)({}),_=(0,c.useRef)(t),{findInDiffWorkerPath:w}=(0,G.D)(),T=(0,c.useRef)(t),A=(0,c.useRef)(e>40),E=(0,c.useRef)(null),[K,P]=(0,c.useState)(j),D=(0,c.useRef)(0),R=(0,c.useRef)(e),[M,V]=(0,c.useState)(s),{focusedSearchResult:O,setFocusedSearchResult:B,searchResults:$,currentIndex:U,setCurrentIndex:H}=function(e,t,a,n){let[l,i]=(0,c.useState)(new Map),[s,r]=(0,c.useState)(void 0),[o,d]=(0,c.useState)(0),u=c.useRef(null);!u.current&&t&&(u.current=new eA.N(new eT.z(a,eE),200,e=>1!==e.query.length));let m=(0,c.useRef)(t);m.current=t;let p=(0,c.useRef)("");(0,c.useEffect)(()=>function(){u.current?.terminate()},[]);let g=(0,c.useRef)([]);return u.current&&e!==g.current&&(u.current.onResponse=e=>{e.query===m.current&&(i(e.matchingDiffs),p.current=m.current)},g.current=e),(0,c.useEffect)(()=>{if(!e||!u.current||!p.current||""===p.current){i(new Map),r(void 0);return}i(new Map),r(void 0),u.current.post({query:p.current,diffEntryInfo:e,currentDiffEntryData:void 0})},[e?.length,e]),(0,c.useEffect)(()=>{if(e&&u.current)if(""===t)i(new Map),r(void 0),d(0),p.current="";else{var a;if(!((a=t).length>0&&a.length<=1e3))return;let n=p.current.length>0&&t.startsWith(p.current);u.current.post({query:t,diffEntryInfo:e,currentDiffEntryData:n?l:void 0}),d(0)}},[t,n]),{focusedSearchResult:s,setFocusedSearchResult:r,searchResults:l,currentIndex:o,setCurrentIndex:d}}(_.current,u,w,N);function z(e){for(let t of _.current)t.collapsed=e;I()}(0,c.useEffect)(()=>{if(n&&n.size>0?_.current=T.current.filter(e=>!n.has((0,ey.QC)(e.path))):_.current=T.current,o&&(_.current=_.current.filter(e=>e.path.toLowerCase().includes(o.toLowerCase()))),R.current!==_.current.length||0===_.current.length){let e=_.current.length;!function(e,t=0){if(void 0===C.XC)return;let a=C.XC.getElementById("screenReaderAnnouncementDiv")??void 0;if(a||(a=function(){if(void 0===C.XC)return;let e=C.XC.createElement("div");return e.classList.add("sr-only","mt-n1"),e.id="screenReaderAnnouncementDiv",e.setAttribute("role","alert"),e.setAttribute("data-testid","screenReaderAnnouncement"),e.setAttribute("aria-live","assertive"),C.XC.body.appendChild(e),e}()),!a)return;let n=a.textContent===e?`${e}\u00A0`:e;setTimeout(()=>{a&&(a.textContent=n)},t)}(0===e?"There are no files selected for viewing":`${e} file${1===e?"":"s"} remain${1===e?"s":""}`,150)}R.current=_.current.length,A.current=_.current.length>40,I()},[n?.size,o]),(0,c.useEffect)(()=>{_.current=t,T.current=t,A.current=e>40,I(),P(r),V(s)},[S.path]);let q=(0,ek.X)(),W=(0,x.VWf)({owner:S.repo.ownerLogin,repo:S.repo.name,sha1:S.commit.sha1,sha2:S.commit.sha2,oid:S.commit.oid}),Q=function(e,t,a,n,l,i){let[s,r]=(0,c.useState)(eS),o=(0,c.useRef)([]),d=(0,c.useRef)(a);return(0,c.useEffect)(()=>{if(!n||!l)return;let i=!1,s=async(e,t,a)=>{r(eS);let l=await (0,ej.lS)(`${n}&start_entry=${e}&bytes=${t}&lines=${a}`);if(!i)try{if(l.ok){let e=await l.json();e&&(e.loading=e.loadMore,o.current=o.current.concat(e.extraDiffEntries),e.extraDiffEntries=o.current,e.loadMore&&d.current!==e.asyncDiffLoadInfo.startIndex?(d.current=e.asyncDiffLoadInfo.startIndex,r(e),setTimeout(()=>s(e.asyncDiffLoadInfo.startIndex,e.asyncDiffLoadInfo.byteCount,e.asyncDiffLoadInfo.lineShownCount),0)):(d.current===e.asyncDiffLoadInfo.startIndex?e.error=!0:e.error=!1,e.loading=!1,r(e)))}else r(e=>({...e,loading:!1,error:!0,extraDiffEntries:o.current}))}catch{r(e=>({...e,loading:!1,error:!0,extraDiffEntries:o.current}))}};return s(a,e,t),function(){i=!0}},[e,t,l,a,n,i]),(0,c.useEffect)(()=>{o.current=[],d.current=a},[n,a,i]),s}(S.asyncDiffLoadInfo.byteCount,S.asyncDiffLoadInfo.lineShownCount,S.asyncDiffLoadInfo.startIndex,W,S.moreDiffsToLoad,r);(0,c.useEffect)(()=>{Q.loading||p(!0)},[Q.loading,p]),(0,c.useEffect)(()=>{let e=t.concat(Q.extraDiffEntries);n&&n.size>0?_.current=e.filter(e=>!n.has((0,ey.QC)(e.path))):_.current=e,o&&(_.current=_.current.filter(e=>e.path.toLowerCase().includes(o.toLowerCase()))),T.current=e,I()},[Q.extraDiffEntries.length]);let X=(0,c.useRef)(null),[Y,J]=(0,c.useState)(0);(0,ex.N)(()=>{J(X.current?.offsetTop??0)},[]);let Z=(0,ev.XW)({count:g?0:_.current.length,estimateSize:(0,c.useCallback)(e=>{var t;let a;if(!A.current)return 0;let n=(t=_.current[e],a=57,t?.collapsed?a:t?.newTreeEntry?.isGenerated&&!t?.diffManuallyExpanded?199:t?.isTooBig?104:(t?.diffLines&&("compact"===v?a+=20*t.diffLines.length:a+=25*t.diffLines.length),t?.newTreeEntry?.lineCount&&t.newTreeEntry.lineCount>(t?.diffLines[t?.diffLines.length-1]?.right??0)&&(a+=32),a));return 0===e&&(n-=16),n},[v]),overscan:3,scrollMargin:Y,rangeExtractor(e){if(!A.current)return(0,eC.vp)(e);let t=e_(C.fV.hash.substring(1)),a=document.querySelector("[data-path-digest]:focus-within")?.getAttribute("data-path-digest"),n=_.current.findIndex(e=>e.pathDigest===a),l=_.current.findIndex(e=>t?.endsWith(e.pathDigest));return n<0&&l<0?(0,eC.vp)(e):Array.from(new Set([...(0,eC.vp)(e),...[n,l].filter(e=>e>-1)])).sort((e,t)=>e-t)}});(0,c.useEffect)(()=>{let e=b.includes("R"),t=b.includes("L"),a=t||e,n=a?t?b.split("L")[0]:b.split("R")[0]:b,l=l1(n??b,_.current);if(-1===l){if(Q.error&&null!==E){let e=E.current?.childNodes[0];e?.focus(),e?.scrollIntoView({block:"center"})}return}if(A.current)Z.scrollToIndex(l,{align:"center"}),requestAnimationFrame(()=>{if(a&&l2(X,b));else{let e=X.current?.querySelectorAll(`[aria-label="collapse file: ${_.current[l]?.path}"]`);e&&1===e.length&&e[0].focus()}});else if(a&&l2(X,b));else{let e=X.current?.querySelectorAll(`[data-diff-anchor=diff-${n}]`);if(e&&1===e.length){let t=e[0].getBoundingClientRect().top+(C.cg?.scrollY??0)-57-60;C.cg?.scrollTo(0,t);let a=X.current?.querySelectorAll(`[aria-label="collapse file: ${_.current[l]?.path}"]`);a&&1===a.length&&a[0].focus()}}},[b,Q]);let ee=(0,i.jsx)(eN,{currentPathDigestIndex:D,searchTerm:u,focusedSearchResult:O,currentIndex:U,setCurrentIndex:H,setFocusedSearchResult:B,setSearchTerm:m,searchResults:$,scrollDiffCellIntoView:e=>{let t=l1(e?.pathDigest??"",_.current);-1!==t&&(Z.scrollToIndex(t,{align:"center"}),requestAnimationFrame(()=>{var t,a;let n;t=e?.indexWithinDigest??0,a=e?.pathDigest??"",(n=C.XC?.getElementById(`match-${a}-${t}`))&&n.scrollIntoView({block:"center"})}))}});return(0,i.jsxs)("div",{"data-hpc":!0,ref:X,children:[A.current&&(0,i.jsx)(eR,{}),(0,i.jsx)(lG,{treeToggleElement:f,headerInfo:y,searchBox:ee,ignoreWhitespace:K,userNotices:S?.userNotices}),!A.current&&_.current.map((e,t)=>{let n,s;return $.has(e?.pathDigest??"")&&(n=$.get(e?.pathDigest??"")??[]),O&&e?.pathDigest===O?.pathDigest&&(s=O?.indexWithinDigest??-1),(0,i.jsx)("div",{style:{paddingTop:16*(0!==t),left:3,right:3},children:(0,i.jsx)(lU,{diffEntryData:_,diffMatches:n,focusedSearchResult:s,onOptionCollapseToggle:z,index:t,contextLinePathURL:a,recalcTotalHeightOfVirtualWindow:eb.l,repo:l,helpUrl:q.helpUrl,oid:M,ignoreWhitespace:K})},e.pathDigest)}),A.current&&(0,i.jsx)("div",{style:{height:Z.getTotalSize(),width:"100%",position:"relative"},children:Z.getVirtualItems().map(e=>{let t,n,s=_.current[e.index];return($.has(s?.pathDigest??"")&&(t=$.get(s?.pathDigest??"")??[]),O&&s?.pathDigest===O?.pathDigest&&(n=O?.indexWithinDigest??-1),s)?(0,i.jsx)("div",{ref:Z.measureElement,"data-index":e.index,style:{position:"absolute",paddingTop:16*(0!==e.index),left:3,right:3,transform:`translateY(${e.start-Z.options.scrollMargin}px)`},children:(0,i.jsx)(lU,{diffMatches:t,focusedSearchResult:n,diffEntryData:_,index:e.index,contextLinePathURL:a,onOptionCollapseToggle:z,recalcTotalHeightOfVirtualWindow:I,headerStickyOffset:-(e.start-Z.options.scrollMargin),helpUrl:q.helpUrl,repo:l,oid:M,ignoreWhitespace:K,virtualizerScrollTo:Z.scrollToIndex})},s.pathDigest):null})}),S.moreDiffsToLoad&&(0,i.jsxs)(i.Fragment,{children:[Q.loading&&(0,i.jsx)(lX,{}),Q.error&&(0,i.jsx)("div",{style:{justifyContent:"center",paddingTop:"16px"},ref:E,children:(0,i.jsx)(L.A,{variant:"danger",tabIndex:0,children:(0,i.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"There was a problem loading the remainder of the diff."})})})]})]})}function l1(e,t){for(let a=0;a<t.length;a++)if(e===t[a]?.pathDigest)return a;return -1}function l2(e,t){let a=e.current?.querySelectorAll(`[data-line-anchor=diff-${t}]`);return!!a&&1===a.length&&(a[0].focus(),!0)}try{lZ.displayName||(lZ.displayName="Diffs")}catch{}try{l0.displayName||(l0.displayName="DiffsUnmemoized")}catch{}var l4=a(70170),l3=a(56051),l8=a(1946),l7=a(94195);let l5="diff_file_tree",l9=(0,c.memo)(l6);function l6({contentId:e,diffs:t,onFileSelected:a,diffsHeader:n,unselectedFileExtensions:l,onFilterTextChange:s,onFileExtensionsChange:r}){let[o,d]=(0,c.useState)(""),{getCommentCountByPath:u}=(0,eO.B)(),m=(0,c.useRef)(null),p=(0,c.useRef)(null),g=(0,c.useRef)(null),f=(0,c.useMemo)(()=>(0,ey.s2)(t),[t]),h=t;l&&l.size>0&&(h=h.filter(e=>!l.has((0,ey.QC)(e.path))));let y=(o?h.filter(e=>e.path.toLowerCase().includes(o.toLowerCase())):h).map(e=>{let t=u(e.path);return{...e,totalCommentsCount:t??0}});return(0,i.jsxs)("div",{className:"d-flex flex-column gap-2",id:l5,tabIndex:-1,children:[(0,i.jsx)(j.ak,{commands:{"pull-requests-diff-file-tree:focus-file-tree":function(){let t=document.getElementById(e),a=document.getElementById(l5),n=!1;if(t?.contains(document.activeElement)&&(n=!0),n){let e=g.current||a;p.current=t?.contains(document.activeElement)?document.activeElement:null,e?.focus()}else{let e=p.current||t;g.current=a?.contains(document.activeElement)?document.activeElement:null,e?.focus()}}}}),(0,i.jsx)("h2",{className:"sr-only",children:"File tree"}),(0,i.jsx)("div",{className:"d-md-none",ref:m,children:n}),(0,i.jsx)(ie,{filterText:o,onFilterTextChange:e=>{d(e),s(e)},fileExtensions:f,unselectedFileExtensions:l,onFileExtensionsChange:r}),(0,i.jsx)(l8.oj,{diffs:y,onSelect:()=>{a((0,l7.nn)(window.innerWidth)<=l7.Gy.medium?"close_tree":void 0)},sortByDiffOrder:!1})]})}function ie({filterText:e,onFilterTextChange:t,fileExtensions:a,unselectedFileExtensions:n,onFileExtensionsChange:l}){let s=(0,c.useRef)((0,l4.s)(e=>t(e),250));return(0,i.jsx)(l3.kF,{filterText:e,fileExtensions:a,unselectedFileExtensions:n,onFilterTextChange:e=>s.current(e),onFilterChange:(e,t)=>{l(e,t.extension)}})}try{l9.displayName||(l9.displayName="FileTree")}catch{}try{l6.displayName||(l6.displayName="FileTreeUnmemoized")}catch{}try{ie.displayName||(ie.displayName="FileFilter")}catch{}var it=a(21935);async function ia({repo:e,commitOid:t,untilCommentId:a}){let n=await (0,ej.Sr)((0,x.clg)({owner:e.ownerLogin,repo:e.name,commitOid:t,untilCommentId:a}));if(n.ok)return await n.json();throw Error("Failed to fetch comment data")}var il=a(8624),ii=a(71833);let is={sm:l7.Gy.small,md:l7.Gy.medium,lg:l7.Gy.large},ir={size:"medium",mobileBreakpoint:"md"},io=(0,c.createContext)({diffFindOpen:!1,setDiffFindOpen:()=>void 0});function id({children:e,searchTerm:t,setSearchTerm:a}){let n=(0,c.useRef)(""),[l,s]=(0,c.useState)(!1),r=(0,c.useCallback)(e=>{e&&""===t&&""!==n.current?a(n.current):e||""===t||(n.current=t,a("")),s(e)},[t,a]),o=(0,c.useMemo)(()=>({diffFindOpen:l,setDiffFindOpen:r}),[l,r]);return(0,i.jsx)(io.Provider,{value:o,children:e})}try{io.displayName||(io.displayName="DiffFindOpenContext")}catch{}try{id.displayName||(id.displayName="DiffFindOpenProvider")}catch{}let ic=(0,v.E7)(),iu="diff-content-parent";function im(){var e;let t;(0,I.L)(!0);let a=(0,d.B)(),{splitPagePaneHidden:n,splitPageContentHidden:l,treeToggleElement:r,collapseTree:u,isMobileTreeExpanded:m,isTreeExpanded:p}=function(e,t,a,n){let l={...ir,...void 0},[s]=(0,S.I)(()=>!1,!0,[]),r=(0,c.useRef)(null),o=(0,c.useRef)(null),d=is[l.mobileBreakpoint??"md"],[u,m]=(0,c.useState)(t),[p,g]=(0,c.useState)(!1),f=(0,c.useCallback)(()=>{(0,l7.nn)(window.innerWidth)<=d?(g(!0),requestAnimationFrame(()=>o.current?.focus())):(m(!0),(0,ii.B)(!0,a),requestAnimationFrame(()=>r.current?.focus()))},[d,a]),h=(0,c.useCallback)(()=>{(0,l7.nn)(window.innerWidth)<=d?(g(!1),requestAnimationFrame(()=>o.current?.focus())):(m(!1),(0,ii.B)(!1,a),requestAnimationFrame(()=>r.current?.focus()))},[d,a]),y=(0,c.useMemo)(()=>(0,i.jsx)(il.L,{expanded:u,alignment:"left",ariaLabel:u?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:r,onToggleExpanded:()=>{u?h():f()},className:`d-none d-${l.mobileBreakpoint}-flex position-relative`,size:l.size}),[u,e,l.mobileBreakpoint,l.size,h,f]),b=(0,c.useMemo)(()=>(0,i.jsx)(il.L,{expanded:p,alignment:"left",ariaLabel:p?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:o,onToggleExpanded:()=>{p?h():f()},className:`d-${l.mobileBreakpoint}-none position-relative`,size:l.size}),[p,e,l.mobileBreakpoint,l.size,h,f]);return{splitPagePaneHidden:s&&!t,splitPageContentHidden:{narrow:p,regular:!1},isTreeExpanded:u,isMobileTreeExpanded:p,expandTree:f,collapseTree:h,treeToggleElement:(0,c.useMemo)(()=>(0,i.jsxs)(i.Fragment,{children:[b,y]}),[b,y]),treeToggleRef:r}}(l5,a.fileTreeExpanded,a.currentUser),[g,v]=(0,c.useState)(()=>new Set),[L]=(0,S.I)(()=>!1,!0,[]),[w,T]=(0,c.useState)(""),[A,E]=(0,c.useState)(""),[D,R]=(0,c.useState)(!1),M=(0,c.useCallback)(e=>{"close_tree"===e&&u()},[u]),V=function(e){let t=(0,s.t)(),[a,n]=(0,c.useState)({branches:[],tags:[],loading:!0});return(0,c.useEffect)(()=>{let a=!1;return(async()=>{n({branches:[],tags:[],loading:!0});let l=await (0,ej.lS)((0,x.jnS)({owner:t.ownerLogin,repo:t.name,commitish:e}));if(!a)try{if(l.ok){let e=await l.json();e.loading=!1,e&&n({...e,loading:!1})}else n({branches:[],tags:[],loading:!1})}catch{n({branches:[],tags:[],loading:!1})}})(),function(){a=!0}},[t.ownerLogin,t.name,e]),a}(a.commit.oid),O=(0,x.t0c)({owner:a.repo.ownerLogin,repo:a.repo.name,commitish:a.commit.oid}),{mutate:B}=(0,f.U)({onSuccess:()=>{},onError:()=>{}}),$=(0,h.C0)(a.splitViewPreference),U=(0,c.useMemo)(()=>({splitPreference:$,lineSpacing:a.diffLineSpacingPreference,commentsPreference:a.commentsPreference}),[a.commentsPreference,a.diffLineSpacingPreference,$]),{data:H}=(0,h.ID)(U),z=(0,c.useCallback)(()=>{B({commentsPreference:H?.commentsPreference===y.sI.Visible?y.sI.Collapsed:y.sI.Visible})},[H?.commentsPreference,B]),q=(0,c.useCallback)((e,t)=>{let a=new Set(g);"selectFileExtension"===e?a.delete(t):"unselectFileExtension"===e&&a.add(t),v(a)},[g]);(0,c.useEffect)(()=>{v(new Set)},[a.commit]),(0,c.useEffect)(()=>{(C.cg?.scrollY??0)>0&&C.cg?.scrollTo(0,0)},[a.path]);let{deferredCommentData:G,state:W}=function(e,t){let[a,n]=(0,c.useState)(void 0),[l,i]=(0,c.useState)("initial");return(0,c.useEffect)(()=>{let a;n(void 0),i("loading");let l=C.cg?.location.hash;l&&/^#commitcomment-\d+$/.test(l)&&(a=l.replace("#commitcomment-","")),(async()=>{try{let l=await ia({repo:e,commitOid:t,untilCommentId:a});n(l),i("loaded")}catch{i("error")}})()},[t,e]),{deferredCommentData:a,state:l}}(a.repo,a.commit.oid),Q=G?.threadMarkers,X=G?.inlineComments,[Y,J]=(0,c.useState)(!a.moreDiffsToLoad),[Z,ee]=(0,c.useState)(void 0);if((0,c.useEffect)(()=>{if("loaded"===W&&Y){let e=C.cg?.location.hash.slice(1);if(e&&G){if(/^commitcomment-\d+$/.test(e))G?.discussionComments.comments.find(t=>t.urlFragment===e)&&C.cg?.requestAnimationFrame(()=>{let t=document.getElementById(e??"");t&&(t.scrollIntoView({block:"center"}),t.focus())});else if(/^r\d+$/.test(e)){let t=e.replace("r","");for(let e of G.threadMarkers)if(e.threads){for(let a of e.threads)if(a.commentsData.comments){for(let e of a.commentsData.comments)if(e&&e.id&&e.id.toString()===t)return void ee(a.id)}}}}}},[Y,G,W]),a.unavailableReason)return(0,i.jsx)(ef,{commit:a.commit,commitInfo:V,unavailableReason:a.unavailableReason});let[et,ea]=[-2==(t=(e=a.diffEntryData).findIndex(e=>void 0===e.oldOid)-1)?e:e.slice(0,t+1),e.map(e=>({path:e.path,changeType:e.status,pathDigest:e.pathDigest}))];return(0,i.jsx)(_.RelayEnvironmentProvider,{environment:ic,children:(0,i.jsxs)(eO.r,{initialInlineComments:X,initialFiles:Q,initialExpandedThreadId:Z,children:[(0,i.jsx)(j.ak,{commands:{"commit-diff-view:create-permalink":()=>{let e=(0,x.$Qz)({owner:a.repo.ownerLogin,repo:a.repo.name,commitish:a.commit.oid});(0,k.kd)(e)},"commit-diff-view:collapse-expand-comments":z}}),(0,i.jsxs)(N.O7,{children:[(0,i.jsxs)(N.O7.Header,{children:[(0,i.jsx)(K,{commitBranchState:V,oid:a.commit.oid,repo:a.repo}),(0,i.jsx)(eu,{commit:a.commit,commitInfo:V,repo:a.repo})]}),(0,i.jsx)(N.O7.Pane,{position:"start",sticky:!0,divider:{regular:"line",narrow:"none"},widthStorageKey:"diff-tree-pane-width",resizable:!0,className:(0,F.$)(n?"Commit-module__HiddenPane--CH19B":"Commit-module__Pane--jjRPV",m&&"Commit-module__MobileExpanded--TvGDJ",p&&"Commit-module__TreeExpanded--mn5GU"),children:(0,i.jsx)(o.t,{fallback:(0,i.jsx)("span",{children:"File tree failed to load."}),children:(0,i.jsx)(l9,{contentId:iu,diffs:ea,onFileSelected:M,unselectedFileExtensions:g,diffsHeader:(0,i.jsx)(lG,{treeToggleElement:r,headerInfo:a.headerInfo}),onFileExtensionsChange:q,onFilterTextChange:T})})}),(0,i.jsx)(N.O7.Content,{as:"div",width:"full",hidden:l,padding:"none",className:"Commit-module__SplitPageLayout_Content--uy_M4",children:(0,i.jsxs)("div",{id:iu,tabIndex:-1,children:[L?(0,i.jsx)(lJ,{diffEntryData:et,contextLinePathURL:O,repo:a.repo,oid:a.commit.oid,treeToggleElement:r,headerInfo:a.headerInfo,totalFileCount:a.diffEntryData?.length??0}):(0,i.jsx)(id,{searchTerm:A,setSearchTerm:E,children:(0,i.jsx)(lZ,{totalFileCount:a.diffEntryData?.length??0,treeToggleElement:r,headerInfo:a.headerInfo,isTreeExpanded:m,searchTerm:A,setSearchTerm:E,setCanFocusComments:J,ignoreWhitespace:a.ignoreWhitespace,diffEntryData:et,contextLinePathURL:O,filterTerm:w,unselectedFileExtensions:g,repo:a.repo,oid:a.commit.oid})}),(0,i.jsx)(it.c,{comments:G?.discussionComments?.comments,commentCount:G?.discussionComments?.count,canLoadMore:G?.discussionComments?.canLoadMore,subscribed:G?.subscribed,providerState:W,repo:a.repo,commitOid:a.commit.oid,children:(0,i.jsx)(P.$,{commit:a.commit,commentInfo:a.commentInfo,repoOwnerGlobalRelayId:a.repoOwnerGlobalRelayId})}),(0,i.jsx)(b.nq,{})]})})]})]})})}try{im.displayName||(im.displayName="Commit")}catch{}var ip=a(69599);function ig({url:e}){return(0,i.jsx)("div",{className:"text-center",children:(0,i.jsxs)("p",{className:"color-fg-muted f6 mt-4",children:["Seeing something unexpected? Take a look at the",(0,i.jsxs)(U.A,{inline:!0,href:e,children:[" ","GitHub commits guide"]}),"."]})})}try{ig.displayName||(ig.displayName="CommitHelpMessage")}catch{}let ih=(0,c.createContext)({since:null,until:null,author:null,currentBlobPath:"",pagination:{hasNextPage:!1,hasPreviousPage:!1,endCursor:"",startCursor:""},newPath:null,originalBranch:null});function iy({filters:e,children:t}){return(0,i.jsx)(ih.Provider,{value:e,children:t})}function ib(){return(0,c.useContext)(ih)}try{ih.displayName||(ih.displayName="FilterContext")}catch{}try{iy.displayName||(iy.displayName="FilterProvider")}catch{}var ik=a(34745),ix=a(4095),iv=a(89830);function iC(){let e=ib();return e.newPath&&e.originalBranch}function ij(){let e=(0,s.t)(),t=ib();return iC()?(0,i.jsx)(iv.s,{className:"FileHistory-module__TimelineRow--IgQLc",children:(0,i.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,i.jsx)(iv.s.Heading,{as:"h3",title:`Renamed to ${t.newPath}`,"data-testid":"commit-note-title"}),(0,i.jsx)(el.N,{to:(0,x.GpY)({owner:e.ownerLogin,repo:e.name,ref:t.originalBranch,path:t.newPath}),children:"(Browse History)"})]})}):null}function iS(){let e=(0,ix.ej)();return e?.hasRenameCommits?(0,i.jsx)(iv.s,{children:(0,i.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,i.jsx)(iv.s.Heading,{as:"h3",title:`Renamed from ${e?.oldName}`,"data-testid":"commit-note-title"}),(0,i.jsx)(el.N,{to:e?.historyUrl,children:"(Browse History)"})]})}):null}function iI(){let e=(0,ix.ej)();return e?.hasRenameCommits?null:(0,i.jsx)(iv.s,{clipTimeline:"bottom",children:(0,i.jsx)(iv.s.Heading,{as:"h3",title:"End of commit history for this file","data-testid":"commit-note-title"})})}function iN(){let e=ib(),t=(0,ix.xs)();return!e.currentBlobPath||e.currentBlobPath&&e.pagination.hasNextPage?null:(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(iv.s,{leadingVisual:(0,i.jsx)(tC.A,{size:"small"})}),!t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iS,{}),(0,i.jsx)(iI,{})]})]})}try{ij.displayName||(ij.displayName="RenamedToHistory")}catch{}try{iS.displayName||(iS.displayName="RenamedFromHistory")}catch{}try{iI.displayName||(iI.displayName="EndOfFileHistory")}catch{}try{iN.displayName||(iN.displayName="EndOfFile")}catch{}function iF({commitGroups:e,deferredDataUrl:t,softNavToCommit:a}){let n,l,r=ib(),o=(0,s.t)(),d=(0,W.wu)(t);return(0,i.jsxs)("div",{className:"mb-3","data-hpc":!0,children:[(0,i.jsx)(nN.A,{as:"h2",className:"sr-only",children:"Commit History"}),(0,i.jsx)(ik.f,{leadingContent:(0,i.jsx)(ij,{}),commitGroups:e,trailingContent:(0,i.jsx)(iN,{}),repository:o,deferredCommitData:d,shouldClipTimeline:(n=iC(),l=ib(),!n&&!l.pagination.hasPreviousPage),currentBlobPath:r.currentBlobPath,softNavToCommit:a})]})}try{iF.displayName||(iF.displayName="CommitList")}catch{}var i_=a(78328),iL=a(4817),iw=a(54589),iT=a(62935);let iA="CopilotCommitRecapPanel-module__Box_4--G1Y8S",iE="CopilotCommitRecapPanel-module__Text_2--B03jL",iK="CopilotCommitRecapPanel-module__fadeInAuthor--sP6yf",iP="CopilotCommitRecapPanel-module__isHidden--XMEtq",iD=({size:e})=>(0,i.jsxs)(z.A,{className:"ml-2",variant:(e=>{switch(e.toUpperCase()){case"XS":case"S":return"success";case"M":return"attention";case"L":return"severe";case"XL":return"danger";default:return"secondary"}})(e),size:"small",children:["size: ",e]}),iR=({initials:e})=>(0,i.jsx)("div",{className:"CopilotCommitRecapPanel-module__Box--FD5ej",children:e.toUpperCase()}),iM=({login:e,avatarUrl:t,name:a,repoOwner:n,repoName:l,refName:s})=>{let r=(e=>{let t=e.trim();if(!t)return"??";let a=t.split(/\s+/).filter(e=>e.length>0);return a.length>=2?(a[0]?.charAt(0)||"")+(a[a.length-1]?.charAt(0)||""):t.charAt(0)+(t.charAt(1)||"")})(e||a);if(t&&e){let a=`/${encodeURIComponent(n)}/${encodeURIComponent(l)}/commits${s?`/${encodeURIComponent(s)}`:""}?author=${encodeURIComponent(e)}`;return(0,i.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer nofollow",className:"CopilotCommitRecapPanel-module__avatarLink--o9oMm",children:(0,i.jsx)(aC.r,{src:t,size:24,alt:`@${e}`})})}return(0,i.jsx)(iR,{initials:r})},iV=({author:e,repoOwner:t,repoName:a,refName:n,className:l})=>{if(e.login){let s=`/${encodeURIComponent(t)}/${encodeURIComponent(a)}/commits${n?`/${encodeURIComponent(n)}`:""}?author=${encodeURIComponent(e.login)}`;return(0,i.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer nofollow",className:`${l} CopilotCommitRecapPanel-module__authorNameLink--iNSl5`,children:e.name})}return(0,i.jsx)("span",{className:`${l} CopilotCommitRecapPanel-module__authorNameText--GppXf`,children:e.name})},iO=({pr:e,repoOwner:t,repoName:a})=>{let n=`/${encodeURIComponent(t)}/${encodeURIComponent(a)}/pull/${encodeURIComponent(e.number)}`;return(0,i.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"CopilotCommitRecapPanel-module__prLink--zm2QK",children:[(0,i.jsx)("span",{style:{color:"merged"===e.state?"var(--fgColor-done)":"var(--fgColor-open)"},children:(0,i.jsx)(u.GitPullRequestIcon,{size:16})}),(0,i.jsxs)("span",{children:["#",e.number]})]})},iB=({pr:e,commits:t,size:a,repoOwner:n,repoName:l})=>{let s=(()=>{if(1===t.length&&t[0])return(0,x.$Qz)({owner:n,repo:l,commitish:t[0].oid});if(t.length>=2){let e=t.filter(e=>e.author?.date&&""!==e.author.date.trim());if(e.length>=2){let t=[...e].sort((e,t)=>new Date(e.author.date).getTime()-new Date(t.author.date).getTime());if(t.length>=2){let e=t[0],a=t[t.length-1];if(e&&a)return`/${encodeURIComponent(n)}/${encodeURIComponent(l)}/compare/${e.oid}^...${a.oid}`}}}return null})(),r=t.length;return(0,i.jsxs)("div",{className:"CopilotCommitRecapPanel-module__commitMetadataContainer--zl5sU",children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[s?(0,i.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"CopilotCommitRecapPanel-module__commitCountLink--OK0QX",children:[(0,i.jsx)(u.GitCommitIcon,{size:16}),1===r?"1 commit":`${r} commits`]}):(0,i.jsxs)("span",{className:"CopilotCommitRecapPanel-module__commitCountText--Ym2YE",children:[(0,i.jsx)(u.GitCommitIcon,{size:16}),1===r?"1 commit":`${r} commits`]}),a&&(0,i.jsx)(iD,{size:a})]}),e&&(0,i.jsx)(iO,{pr:e,repoOwner:n,repoName:l})]})},i$=[];function iU({isVisible:e,isLoading:t,analysis:a,repoOwner:n,repoName:l,refName:s,onClose:r,commitGroups:o=i$}){let d=(0,c.useRef)(null),m=(0,c.useRef)(null),{sendClickAnalyticsEvent:p}=(0,aK.S)(),[g,f]=(0,c.useState)(!1),h=a.analysisData,y=a.errorMessage,b=(0,c.useMemo)(()=>{let e=new Map;for(let t of h)e.set(t.oid,{summary:t.summary,size:t.size});return e},[h]),k=(0,c.useMemo)(()=>o&&0!==o.length?o.map((e,t)=>{let a=new Map;for(let t of e.commits)if(t.author){let e=t.author.login||t.author.name;a.has(e)||a.set(e,{login:t.author.login,avatarUrl:t.author.avatar_url,name:t.author.name})}return{groupIndex:t,authors:Array.from(a.values()),commitCount:e.commits.length,commits:e.commits,pr:e.pr}}):[],[o]),x=!!y,v=(0,c.useCallback)(e=>{p({category:"copilot.commit-recap",action:`feedback-${e}`,refName:s||""}),f(!0)},[p,s]),C=(0,c.useCallback)(()=>{p({category:"copilot.commit-recap",action:"panel-closed",refName:s||""}),r?.()},[r,p,s]);if((0,c.useEffect)(()=>{let e=m.current;if(!e)return;let t=e=>{let t=e.target.closest("a");t&&t.href&&p({category:"copilot.commit-recap",action:"link-clicked",refName:s||"",href:t.href})};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}},[e,s,h,p]),!e)return null;let j=0===h.length&&!x;return(0,i.jsxs)("div",{className:"CopilotCommitRecapPanel-module__Box_1--nhXX2",ref:m,children:[(0,i.jsxs)("div",{className:"CopilotCommitRecapPanel-module__Box_2--xtWb6",children:[(0,i.jsxs)("div",{className:"CopilotCommitRecapPanel-module__headerContainer--DVfrh",children:[(0,i.jsx)(w.A,{icon:u.CopilotIcon,className:"CopilotCommitRecapPanel-module__Octicon--mL7Wb"}),(0,i.jsx)(nN.A,{as:"h3",className:"CopilotCommitRecapPanel-module__Heading--xNRxb",children:"Commit recap"}),(0,i.jsx)(iw.X,{className:"pl-2"})]}),r&&(0,i.jsx)(H.K,{"aria-label":"Close commit recap",icon:u.XIcon,size:"small",variant:"invisible",onClick:C})]}),j&&(0,i.jsxs)("div",{className:"CopilotCommitRecapPanel-module__Box_3--j9Ce0",children:[(0,i.jsx)("div",{className:iA,children:(0,i.jsx)(i_.A,{})}),(0,i.jsx)("span",{className:"CopilotCommitRecapPanel-module__Text--M5_1P",children:"Analyzing recent commits..."})]}),x&&(0,i.jsx)(L.A,{variant:"danger",className:iA,children:y}),h.length>0&&!x&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{ref:d,className:`CopilotCommitRecapPanel-module__Box_5--iXw2r ${iK}`,children:k.map((e,a)=>{let r=e.commits[0]?.oid,o=r?b.get(r):void 0,d=e.authors,c=e.commits.reduce((e,t)=>{let a=new Date(t.author?.date||0);return a>e?a:e},new Date(0));return o?(0,i.jsxs)("div",{className:"CopilotCommitRecapPanel-module__Box_6--_r4Ho",children:[d.length>0&&(0,i.jsxs)("div",{className:"CopilotCommitRecapPanel-module__Box_7--C0btw",children:[d.slice(0,3).map((e,r)=>(0,i.jsx)("div",{className:`${iK} ${t&&a===k.length-1?iP:""}`,style:{animationDelay:`${200*a+100*r}ms`},children:(0,i.jsx)(iM,{login:e.login,avatarUrl:e.avatarUrl,name:e.name,repoOwner:n,repoName:l,refName:s})},e.login||e.name)),d.length>3&&(0,i.jsxs)("span",{className:"CopilotCommitRecapPanel-module__Text_1--SYCkI",children:["+",d.length-3]})]}),(0,i.jsxs)("div",{className:`CopilotCommitRecapPanel-module__Box_8--ETSez ${iK}`,style:{animationDelay:`${200*a}ms`},children:[d.length>0&&(0,i.jsxs)("span",{children:[d.map((e,t)=>(0,i.jsxs)("span",{children:[(0,i.jsx)(iV,{author:e,repoOwner:n,repoName:l,refName:s,className:iK}),t<d.length-1&&", "]},e.login||e.name)),(0,i.jsx)(iT.A,{className:`${iK} CopilotCommitRecapPanel-module__relativeTime--dlXGT`,date:c})]}),(0,i.jsx)(iL.To,{markdown:o.summary,isStreaming:!1,openLinksInCurrentTab:!1})]}),e&&(0,i.jsx)("div",{className:`${iK} ${t&&a===k.length-1?iP:""}`,style:{animationDelay:`${200*a+300}ms`},children:(0,i.jsx)(iB,{pr:e.pr,commits:e.commits,size:e.commits.length>0&&e.commits[0]?.oid?b.get(e.commits[0].oid)?.size:void 0,repoOwner:n,repoName:l})})]},`commitGroup-${e.groupIndex}`):null})})}),(0,i.jsxs)("div",{className:"CopilotCommitRecapPanel-module__Footer--MlgKD",children:[(0,i.jsx)("span",{className:iE,children:"AI-generated content may be inaccurate. Please verify important information."}),g?(0,i.jsxs)("span",{className:iE,children:["Thank you. This feature is under development and ",(0,i.jsx)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSeKJgUAL0ENwW13Qy-QuiihzSfXfs81vzP0Jc5FZX-CCNDJnQ/viewform",children:"detailed feedback"})," is appreciated!"]}):(0,i.jsxs)("div",{className:"CopilotCommitRecapPanel-module__FeedbackButtons--fU6am",children:[(0,i.jsx)(H.K,{"aria-label":"Good summary",icon:u.ThumbsupIcon,size:"small",variant:"invisible",onClick:()=>v("positive")}),(0,i.jsx)(H.K,{"aria-label":"Bad summary",icon:u.ThumbsdownIcon,size:"small",variant:"invisible",onClick:()=>v("negative")})]})]})]})}try{iD.displayName||(iD.displayName="SizeBadge")}catch{}try{iR.displayName||(iR.displayName="Monogram")}catch{}try{iM.displayName||(iM.displayName="AuthorAvatar")}catch{}try{iV.displayName||(iV.displayName="AuthorNameLink")}catch{}try{iO.displayName||(iO.displayName="RichPullRequestLink")}catch{}try{iB.displayName||(iB.displayName="CommitGroupMetadata")}catch{}try{iU.displayName||(iU.displayName="CopilotCommitRecapPanel")}catch{}var iH=a(66990),iz=a(96459),iq=a(40058),iG=a(29295),iW=a(84929),iQ=a(96912),iX=a(5225);async function iY(e){let t=await (0,ej.lS)(e);return t.ok?await t.json():void 0}let iJ=new Map,iZ=(0,iX.A)(iY,{cache:iJ});function i0(e,t){let a=new URL(C.fV.origin+C.fV.pathname+C.fV.search,C.fV.origin),n=a.searchParams;for(let e of t)n.has(e)&&n.delete(e);for(let[t,a]of Object.entries(e))n.set(t,a.toString());return a.pathname+a.search}var i1=a(6907);let i2=(0,c.lazy)(()=>Promise.resolve().then(a.bind(a,83463)).then(e=>({default:e.DatePicker}))),i4=()=>(0,i.jsx)(w.A,{icon:u.CalendarIcon,className:(0,F.$)("fgColor-muted","ListHeader-module__calendarIcon--ubuuD")});function i3({repo:e,refInfo:t,path:a,author:n,contributorsUrl:l,since:r,until:o,showCopilotButton:d=!1,showCopilotPopover:m=!1,onCopilotRecap:p,isLoadingCopilotRecap:g=!1}){let f=t.name;f===t.currentOid&&(f=(0,Q.F)(t.currentOid));let h=(0,iz.Z)(),y=function(e){let t=(0,s.t)(),[a,n]=(0,c.useState)({users:[],error:!1,loading:!0});return(0,c.useEffect)(()=>{let t=!1;return(async()=>{n({users:[],error:!1,loading:!0});let a=await iZ(e);if(t)return;let l=[],i=!1;try{a?l=a.authors:i=!0}catch{i=!0}n({users:l,error:i,loading:!1})})(),function(){t=!0}},[t,"",e,"all"]),a}(l),[b,k]=(0,c.useState)(m);c.useEffect(()=>{k(m)},[m]);let v=(0,c.useCallback)(async()=>{k(!1),await (0,ej.DI)("/settings/dismiss-notice/copilot_commit_recap_new_user_popover",{method:"POST"})},[]),C=c.useMemo(()=>{let e=(0,iW.H)(r??""),t=(0,iW.H)(o??"");return(0,iQ.f)(e)&&(0,iQ.f)(t)?{from:e,to:t}:null},[r,o]),j=a?.split("/");return(0,i.jsxs)(D.B,{direction:"horizontal",gap:"condensed",justify:"space-between",className:"mb-3",children:[a&&(0,i.jsx)("div",{className:"d-flex flex-items-center",children:(0,i.jsxs)("div",{className:"d-flex flex-items-baseline flex-column flex-sm-row",children:[(0,i.jsx)(nN.A,{as:"h2",className:"sr-only",children:"Breadcrumbs"}),(0,i.jsx)("span",{className:"fgColor-default no-wrap",children:"History for"}),(0,i.jsxs)(aD.BI,{className:"ml-1",children:[(0,i.jsx)(aD.BI.Item,{href:(0,x.GpY)({owner:e.ownerLogin,repo:e.name}),children:e.name}),j.map((a,n,l)=>{let s=(0,x.GpY)({owner:e.ownerLogin,repo:e.name,ref:t.name,path:l.slice(0,n+1).join("/")}),r=n===l.length-1;return(0,i.jsx)(aD.BI.Item,{sx:{...r?{fontWeight:"bold"}:{}},href:s,selected:r,className:"ListHeader-module__breadcrumbItem--UVN4V",children:a},s)})]}),(0,i.jsxs)("div",{className:"no-wrap",children:[(0,i.jsx)("span",{className:"mr-2 ml-0 ml-sm-2 fgColor-default",children:"on"}),(0,i.jsx)(ee.A,{href:(0,x.IO9)({repo:e,commitish:t.name,action:"tree"}),children:f})]})]})}),!a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nN.A,{as:"h2",className:"sr-only",children:"Branch selector"}),(0,i.jsx)(iH.PI,{cacheKey:t.listCacheKey,canCreate:!1,hotKey:"w",currentCommitish:t.name,getHref:t=>(0,x.GpY)({owner:e.ownerLogin,repo:e.name,ref:t}),selectedRefType:t.refType,defaultBranch:e.defaultBranch,owner:e.ownerLogin,repo:e.name,idEnding:"commits"})]}),(0,i.jsxs)("div",{className:"d-flex flex-column flex-sm-row gap-2",children:[d&&(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)($.Q,{variant:"default",leadingVisual:u.CopilotIcon,disabled:g,onClick:p,children:g?"Analyzing\u2026":"Commit recap"}),b&&(0,i.jsx)(iG.A,{relative:!1,open:!0,caret:"top",className:"mt-2",style:{left:"50%",transform:"translateX(-50%)"},children:(0,i.jsxs)(iG.A.Content,{overflow:"visible",className:"p-3",children:[(0,i.jsx)("div",{className:"mb-2",children:(0,i.jsx)("strong",{children:"Introducing the commit recap"})}),(0,i.jsx)("div",{className:"mb-3 text-small",children:"Groups together commits to cut through noise with summarized changes and linked pull requests."}),(0,i.jsx)("div",{className:"d-flex gap-2",children:(0,i.jsx)($.Q,{size:"small",onClick:v,children:"OK, got it"})})]})})]}),(0,i.jsx)(nN.A,{as:"h2",className:"sr-only",children:"User selector"}),(0,i.jsx)(iq.T,{defaultText:"All users",width:"medium",usersState:y,showTypedInUser:!0,currentUser:n??void 0,onOpenChange:e=>e,onSelect:e=>{e.login!==n?.login&&h(i0({author:e.login},["author","before","after"]))},renderCustomFooter:()=>(0,i.jsx)("div",{className:"px-2 py-3 border-top border-color-border-default",children:(0,i.jsx)($.Q,{variant:"link",as:"a",href:i0({},["author"]),block:!0,children:"View commits for all users"})})}),(0,i.jsxs)(c.Suspense,{fallback:(0,i.jsx)($.Q,{leadingVisual:i4,trailingVisual:u.TriangleDownIcon,children:"All time"}),children:[(0,i.jsx)(nN.A,{as:"h2",className:"sr-only",children:"Datepicker"}),(0,i.jsx)(i2,{variant:"range",value:C,minDate:new Date(2005,3,7),maxDate:new Date,showTodayButton:!0,showClearButton:!0,compressedHeader:!0,onChange:e=>{if(!e)return void h(i0({},["since","until"]));let t=function(e){if(e)return{startDate:(0,i1.x)(e.from,{representation:"date"}),endDate:(0,i1.x)(e.to,{representation:"date"})}}(e);if(!t)return;let{startDate:a,endDate:n}=t;h(i0({since:a,until:n},["before","after"]))},placeholder:"All time",anchor:({children:e,...t})=>(0,i.jsx)($.Q,{...t,"data-testid":"date-picker-commits",leadingVisual:i4,trailingVisual:u.TriangleDownIcon,children:e})})]})]})]})}try{i2.displayName||(i2.displayName="DatePicker")}catch{}try{i4.displayName||(i4.displayName="StyledCalendarIcon")}catch{}try{i3.displayName||(i3.displayName="ListHeader")}catch{}function i8({paginationInfo:e}){let t=e.hasPreviousPage,a=e.hasNextPage,n=e=>e?{"aria-disabled":!0,sx:{backgroundColor:"transparent",border:"none",cursor:"default",color:"primer.fg.disabled",fontWeight:"normal"},onClick:e=>e.preventDefault()}:{};if(!t&&!a)return null;let{sx:l,...s}=n(!t);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nN.A,{as:"h2",className:"sr-only",children:"Pagination"}),(0,i.jsx)("div",{className:"d-flex flex-justify-center mt-2",children:(0,i.jsxs)(a6.A,{children:[(0,i.jsx)(aD.$n,{as:el.N,to:i7(e,!1),className:"fgColor-accent text-normal",...s,sx:l,tabIndex:0,variant:"invisible","data-testid":"pagination-prev-button",leadingVisual:t?()=>(0,i.jsx)(w.A,{icon:u.ChevronLeftIcon,className:"fgColor-accent"}):null,children:"Previous"}),(0,i.jsx)(aD.$n,{as:el.N,to:i7(e,!0),className:"fgColor-accent text-normal",...n(!a),tabIndex:0,variant:"invisible","data-testid":"pagination-next-button",trailingVisual:a?()=>(0,i.jsx)(w.A,{icon:u.ChevronRightIcon,className:"fgColor-accent"}):null,children:"Next"})]})})]})}function i7(e,t){return i0(t?{after:e.endCursor}:{before:e.startCursor},[t?"before":"after"])}try{i8.displayName||(i8.displayName="Pagination")}catch{}var i5=a(67084);function i9({children:e,title:t}){return(0,i.jsxs)(i5.M,{rowGap:"none",children:[(0,i.jsx)(i5.M.Header,{divider:"line",className:"Layout-module__LayoutHeader--pSMxQ",children:(0,i.jsx)("div",{className:"d-flex flex-items-center flex-justify-between",children:(0,i.jsx)(nN.A,{as:"h1",className:"f2 text-normal pb-2",id:"commits-pagehead",children:t})})}),(0,i.jsx)(i5.M.Content,{as:"div",children:(0,i.jsx)("div",{children:e})})]})}try{i9.displayName||(i9.displayName="Layout")}catch{}var i6=a(21067),se=a(65411),st=a(25641),sa=a(53419),sn=a(97286);let sl="Failed to generate commit recap";function si(e,t,a,n,l){let i=n?` at path ${n}`:"";return`Below is a JSON array of metadata for a series of commits in the repository ${e}/${t}${i} on branch ${a}.

${JSON.stringify(l,null,2)}

Each entry in the array represents metadata for a group of commits. These groups represent logical units of work, such as those merged together from a pull request or by the same author in a short timeframe.

You will provide an analysis of each commit group, writing a brief summary and scoring its size in terms of the file.

#### oid

This is the oid value of the first commit in the commit group, used as an identifier to ensure proper ordering.

#### summary

- These are terse, succinct paragraphs of 1-2 sentences, summarizing the work represented by the commit group.
- Focus on the content of the included commit diffEntries as a source of truth.
- Prefer a past-tense imperative "changelog entry" style, in simple, even "telegraphic" terms. Start the first sentence with a verb.
- Avoid directly referencing the author or the pull request that contributed the change.
- Avoid using the file as an object in the sentence, it's self-evident that the changes are being made to the file.
- Consider both the specific structure of the changes (functions/templates/config values/etc) and the general impact on the nature and purpose of the file.
- Descriptive context like the explicit purpose/intent of a change (from the commit message, pull request title, or pull request body) of the change may be used.
- If that context includes links (such as to a GitHub issue) that are NOT the author or pull request, you may include them in markdown format.
- Obvious or implicit intent ("simplify the codebase", "improve maintainability", "resolve syntax error") should not be mentioned.
- Good examples of summaries:
  - "Extracted most of the module to another file as part of Project Tailspin, moving the encoding helpers and deleting some unused functions."
  - "Updated config values for the \`GreatApp\` integration to increase max instances and resolve [incident #49](https://github.com/foo/bar/issues/123).
  - "Removed unused function \`functionName\`."
  - "Fixed typo in a variable name."
- Bad examples of summaries:
  - "Deleted functions \`func1\`, \`func2\`, \`func3\` and \`func4\` from the file, improving the code for readability".
  - "This commit by @monalisa in [pull request #49](https://github.com/foo/bar/pulls/49) adds a new feature to the application, improving the user experience."

#### size
- This is a "t-shirt size" subjectively scoring both the scope and impact of the changes in the commit group.
- Sizes include XS, S, M, L, XL.
- This should be judged entirely from the commit diffEntries and the nature and purpose of the file.
- The cognitive complexity of the changes is more important than the number of lines changed. "Added" is simpler than "updated".
- Examples of XS changes:
  - cleanly deleting a large number of unused functions
  - renaming a variable throughout a file via find-and-replace
  - a simple typo fix
- Examples of S changes:
  - created the file, which is simple and contains a couple helper functions imported elsewhere
  - flipping a couple configuration values
  - adding a new function
  - removing a section of markup to get rid of some HTML content
- Examples of M changes:
  - adding couple new functions that supply a new data field in an existing function
  - updating how one complex function works without changing its interface
- Example of L changes:
  - broke one complex function into several simpler ones, but also changed the initial arguments provided from elsewhere
  - created the file, which contains several API handlers with callbacks, imported dependecies, and dynamic templating
- Example of XL changes:
  - removed one of the two sections of configuraiton encapsulated by this file
  - complete overhaul of a class, fundamentally changing its interface and internal logic

Return your analysis as a JSON array of objects each containing these three fields, corresponding to the order of the provided commit groups:

[
  {
    "oid": "commit_oid_1",
    "summary": "Brief summary of the changes",
    "size": "S"
  },
  {
    "oid": "commit_oid_2",
    "summary": "Brief summary of the changes",
    "size": "M"
  }
]
`}function ss(e){return Math.ceil(e.length/3)}function sr(e,t){let{refName:a,blobPath:n,...l}=t;(0,sa.BI)(`copilot.commit-recap.${e}`,{refName:a,blobPath:n||null,...l})}async function so(e,t,a,n){let l=n.currentBlobPath||"",i=new URLSearchParams;i.append("name",a),n.since&&i.append("since",n.since),n.until&&i.append("until",n.until),n.author&&i.append("author",n.author.login);let s=l?`/${e}/${t}/commit_recap/${encodeURIComponent(l)}?${i}`:`/${e}/${t}/commit_recap.json?${i}`;try{let e=await (0,ej.lS)(s,{headers:{Accept:"application/json"}});if(!e.ok)throw sr("failed",{refName:a,blobPath:l,reason:"commit_groups_fetch_failed",statusCode:e.status}),Error(`Failed to fetch commit groups: ${e.status}`);let t=await e.json(),i=t.map(e=>e.type).reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{});return sr("commit-groups-returned",{refName:a,blobPath:l,totalGroups:t.length,groupTypeCounts:i,hasAuthorFilter:!!n.author,hasDateFilters:!!(n.since||n.until)}),t}catch(e){throw sr("failed",{refName:a,blobPath:l,reason:"commit_groups_fetch_error",errorMessage:e instanceof Error?e.message:String(e)}),e}}async function sd(e,t,a,n){let l=new URLSearchParams;l.append("name",a);let i=n?`/${e}/${t}/commit_recap_check/${encodeURIComponent(n)}?${l}`:`/${e}/${t}/commit_recap_check.json?${l}`;try{let e=await (0,ej.lS)(i,{headers:{Accept:"application/json"}});if(!e.ok)throw Error(`Failed to check path: ${e.status}`);return await e.json()}catch(e){throw e}}async function sc(e,t,a,n){try{let l=n.currentBlobPath||"",i="pull_request"===a.type&&a.commits.length>0?[a.commits[0]?.oid].filter(Boolean):a.commits.map(e=>e.oid),s=new URLSearchParams;s.append("commit_oids",i.join(","));let r=l?`/${e}/${t}/commit_recap_diffs/${encodeURIComponent(l)}?${s}`:`/${e}/${t}/commit_recap_diffs.json?${s}`,o=await (0,ej.lS)(r,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(o.ok){let e=await o.json();return{...a,diffEntries:e.diff_entries||[]}}return{...a,diffEntries:[]}}catch{return{...a,diffEntries:[]}}}async function su(e,t,a,n,l,i,s){let r=si(n,l,i,a,e),o=function(e){let t=e.map(e=>e.type).reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{}),a=new Set,n=new Set;for(let t of e){for(let e of t.commits)e.author?.login&&a.add(e.author.login);t.pr?.number&&n.add(t.pr.number)}return{groupTypeCounts:t,authorsInBatch:a,pullRequestsInBatch:n,hasDiffData:e.some(e=>e.diffEntries&&e.diffEntries.length>0)}}(e);sr("capi-request-sent",{refName:i,blobPath:a,batchSize:e.length,tokenCount:ss(r),groupTypeCounts:o.groupTypeCounts,uniqueAuthorsCount:o.authorsInBatch.size,uniquePullRequestsCount:o.pullRequestsInBatch.size,hasDiffData:o.hasDiffData});try{let n=await (0,st.p)({basePath:(0,i6._$)().copilotApiOverrideUrl||"https://api.githubcopilot.com",body:{messages:[{role:"user",content:r}],model:"gpt-4o-mini",stream:!1,responseFormat:{type:"json_schema",jsonSchema:{name:"CommitGroupAnalysisList",description:"Array of commit group analyses with summaries and size assessments",strict:!0,schema:{type:"array",items:{type:"object",additionalProperties:!1,properties:{oid:{type:"string",description:"The oid value of the first commit in the commit group, used as an identifier to ensure proper ordering."},summary:{type:"string",description:"A brief summary of the work represented by the commit group."},size:{type:"string",enum:["XS","S","M","L","XL"],description:"A t-shirt size scoring both the scope and impact of the changes in the commit group."}},required:["oid","summary","size"]}}}},temperature:.3},path:"/chat/completions",method:"POST",streamingResponse:!1,authToken:t,integrationId:"copilot-directory"});if(n.ok){let t,l=await n.json(),r=l.choices?.[0]?.message?.content;if(!r)throw Error("No analysis content received from Copilot API");if("object"==typeof r)t=r;else try{let e=r;e.startsWith(`\`\`\`json
`)&&e.endsWith(`
\`\`\``)?e=e.slice(8,-4):e.startsWith(`\`\`\`
`)&&e.endsWith(`
\`\`\``)&&(e=e.slice(4,-4)),t=JSON.parse(e)}catch{throw Error("Invalid analysis response format")}let d=new Map(e.filter(e=>e.commits.length>0).map((e,t)=>[e.commits[0]?.oid,t])),c=t?.sort((e,t)=>{let a=d.get(e.oid)??Number.MAX_SAFE_INTEGER,n=d.get(t.oid)??Number.MAX_SAFE_INTEGER;return a-n}),u=c.map(e=>(console.log(`Commit group ${e.oid}: Size ${e.size}`),e.summary)).join(`

`);s(e=>[...e,...c]),sr("capi-response-received",{refName:i,blobPath:a,batchSize:e.length,responseLength:u.length,linkedAuthorsPercentage:o.authorsInBatch.size>0?function(e,t){let a=0;for(let n of Array.from(t))(e.includes(`@${n}`)||e.includes(n))&&a++;return a}(u,o.authorsInBatch)/o.authorsInBatch.size:0,linkedPullRequestsPercentage:o.pullRequestsInBatch.size>0?function(e,t){let a=0;for(let n of Array.from(t))(e.includes(`#${n}`)||e.includes(`[#${n}]`))&&a++;return a}(u,o.pullRequestsInBatch)/o.pullRequestsInBatch.size:0})}else throw sr("failed",{refName:i,blobPath:a,reason:"capi_response_not_ok",statusCode:n.status}),Error(sl)}catch(e){throw sr("failed",{refName:i,blobPath:a,reason:"capi_request_failed",errorMessage:e instanceof Error?e.message:String(e)}),e}}var sm=a(57028);function sp(){let e=(0,s.t)(),t=(0,G.D)(),a=(0,d.B)(),n=a.filters,l=a.commitGroups,r=a.metadata?.softNavToCommit||!1,o=(0,ip.G7)("copilot_commit_recap"),{response:u,isLoadingCopilotRecap:m,commitGroups:p,showRecapPanel:g,showRecapButton:f,showRecapPopover:h,handleCopilotRecap:y,handleCloseRecap:b}=function({repoOwner:e,repoName:t,refName:a,defaultBranch:n,filters:l}){let[i,s]=(0,c.useState)([]),[r,o]=(0,c.useState)(""),[d,u]=(0,c.useState)(!1),[m,p]=(0,c.useState)(!1),g=(0,c.useRef)(!1),f=(0,c.useRef)(null),h=(0,ip.G7)("copilot_commit_recap"),y=a||n||"main",{data:b,isSuccess:k,isFetching:x,refetch:v}=(0,sn.I)({queryKey:["commit-rollup",e,t,y,l],queryFn:()=>so(e,t,y,l),enabled:!1}),{data:C,isSuccess:j,refetch:S}=(0,sn.I)({queryKey:["path-check",e,t,y,l.currentBlobPath],queryFn:()=>sd(e,t,y,l.currentBlobPath||""),enabled:h&&!!l.currentBlobPath}),I=(0,c.useMemo)(()=>b||[],[b]),N=(0,c.useMemo)(()=>!!l.currentBlobPath&&(void 0===C||C?.is_file!==!1),[C,l.currentBlobPath]),F=(0,c.useMemo)(()=>N&&C?.show_popover===!0,[N,C]),_=(0,c.useCallback)(async a=>{if(0!==a.length&&!g.current){g.current=!0,p(!0),s([]),o("");try{let n=l.currentBlobPath||"",i=new se.J([]),r=await i.getAuthToken(),o=ss(si(e,t,y,n,[])),d=[],c=o;for(let i=0;i<a.length;i++){let u=a[i];if(!u)continue;let m=await sc(e,t,u,l),p=ss(JSON.stringify(m,null,2));c+p>16e3&&d.length>0?(await su(d,r,n,e,t,y,s),d=[m],c=o+p):(d.push(m),c+=p)}d.length>0&&await su(d,r,n,e,t,y,s)}catch{o(sl)}finally{p(!1),g.current=!1}}},[e,t,y,l]);(0,c.useEffect)(()=>{k&&d&&I.length>0&&!g.current&&_(I)},[k,d,I,_]);let L=(0,c.useCallback)(async()=>{if(sr("requested",{refName:y,blobPath:l.currentBlobPath||"",hasAuthorFilter:!!l.author,hasDateFilters:!!(l.since||l.until)}),s([]),o(""),!l.currentBlobPath){u(!0),k&&0!==I.length||v();return}if(C?.is_file===!0)u(!0),k&&0!==I.length||v();else try{let e=await S();e.data?.is_file===!0?(u(!0),k&&0!==I.length||v()):u(!1)}catch{u(!1)}},[v,S,y,l,k,I,C]),w=(0,c.useCallback)(()=>{u(!1),s([]),o(""),p(!1),g.current=!1},[]);return((0,c.useEffect)(()=>{let e=f.current;if(null===e){f.current=l;return}(e.pagination?.endCursor!==l.pagination?.endCursor||e.pagination?.startCursor!==l.pagination?.startCursor||e.since!==l.since||e.until!==l.until||e.author?.login!==l.author?.login||e.currentBlobPath!==l.currentBlobPath)&&d&&(u(!1),s([]),o(""),p(!1),g.current=!1),f.current=l},[l,d]),h)?{response:{analysisData:i,errorMessage:r},analysisData:i,errorMessage:r,isLoadingCopilotRecap:x||m,triggerAnalysis:_,commitGroups:I,showRecapPanel:d,showRecapButton:N,showRecapPopover:F,handleCopilotRecap:L,handleCloseRecap:w}:{response:{analysisData:[],errorMessage:""},analysisData:[],errorMessage:"",isLoadingCopilotRecap:!1,commitGroups:[],showRecapPanel:!1,showRecapButton:!1,showRecapPopover:!1,handleCopilotRecap:()=>{},handleCloseRecap:()=>{}}}({repoOwner:e.ownerLogin,repoName:e.name,refName:a.refInfo?.name,defaultBranch:e.defaultBranch,filters:n}),k=`There isn't any commit history to show here${null!==n.since||null!==n.until?" for the selected date range":""}`;return(0,c.useEffect)(()=>{if(!C.fV.hash&&window.scrollY>0){let e=document.querySelector("#commits-pagehead");e?.scrollIntoView()}},[a.filters.pagination,a.filters.since,a.filters.until]),(0,i.jsx)(iy,{filters:a.filters,children:(0,i.jsxs)(i9,{title:"Commits",children:[(0,i.jsx)(i3,{repo:e,contributorsUrl:a.metadata?.deferredContributorUrl||"",since:n.since,until:n.until,author:n.author,refInfo:a.refInfo,path:n.currentBlobPath,showCopilotButton:o&&f,showCopilotPopover:h,onCopilotRecap:y,isLoadingCopilotRecap:m}),o&&(0,i.jsx)(iU,{isVisible:g,isLoading:m,analysis:u,repoOwner:e.ownerLogin,repoName:e.name,refName:a.refInfo?.name,onClose:b,commitGroups:p}),0===l.length&&(0,i.jsx)(sm.M,{timeoutMessage:a.timedOutMessage,unavailableMessage:k}),l.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iF,{commitGroups:l,deferredDataUrl:a.metadata?.deferredDataUrl||"",softNavToCommit:r}),(0,i.jsx)(i8,{paginationInfo:n.pagination})]}),a.metadata?.showProfileHelp&&(0,i.jsx)(ig,{url:`${t.helpUrl}/articles/troubleshooting-commits-on-your-timeline`})]})})}try{sp.displayName||(sp.displayName="Commits")}catch{}(0,l.o)("commits",()=>({App:g,routes:[(0,n.a)({path:"/:owner/:repo/commits",Component:sp}),(0,n.a)({path:"/:owner/:repo/commits/:ref",Component:sp}),(0,n.a)({path:"/:owner/:repo/commits/:ref/:path/*",Component:sp}),(0,n.a)({path:"/:owner/:repo/commit/:oid",Component:im}),(0,n.a)({path:"/:owner/:repo/commit/:oid/:path/*",Component:im}),(0,n.a)({path:"/_view_fragments/Voltron::CommitFragmentsController/show/:owner/:repo/:name/repo_layout",Component:im})]}))},62180:(e,t,a)=>{a.d(t,{x:()=>d});var n=a(74848),l=a(71555),i=a(65826),s=a(96540),r=a(67702);let o=[];function d({tone:e,...t}){let[a,d]=(0,s.useState)(),c=(0,r.P)(void 0!==a),{calculateSuggestions:u,trigger:m}=(0,i.x)(c.isPending?"loading":c.data??o,{tone:e}),p=(0,s.useMemo)(()=>void 0!==a?u(a):null,[a,u]);return(0,n.jsx)(l.a,{triggers:[m],suggestions:p,onShowSuggestions:({query:e})=>d(e),onHideSuggestions:()=>d(void 0),...t})}try{d.displayName||(d.displayName="EmojiAutocomplete")}catch{}},62559:(e,t,a)=>{a.d(t,{KG:()=>d,O_:()=>i,QK:()=>o,iy:()=>r,sT:()=>s,wY:()=>l});let n={maxBodyLength:65536,maxIssueTitleLength:256,maxViewTitleLength:1024},l={...n,titleCanNotBeEmpty:"Title can not be empty",fieldCanNotBeEmpty:"Field can not be empty",issueTitleExceedsMaxLength:`Title can not be longer than ${n.maxIssueTitleLength} characters`,viewTitleExceedsMaxLength:`Title can not be longer than ${n.maxViewTitleLength} characters`,issueBodyExceedsMaxLength:`Body can not be longer than ${n.maxBodyLength} characters`,fieldExceedsMaxLength:`Field can not be longer than ${n.maxBodyLength} characters`,commentBodyEmpty:"Comment can not be empty",checkboxInAGroupMustBeSelected:"A required checkbox is missing",missingDropdownSelection:"An option must be selected",noChangesToSave:"No changes to save"};function i(e){return 0===e.trim().length?{isValid:!1,errorMessage:l.titleCanNotBeEmpty}:e.length>l.maxIssueTitleLength?{isValid:!1,errorMessage:l.issueTitleExceedsMaxLength}:{isValid:!0}}function s(e,t){return 0===e.trim().length&&t?{isValid:!1,errorMessage:l.fieldCanNotBeEmpty}:e.length>l.maxBodyLength?{isValid:!1,errorMessage:l.fieldExceedsMaxLength}:{isValid:!0}}function r(e){return 0===e.trim().length?{isValid:!1,errorMessage:l.titleCanNotBeEmpty}:e.length>l.maxViewTitleLength?{isValid:!1,errorMessage:l.viewTitleExceedsMaxLength}:{isValid:!0}}function o(e){return e.length>l.maxBodyLength?{isValid:!1,errorMessage:l.issueBodyExceedsMaxLength}:{isValid:!0}}function d(e){return 0===e.length?{isValid:!1,errorMessage:l.commentBodyEmpty}:{isValid:!0}}},62670:(e,t,a)=>{a.d(t,{E:()=>ek,d:()=>eb});var n,l,i,s,r,o,d,c,u,m,p,g,f,h,y,b,k,x,v,C,j,S,I,N,F,_,L,w,T,A,E,K,P,D,R,M,V,O,B=a(74848);let $=(n={defaultValue:null,kind:"LocalArgument",name:"filename"},l={defaultValue:null,kind:"LocalArgument",name:"repoId"},i=[{kind:"Variable",name:"id",variableName:"repoId"}],s=[{kind:"Variable",name:"filename",variableName:"filename"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},y={alias:null,args:[m={kind:"Literal",name:"first",value:20},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'labels(first:20,orderBy:{"direction":"ASC","field":"NAME"})'},j={alias:null,args:b=[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[r,p,k={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},o,x={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},v={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},C={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},S={alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},N={kind:"InlineFragment",selections:I=[p,o,{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],type:"IssueFieldText",abstractKey:null},w={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"type",plural:!1,selections:[p,o,S,f,g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[r,N,F={kind:"InlineFragment",selections:I,type:"IssueFieldSingleSelect",abstractKey:null},_={kind:"InlineFragment",selections:I,type:"IssueFieldDate",abstractKey:null},L={kind:"InlineFragment",selections:I,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:null},T={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},A={alias:null,args:[m],concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projects",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:[p,u,{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},r],storageKey:null}],storageKey:null}],storageKey:"projects(first:20)"},E={alias:null,args:b,concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[p,{kind:"InlineFragment",selections:[r,k,o,x,v,C],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},K={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"type",plural:!1,selections:[p,o,S,f,g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[r,N,F,_,L,{kind:"InlineFragment",selections:[p],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:[n,l],kind:"Fragment",metadata:null,name:"CreateIssueQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChange",selections:[{alias:null,args:s,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplate",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChangeIssueTemplate",selections:[r,o,d,c,u,y,j,w,T],args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:s,concreteType:"IssueForm",kind:"LinkedField",name:"issueForm",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChangeIssueForm",selections:[r,o,d,u,{kind:"InlineDataFragmentSpread",name:"IssueFormElements_templateElements",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"elements",plural:!0,selections:[r,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TextInputElement_input"}],type:"IssueFormElementInput",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TextAreaElement_input"}],type:"IssueFormElementTextarea",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownElement_input"}],type:"IssueFormElementMarkdown",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"DropdownElement_input"}],type:"IssueFormElementDropdown",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CheckboxesElement_input"}],type:"IssueFormElementCheckboxes",abstractKey:null}],storageKey:null}],args:null,argumentDefinitions:[]},y,j,A,w,T],args:null,argumentDefinitions:[]}],storageKey:null}],args:s,argumentDefinitions:[{defaultValue:"",kind:"LocalArgument",name:"filename"}]}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,n],kind:"Operation",name:"CreateIssueQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,p,{kind:"InlineFragment",selections:[{alias:null,args:s,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplate",plural:!1,selections:[r,o,d,c,u,y,E,K,T],storageKey:null},{alias:null,args:s,concreteType:"IssueForm",kind:"LinkedField",name:"issueForm",plural:!1,selections:[r,o,d,u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"elements",plural:!0,selections:[r,{kind:"InlineFragment",selections:[P={alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},T],type:"IssueFormElementInput",abstractKey:null},{kind:"InlineFragment",selections:[P,D,R,M,V,O,{alias:null,args:null,kind:"ScalarField",name:"render",storageKey:null},T],type:"IssueFormElementTextarea",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contentHTML",storageKey:null}],type:"IssueFormElementMarkdown",abstractKey:null},{kind:"InlineFragment",selections:[P,D,R,{alias:null,args:null,kind:"ScalarField",name:"options",storageKey:null},O,{alias:null,args:null,kind:"ScalarField",name:"multiple",storageKey:null},{alias:"defaultOptionIndex",args:null,kind:"ScalarField",name:"default",storageKey:null},T],type:"IssueFormElementDropdown",abstractKey:null},{kind:"InlineFragment",selections:[P,D,R,{alias:"checkboxOptions",args:null,concreteType:"IssueFormElementCheckboxOption",kind:"LinkedField",name:"options",plural:!0,selections:[D,{alias:null,args:null,kind:"ScalarField",name:"labelHTML",storageKey:null},O],storageKey:null},T],type:"IssueFormElementCheckboxes",abstractKey:null}],storageKey:null},y,E,A,K,T],storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"5b9a8fe777a40f916a3ae2d1e0bd2095",metadata:{},name:"CreateIssueQuery",operationKind:"query",text:null}});$.hash="a07055edea10e255144aa55d8c188972";let U={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"}],kind:"Fragment",metadata:null,name:"CreateIssue",selections:[{condition:"includeTemplates",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"TemplatePickerButton"},{args:null,kind:"FragmentSpread",name:"TemplateListPane"}]}],type:"Repository",abstractKey:null};U.hash="8a3f411e97612f6b11008dffb70a56f0";var H=a(69599),z=a(43258),q=a(96540),G=a(18312),W=a(16642),Q=a(96480),X=a(17831),Y=a(81171),J=a(12219),Z=a(98338);let ee=Z.k.crossRepoIssueDuplicationDefaultWarning;function et({onCreateSuccess:e,topRepositories:t,issueFormRef:a,...n}){let{title:l,body:i,setBody:s,repository:r,setNewTitle:o,clearSessionData:d}=(0,X.u)(),{onRepositoryChange:c,notice:u,sourceRepository:m}=(()=>{let{repository:e,setRepository:t,assignees:a,setAssignees:n,issueType:l,setIssueType:i,issueFields:s,setIssueFields:r,milestone:o,setMilestone:d,labels:c,setLabels:u}=(0,X.u)(),[m,p]=(0,q.useState)({repository:e,assignees:a,issueType:l,issueFields:s,milestone:o,labels:c}),[g,f]=(0,q.useState)(ee),h=(0,q.useCallback)(e=>{if(!e)return;let a=[],l=e.id===m.repository?.id,s=e.owner?.databaseId===m.repository?.owner?.databaseId;l?(n?.(m.assignees),r?.(m.issueFields),i?.(m.issueType),d?.(m.milestone),u?.(m.labels)):(d?.(null),a.push("Milestone","Labels"),s?(n?.(m.assignees),r?.(m.issueFields),i?.(m.issueType)):(n?.([]),r?.([]),i?.(null),a.push("Assignees"),m.repository?.owner?.issueTypesEnabled&&a.push("Type"))),f(a.length>0?Z.k.crossRepoIssueDuplicationWarning(a):ee),t(e)},[m,n,r,i,u,d,t]);return(0,q.useEffect)(()=>{e?.databaseId===m.repository?.databaseId&&p({repository:e,assignees:a,issueType:l,issueFields:s,milestone:o,labels:c})},[e,a,l,s,o,c,m.repository?.databaseId]),{onRepositoryChange:h,notice:g,sourceRepository:m.repository}})(),p=(0,H.G7)("issues_react_select_panel_fullscreen_on_narrow"),g=(0,q.useCallback)(e=>e.id===m?.id?e.viewerIssueCreationPermissions.triageable:e.viewerIssueCreationPermissions.triageable&&e.isBlankIssuesEnabled,[m?.id]);return(0,B.jsx)(B.Fragment,{children:t&&r&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Y.f0,{"aria-describedby":"Choose repository to duplicate issue in",initialRepository:r,topRepositories:t,onSelect:c,focusRepositoryPicker:!0,enforceAtleastOneSelected:!0,options:{hasIssuesEnabled:!0},notice:{text:u,variant:"warning"},repositoryFilter:g,responsiveOnNarrow:p}),(0,B.jsx)(J.e,{...n,issueFormRef:a,onCreateSuccess:e,repository:r,title:l,setTitle:o,body:i,setBody:s,clearOnCreate:d,focusTitleInput:!1})]})})}try{et.displayName||(et.displayName="CreateDuplicateIssueForm")}catch{}var ea=a(94252),en=a(92858),el=a(41057),ei=a(89946);let es=["220px","250px","290px","210px"].map((e,t)=>({id:`skeleton-${t}`,width:e}));function er(){let{optionConfig:e}=(0,Q.a)();return(0,B.jsx)("div",{className:`${ei.A.skeletonContainer} ${e.insidePortal&&"ml-3"}`,children:es.map(({id:e,width:t})=>(0,B.jsx)(el.Q,{height:"xl",width:t},e))})}try{er.displayName||(er.displayName="TemplateListLoading")}catch{}var eo=a(47685);function ed({repository:e,topRepositories:t,organization:a,onRepositorySelected:n,onTemplateSelected:l}){let{optionConfig:i}=(0,Q.a)(),s=(0,q.useId)(),r=i.insidePortal?"ml-3":"ml-0";return(0,B.jsxs)("div",{className:i.insidePortal?"pt-2":"","data-testid":en.Y.repositoryAndTemplateDialog,children:[(0,B.jsx)(ec,{className:r,name:"Repository"}),(0,B.jsx)("div",{className:`${i.insidePortal?"mb-2":"mb-3"} ${r}`,children:(0,B.jsx)(Y.f0,{"aria-describedby":s,initialRepository:e,onSelect:n,organization:a,topRepositories:t,focusRepositoryPicker:!0,enforceAtleastOneSelected:!0,options:{hasIssuesEnabled:!0,includeForks:!0}})}),(0,B.jsx)(q.Suspense,{fallback:(0,B.jsx)(er,{}),children:e&&(0,B.jsx)(eo.N,{repositoryId:e.id,onTemplateSelected:l,descriptionId:s})})]})}function ec({name:e,className:t}){return(0,B.jsxs)("div",{className:`pt-1 pb-1 ${t}`,children:[(0,B.jsx)("span",{className:"text-bold",children:e}),(0,B.jsx)("span",{className:"ml-1 mb-1 fgColor-danger",children:"*"})]})}try{ed.displayName||(ed.displayName="RepositoryAndTemplatePicker")}catch{}try{ec.displayName||(ec.displayName="Field")}catch{}let eu={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplatePickerButton",selections:[{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null};eu.hash="fc9ace64aa764ca00db0ea2f61b67a2b";var em=a(38621),ep=a(21373);a(69487);var eg=a(50167);function ef({repository:e,template:t}){let a=(0,G.useFragment)(eu,e),{setDisplayMode:n}=(0,Q.a)(),l=t?t.name:Z.k.blankIssueName,i=(0,q.useRef)(null);return((0,q.useEffect)(()=>{i.current?.focus()},[]),a.hasAnyTemplates)?(0,B.jsx)("div",{"data-testid":"template-picker-button",className:"TemplatePickerButton-module__TemplatePickerButtonContainer--sNawE",children:(0,B.jsxs)(ep.Q,{"data-testid":"template-picker-button-el",onClick:()=>n(eg.q.TemplatePicker),leadingVisual:em.RepoIcon,trailingVisual:em.PencilIcon,ref:i,children:[a&&(0,B.jsxs)("span",{children:[l," ",(0,B.jsx)("span",{className:"TemplatePickerButton-module__repositoryConnectorText--CKviI",children:"in"})," ",a.nameWithOwner]}),!e&&(0,B.jsx)(B.Fragment,{children:"Select a repository"})]})}):null}try{ef.displayName||(ef.displayName="TemplatePickerButton")}catch{}var eh=a(93997),ey=a(81724);let eb=$,ek=({topRepositories:e,navigate:t,currentRepository:a,onCreateSuccess:n,issueFormRef:l,...i})=>{let s=(0,G.useFragment)(U,a),{addToast:r}=(0,z.Y6)(),o=(0,G.useRelayEnvironment)(),{title:d,body:c,setBody:u,repository:m,setRepository:p,template:g,setNewTitle:f,resetMetadata:h,clearSessionData:y}=(0,X.u)(),{optionConfig:b,displayMode:k,initialDefaultDisplayMode:x,setDisplayMode:v,setCreateMoreCreatedPath:C}=(0,Q.a)(),j=(0,H.G7)("memex_default_issue_create_repository"),S=(0,q.useRef)({defaultIssueCreateRepoEnabled:j,isInitialRender:!0,values:{resetMetadata:h,initialDefaultDisplayMode:x,repository:m,setDisplayMode:v}});(0,q.useEffect)(()=>{if(S.current.isInitialRender){if(S.current.isInitialRender=!1,!S.current.defaultIssueCreateRepoEnabled)return;let{resetMetadata:e,initialDefaultDisplayMode:t,repository:a,setDisplayMode:n}=S.current.values;if(t!==eg.q.IssueDuplication){if(e(),a?.hasAnyTemplates)return void n(eg.q.TemplatePicker);if(!a?.hasAnyTemplates&&a?.isBlankIssuesEnabled)return void n(eg.q.IssueCreation);n(t)}}},[]);let I=(0,q.useCallback)(e=>{e&&(m?.id!==e.id&&(h({repository:S.current.values.repository,selectedRepository:e}),j&&(e.hasAnyTemplates?v(eg.q.TemplatePicker):!e.hasAnyTemplates&&e.isBlankIssuesEnabled&&v(eg.q.IssueCreation))),p(e),C({owner:e.owner.login,repo:e.name,number:void 0}))},[h,m,C,p,v,j]),N=(0,eh.wT)({optionConfig:b,repository:m,navigate:t,setDisplayMode:v}),F=(0,q.useCallback)((e,a)=>{let n;if(m){if(m?.viewerInteractionLimitReasonHTML&&m.viewerInteractionLimitReasonHTML.length>0)return void t(`/${m.owner.login}/${m.name}/issues/new`);if(a!==ey.t7.ContactLink){if(b.issueCreateArguments?.initialValues?.appendTitleToTemplate&&(n={appendTitleToTemplate:b.issueCreateArguments.initialValues.appendTitleToTemplate}),a===ey.t7.BlankIssue)return void N((0,ey.AI)(),n,!0);(0,G.fetchQuery)(o,eb,{repoId:m.id,filename:e}).subscribe({next:e=>{if(!e.node)return;let t=(0,eh.EV)(e.node);t&&N(t,n,!0)},error:()=>{reportError(Error(W.S.unableToLoadSelectedTemplate)),r({type:"error",message:W.S.unableToLoadSelectedTemplate})}})}}},[m,o,b.issueCreateArguments?.initialValues?.appendTitleToTemplate,N,r,t]),_=(0,ea.K)({issueFormRef:l,handleTemplateChange:N,template:g,callback:n});(0,q.useEffect)(()=>{m&&C({owner:m.owner?.login||"",repo:m.name||"",number:void 0})},[m,C]);let L=x===eg.q.IssueCreation;return(0,B.jsxs)("div",{tabIndex:-1,className:"CreateIssue-module__CreateIssueContainer--Laikr",children:[k===eg.q.IssueCreation&&(0,B.jsxs)(B.Fragment,{children:[L&&s&&(0,B.jsx)(ef,{repository:s,template:g}),m&&(0,B.jsx)(J.e,{...i,issueFormRef:l,onCreateSuccess:_,selectedTemplate:g,repository:m,title:d,setTitle:f,body:c,setBody:u,clearOnCreate:y,focusTitleInput:!L,footer:void 0})]}),k===eg.q.IssueDuplication&&(0,B.jsx)(et,{navigate:t,onCreateSuccess:_,topRepositories:e,issueFormRef:l,...i}),k===eg.q.TemplatePicker&&b.showRepositoryPicker&&e&&(0,B.jsx)(ed,{repository:m,onRepositorySelected:I,topRepositories:e,organization:b.scopedOrganization,onTemplateSelected:F}),k===eg.q.TemplatePicker&&!s&&!m&&(0,B.jsx)(ed,{repository:m,onRepositorySelected:I,topRepositories:e,organization:b.scopedOrganization,onTemplateSelected:F}),k===eg.q.TemplatePicker&&!b.showRepositoryPicker&&s&&(0,B.jsx)("div",{"data-hpc":!0,children:(0,B.jsx)(eo.e,{repository:s,onTemplateSelected:F,...i})})]})};try{ek.displayName||(ek.displayName="CreateIssue")}catch{}},63352:(e,t,a)=>{a.d(t,{Z:()=>C});var n=a(74848),l=a(21728),i=a(75202),s=a(71315),r=a(96540),o=a(38621),d=a(26108),c=a(15220),u=a(64451),m=a(86877),p=a(46720),g=a(4175),f=a(21373);let h=[{label:"Comment is harmful or unsafe",value:"OFFENSIVE_OR_DISCRIMINATORY"},{label:"Comment is poorly formatted",value:"POORLY_FORMATTED"},{label:"Comment is not true",value:"INCORRECT"},{label:"Comment is not helpful",value:"UNHELPFUL"},{label:"Comment is attached to the wrong line(s)",value:"INCORRECT_LINE"},{label:"Comment is a duplicate of another comment",value:"DUPLICATE"},{label:"Code suggestion is harmful or unsafe",value:"SUGGESTION_OFFENSIVE_OR_DISCRIMINATORY"},{label:"Code suggestion is poorly formatted",value:"SUGGESTION_POORLY_FORMATTED"},{label:"Code suggestion does not solve the problem in the comment",value:"SUGGESTION_UNHELPFUL"},{label:"Code suggestion is invalid",value:"SUGGESTION_INVALID"}],y=e=>{let t,a,i,s,o=(0,l.c)(16),{commentId:d,onClose:y,onSubmit:b,feedbackOptions:k,returnFocusRef:x}=e,v=void 0===k?h:k,[C,j]=(0,r.useState)(!1);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],o[0]=t):t=o[0];let[S,I]=(0,r.useState)(t),[N,F]=(0,r.useState)("");o[1]!==d||o[2]!==S||o[3]!==b||o[4]!==N?(a=e=>{e.preventDefault(),j(!0),S.length&&b({commentId:d,type:"NEGATIVE",feedbackChoice:S,textResponse:N})},o[1]=d,o[2]=S,o[3]=b,o[4]=N,o[5]=a):a=o[5];let _=a,L=(0,r.useId)(),w=C&&0===S.length;return o[6]!==v||o[7]!==_||o[8]!==w||o[9]!==N||o[10]!==L?(i=()=>(0,n.jsxs)("form",{onSubmit:_,children:[(0,n.jsxs)(c.l.Body,{children:[(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsxs)(u.A,{onChange:I,required:!0,children:[(0,n.jsx)(u.A.Label,{children:"Category"}),v.map(e=>(0,n.jsxs)(m.A,{id:`feedback_choice_${e.value}`,children:[(0,n.jsx)(p.A,{value:e.value,"aria-describedby":w?L:void 0}),(0,n.jsx)(m.A.Label,{children:e.label})]},e.value)),w&&(0,n.jsx)(u.A.Validation,{variant:"error",children:"Please select a feedback category"})]})}),(0,n.jsxs)(m.A,{id:"text_response",children:[(0,n.jsx)(m.A.Label,{children:"How should we improve this response?"}),(0,n.jsx)(g.Ay,{block:!0,rows:2,wrap:"wrap",name:"text_response",value:N,resize:"vertical",onChange:e=>F(e.currentTarget.value)})]})]}),(0,n.jsx)(c.l.Footer,{children:(0,n.jsx)(f.Q,{type:"submit",disabled:w,children:"Submit"})})]}),o[6]=v,o[7]=_,o[8]=w,o[9]=N,o[10]=L,o[11]=i):i=o[11],o[12]!==y||o[13]!==x||o[14]!==i?(s=(0,n.jsx)(c.l,{onClose:y,title:"Provide additional feedback",subtitle:"Please help us improve GitHub Copilot by sharing more details about this comment.",returnFocusRef:x,renderBody:i}),o[12]=y,o[13]=x,o[14]=i,o[15]=s):s=o[15],s};try{y.displayName||(y.displayName="NegativeFeedbackForm")}catch{}let b=e=>{let t,a,i=(0,l.c)(6),{onClick:s,commentId:r,disabled:c}=e;return i[0]!==r||i[1]!==s?(t=()=>s({type:"POSITIVE",commentId:r}),i[0]=r,i[1]=s,i[2]=t):t=i[2],i[3]!==c||i[4]!==t?(a=(0,n.jsx)(d.K,{size:"small",variant:"invisible",disabled:c,icon:o.ThumbsupIcon,title:"Positive Feedback","aria-label":"Positive Feedback",onClick:t}),i[3]=c,i[4]=t,i[5]=a):a=i[5],a},k=e=>{let t,a,i,s,c,u=(0,l.c)(13),{onClick:m,commentId:p,disabled:g,feedbackOptions:f}=e,[h,b]=(0,r.useState)(!1),k=(0,r.useRef)(null);u[0]!==m?(t=e=>{m(e),b(!1)},u[0]=m,u[1]=t):t=u[1];let x=t;return u[2]!==p||u[3]!==h||u[4]!==f||u[5]!==x?(a=h&&(0,n.jsx)(y,{onClose:()=>b(!1),onSubmit:x,commentId:p,feedbackOptions:f,returnFocusRef:k}),u[2]=p,u[3]=h,u[4]=f,u[5]=x,u[6]=a):a=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(i=()=>b(!0),u[7]=i):i=u[7],u[8]!==g?(s=(0,n.jsx)(d.K,{ref:k,size:"small",variant:"invisible",disabled:g,icon:o.ThumbsdownIcon,title:"Negative Feedback","aria-label":"Negative Feedback",onClick:i}),u[8]=g,u[9]=s):s=u[9],u[10]!==a||u[11]!==s?(c=(0,n.jsxs)(n.Fragment,{children:[a,s]}),u[10]=a,u[11]=s,u[12]=c):c=u[12],c};try{b.displayName||(b.displayName="PositiveFeedbackButton")}catch{}try{k.displayName||(k.displayName="NegativeFeedbackButton")}catch{}var x=a(96379);let v=e=>{let t,a,i,o,d,c,u=(0,l.c)(20),{commentId:m,commentUrl:p,feedbackPath:g,feedbackOptions:f,additionalParameters:h}=e,[y,v]=(0,r.useState)();e:{if(g){t=g;break e}if(p){let e;u[0]!==p?((e=new URL(p,s.fV.origin)).hash="",u[0]=p,u[1]=e):e=u[1],t=`${e}/code_review_feedback`;break e}throw Error("missing feedbackPath and commentUrl")}let C=t;u[2]!==h||u[3]!==C?(a={path:C,additionalParameters:h},u[2]=h,u[3]=C,u[4]=a):a=u[4];let j=(({path:e,additionalParameters:t})=>(0,r.useCallback)(({type:a,commentId:n,feedbackChoice:l,textResponse:i})=>{try{let s=new FormData;if(s.set("comment_id",n),s.set("feedback",a),t)for(let[e,a]of Object.entries(t))s.set(e,a);for(let e of l??[])s.append("feedback_choice[]",e);i&&s.set("text_response",i),(0,x.DI)(e,{method:"POST",body:s})}catch{}},[e,t]))(a);u[5]!==j?(i=e=>{v(e.type),j(e)},u[5]=j,u[6]=i):i=u[6];let S=i,I=`copilot-code-review-feedback-${m}`;return u[7]!==m||u[8]!==S||u[9]!==y?(o="NEGATIVE"!==y&&(0,n.jsx)(b,{disabled:!!y,commentId:m,onClick:S}),u[7]=m,u[8]=S,u[9]=y,u[10]=o):o=u[10],u[11]!==m||u[12]!==f||u[13]!==S||u[14]!==y?(d="POSITIVE"!==y&&(0,n.jsx)(k,{disabled:!!y,onClick:S,commentId:m,feedbackOptions:f}),u[11]=m,u[12]=f,u[13]=S,u[14]=y,u[15]=d):d=u[15],u[16]!==I||u[17]!==o||u[18]!==d?(c=(0,n.jsxs)("div",{"data-testid":I,className:"d-flex gap-1",children:[o,d]}),u[16]=I,u[17]=o,u[18]=d,u[19]=c):c=u[19],c},C=e=>{let t,a=(0,l.c)(2);return a[0]!==e?(t=(0,n.jsx)(i.t,{fallback:null,children:(0,n.jsx)(v,{...e})}),a[0]=e,a[1]=t):t=a[1],t};try{v.displayName||(v.displayName="Feedback")}catch{}try{C.displayName||(C.displayName="CopilotCodeReviewFeedback")}catch{}},65249:(e,t,a)=>{a.d(t,{E:()=>l});var n=a(2635);function l({additionalConditions:e=[],repositoryVisibility:t,userCanPushToRepo:a,userSettingCopilotEnabled:l}){let i=(0,n.mo)();return i?.mode!=="immersive"&&!!l&&("PUBLIC"!==t||!!a)&&e.every(e=>e)}},65787:(e,t,a)=>{a.d(t,{U:()=>i});let n=e=>{let t=getComputedStyle(e,null);return!!t&&"function"==typeof t.getPropertyValue&&["overflow","overflow-y","overflow-x"].some(e=>{let a=t.getPropertyValue(e);return"auto"===a||"scroll"===a})},l=(e,t)=>e&&null!==e.parentNode?l(e.parentNode,t.concat([e])):t;function i(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(let t of l(e.parentNode,[]))if((t instanceof HTMLElement||t instanceof SVGElement)&&n(t))return t;return document.scrollingElement||document.documentElement}}},66040:(e,t,a)=>{a.d(t,{Ir:()=>j,_g:()=>S,nH:()=>k});var n=a(74848),l=a(84363),i=a(24453),s=a(91253),r=a(19918),o=a(49275),d=a(38143),c=a(81289),u=a(81709),m=a(97665),p=a(71315),g=a(96540),f=a(96379),h=a(47544);async function y({owner:e,repo:t,query:a,first:n,number:l,loginNames:i,capabilities:s}){let r={owner:e,repo:t};a&&(r.query=a),void 0!==n&&(r.first=n),void 0!==l&&(r.number=l),i&&(r.loginNames=i),s&&s.length>0&&(r.capabilities=s.join(","));let o=(0,h.JF)("assignees",r),d=await (0,f.lS)(o);return await d.json()}var b=a(73049);async function k(e,{owner:t,repo:a,query:n,first:l,number:i,loginNames:s,capabilities:r}){let o;o=void 0!==l?l:void 0!==s?s.length:void 0;let d=void 0!==s?s.join(","):void 0;return await e.fetchQuery({queryKey:["item_picker","assignees",{owner:t,repo:a,query:n,first:o,number:i,loginNames:d,capabilities:r}],queryFn:async()=>{var e;let l,s,c=await y({owner:t,repo:a,query:n,first:o,number:i,loginNames:d,capabilities:r});return e=(0,b.A)(c).data,s=[],e.repository.suggestedActors?(s=e.repository.suggestedActors.nodes,l=e.repository.suggestedActors.totalCount):e.repository.assignableUsers?(s=e.repository.assignableUsers.nodes,l=e.repository.assignableUsers.totalCount):e.repository.issueOrPullRequest?.suggestedActors&&(s=e.repository.issueOrPullRequest.suggestedActors.nodes),{assignees:s,repositoryId:e.repository.id,totalCount:l}}})}function x({repo:e,owner:t,number:a,assignees:l,suggestions:i,viewer:o,...d}){let[c,f]=(0,g.useState)(!i||0===i.length),[h,y]=(0,g.useState)(0),[b,x]=(0,g.useState)(!1),[v,C]=(0,g.useState)(null),j=(0,m.jE)(),S=(i?.length||0)>0;(0,g.useEffect)(()=>{p.X3||S||(async()=>{try{let n=await k(j,{owner:t,repo:e,query:"",number:a,first:10});C(n),f(!1),x(!1)}catch{x(!0),f(!1)}})()},[h,t,j,e,a,S]);let I=(0,g.useRef)(null),{createFallbackComponent:N}=(0,u.j)({errorMessage:r.k.cantEditItems("assignees"),anchorElement:e=>d.anchorElement(e,I),open:!0}),F=(0,g.useCallback)(async n=>{try{f(!0);let l=await k(j,{owner:t,repo:e,query:n,number:a,first:10});return f(!1),x(!1),l.assignees}catch{return f(!1),x(!0),[]}},[j,t,e,a]),_=i||v?.assignees||[];return b?N(()=>y(e=>e+1)):(0,n.jsx)(s.l,{...d,assignees:l,suggestions:_,isLoading:c,searchAssignees:F,viewer:o})}function v({repo:e,owner:t,assignees:a,assigneeTokens:c,suggestions:f,includeAssignableBots:h,includeAuthorableBots:y,maximumAssignees:b,viewer:x,...v}){let[C,j]=(0,g.useState)(!1),[S,I]=(0,g.useState)(!1),[N,F]=(0,g.useState)(0),[_,L]=(0,g.useState)(null),[w,T]=(0,g.useState)(null),[A,E]=(0,g.useState)(null),K=(0,m.jE)(),P=(0,g.useMemo)(()=>(({includeAssignableBots:e,includeAuthorableBots:t})=>{let a=[];return e&&a.push("CAN_BE_ASSIGNED"),t&&a.push("CAN_BE_AUTHOR"),a})({includeAssignableBots:h,includeAuthorableBots:y}),[h,y]),D=c.length>0;(0,g.useEffect)(()=>{!p.X3&&D&&(async()=>{try{j(!0);let a=await k(K,{owner:t,repo:e,query:"",loginNames:c,capabilities:P});L(a),j(!1),I(!1)}catch{j(!1),I(!0)}})()},[N,t,e,c,P,K,D]);let R=(0,g.useCallback)(async a=>{if(A&&A<=d.t.maximumSuggestedUsers&&w)return j(!1),(0,l.t)({items:[...w,...v.noAssigneeOption?[o.v.noAssigneeData]:[]],filter:a,key:e=>e.login||(v.noAssigneeOption?.source?.login??""),secondaryKey:e=>`${e.name}`});try{j(!0);let n=await k(K,{owner:t,repo:e,query:a,first:d.t.maximumSuggestedUsers,capabilities:P}),l=n.assignees;return n.totalCount&&""===a.trim()&&E(n.totalCount),v.noAssigneeOption&&(0,i.O)(a,v.noAssigneeOption?.source?.login??"")&&l.unshift({...o.v.noAssigneeData}),j(!1),I(!1),l}catch{return j(!1),I(!0),[]}},[A,w,v.noAssigneeOption,K,t,e,P]),M=(0,g.useMemo)(()=>{let e=[];return a&&a.length>0?e=a:c.length>0&&(e=_?.assignees||[]),v.noAssigneeOption?.selected&&e.unshift(o.v.noAssigneeData),e},[c.length,a,_?.assignees,v.noAssigneeOption?.selected]);(0,g.useEffect)(()=>{(async()=>{T(await R("")),j(!1)})()},[]);let V=(0,g.useMemo)(()=>{let e=(w||[]).find(e=>e.isCopilot),t=[...f||w||[]];return e&&!t.find(e=>e.isCopilot)&&t.unshift(e),t},[w,f]),O=(0,g.useRef)(null),{createFallbackComponent:B}=(0,u.j)({errorMessage:r.k.cantEditItems("assignees"),anchorElement:e=>v.anchorElement(e,O),open:!0});return S?B(()=>F(e=>e+1)):(0,n.jsx)(s.l,{...v,assignees:M,suggestions:V,isLoading:C,searchAssignees:R,maximumAssignees:b,viewer:x})}let C=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees";function j({repo:e,owner:t,number:a,anchorElement:l,readonly:i,assignees:s,suggestions:r,viewer:o,...d}){return(0,n.jsx)(c.y,{keybindingCommandId:C(d.name),anchorElement:(e,t)=>l(e,t),createChild:()=>(0,n.jsx)(x,{repo:e,owner:t,number:a,readonly:i,assignees:s,suggestions:r,viewer:o,triggerOpen:!0,anchorElement:l,...d}),insidePortal:d.insidePortal})}function S({anchorElement:e,...t}){return(0,n.jsx)(c.y,{anchorElement:(t,a)=>e(t,a),keybindingCommandId:C(t.name),createChild:()=>(0,n.jsx)(v,{anchorElement:e,triggerOpen:!0,...t}),insidePortal:t.insidePortal})}try{x.displayName||(x.displayName="ItemPickerFetcherForIssue")}catch{}try{v.displayName||(v.displayName="ItemPickerFetcherForRepository")}catch{}try{j.displayName||(j.displayName="AssigneePicker")}catch{}try{S.displayName||(S.displayName="AssigneeRepositoryPicker")}catch{}},66718:(e,t,a)=>{a.d(t,{Ge:()=>n,UI:()=>l,$J:()=>i});function n(e){let t=i(e);if(Number.isNaN(t))return"This field must be a number";if(t<-0x7fffffff||t>0x7fffffff)return"This value must be between -2147483647 and 2147483647";let a=e.split(".")[1];if(a&&a.length>15)return"This floating point value is too precise"}function l(e){return new Blob([e]).size>1024?"This value is too long":void 0}function i(e){return Number(e.replace(/,/g,""))}},67702:(e,t,a)=>{a.d(t,{P:()=>i});var n=a(34418),l=a(97286);function i(e){return(0,l.I)({queryKey:["autocomplete-emojis-for-editor"],enabled:e,queryFn:()=>(0,n.X)({queryDeps:{pathname:"/autocomplete/emojis_for_editor"}}),select:e=>Object.entries(e).map(([e,[t,a]])=>({name:e,character:a,url:t}))})}},68245:(e,t,a)=>{a.d(t,{_:()=>i,z:()=>r});var n=a(74848),l=a(21728);let i=(0,a(96540).createContext)("handle"),s={NAME_HANDLE:"name_handle",NAME_AND_HANDLE:"name_handle",HANDLE:"handle"};function r(e){let t,a=(0,l.c)(3),{value:r,children:o}=e,d=r&&s[r.toUpperCase()]||"handle";return a[0]!==o||a[1]!==d?(t=(0,n.jsx)(i.Provider,{value:d,children:o}),a[0]=o,a[1]=d,a[2]=t):t=a[2],t}try{i.displayName||(i.displayName="UserNameDisplayContext")}catch{}try{r.displayName||(r.displayName="UserNameDisplayContextProvider")}catch{}},68534:(e,t,a)=>{a.d(t,{F:()=>n});function n(e){return e.slice(0,7)}},69599:(e,t,a)=>{a.d(t,{G7:()=>o,XY:()=>d,fQ:()=>r});var n=a(5225),l=a(21067);function i(){return new Set((0,l._$)().featureFlags)}let s=a(71315).X3||function(){try{return process?.env?.STORYBOOK==="true"}catch{return!1}}()?i:(0,n.A)(i);function r(){return Array.from(s())}function o(e){return s().has(e)}let d={isFeatureEnabled:o}},70263:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(88431),l=a(96540);function i(){let e=(0,l.useRef)(!1),t=(0,l.useCallback)(()=>e.current,[]);return(0,n.N)(()=>(e.current=!0,()=>{e.current=!1}),[]),t}},71073:(e,t,a)=>{a.d(t,{p:()=>j});var n=a(74848),l=a(33643),i=a(21067),s=a(40260),r=a(69599),o=a(59464),d=a(50167),c=a(71315),u=a(38621),m=a(26108),p=a(94236),g=a(5524),f=a(96540),h=a(46173),y=a(20459);let b="CommentActions-module__CommentActionsIconButton--EOXv7";var k=a(59123),x=a(4551),v=a(14969),C=a(14406);function j({comment:e,commentAuthorLogin:t,editComment:a,onReplySelect:j,isMinimized:S=!1,isReply:I=!1,navigate:N,onBlock:F,onUnblock:_,onMinimize:L,hideComment:w,unhideComment:T,deleteComment:A,onSuccessfulBlock:E,commentRef:K,isDisabled:P=!1}){let[D,R]=(0,f.useState)(!1),[M,V]=(0,f.useState)(null),[O,B]=(0,f.useState)(!1),[$,U]=(0,f.useState)(!1),[H,z]=(0,f.useState)(!1),[q,G]=(0,f.useState)(!1),W=(0,f.useCallback)(a=>`${a.replace(/^(?!>)/gm,"> ")} 

 _Originally posted by @${t} in [${e.referenceText}](${e.url})_`,[e.referenceText,t,e.url]),Q=e=>{(0,s.D)(e)},X=!!e.pendingMinimizeReason||e.isHidden,Y=(0,f.useMemo)(()=>X&&!S&&e.viewerCanSeeMinimizeButton?(0,n.jsx)(m.K,{"aria-label":"hide comment",variant:"invisible",onClick:()=>L?.(!0),icon:u.FoldIcon,size:"small",className:b}):null,[X,S,L,e.viewerCanSeeMinimizeButton]),J=(0,f.useMemo)(()=>X&&S&&e.viewerCanSeeUnminimizeButton?(0,n.jsx)(m.K,{"aria-label":"show comment",variant:"invisible",onClick:()=>L?.(!1),icon:u.UnfoldIcon,size:"small",className:b}):null,[X,S,L,e.viewerCanSeeUnminimizeButton]),Z=(0,f.useMemo)(()=>{if(!e.author)return;let a=c.cg?.location.origin;if(!a)return;let n=`content_url=${encodeURIComponent(e.url)}&report=${t}+(user)`;return`${a}/contact/report-content?${n}`},[t,e.author,e.url]),ee=(e.viewerCanReport||e.viewerCanReportToMaintainer)&&e.author,et=function(e){let{viewerCanBlockFromOrg:t,pendingBlock:a,hasAuthor:n,pendingUnblock:l}=e;return!!n&&!a&&(!!l||t)}({viewerCanBlockFromOrg:e.viewerCanBlockFromOrg,pendingBlock:!!e.pendingBlock,pendingUnblock:!!e.pendingUnblock,hasAuthor:!!e.author}),ea=function(e){let{viewerCanUnblockFromOrg:t,pendingBlock:a,hasAuthor:n,pendingUnblock:l}=e;return!!n&&!l&&(!!a||t)}({viewerCanUnblockFromOrg:e.viewerCanUnblockFromOrg,pendingBlock:!!e.pendingBlock,pendingUnblock:!!e.pendingUnblock,hasAuthor:!!e.author}),en="boolean"!=typeof e.viewerCanReferenceInIssue||e.viewerCanReferenceInIssue,el="boolean"!=typeof e.viewerCanQuoteReply||e.viewerCanQuoteReply,ei={isCreateDialogOpen:O,setIsCreateDialogOpen:B,navigate:N,optionConfig:{storageKeyPrefix:e.id,defaultDisplayMode:d.q.IssueCreation,scopedOrganization:e.repository.owner.login,issueCreateArguments:{initialValues:{body:W(e.body)},repository:{name:e.repository.name,owner:e.repository.owner.login}}}},es=(0,l.C)(new Date(e.createdAt)),er=`Actions for ${t}'s ${I?"reply":"comment"}, ${es}`;return(0,n.jsxs)(n.Fragment,{children:[O&&(0,n.jsx)(o.or,{...ei}),$&&(0,n.jsx)(v._,{owner:e.repository.owner.login,ownerUrl:e.repository.owner.url,reportUrl:Z,contentId:e.id,onClose:()=>U(!1),contentType:"comment"}),H&&e.author&&(0,n.jsx)(k.r5,{onBlock:F,onClose:()=>{E?.(),z(!1)},organization:e.repository.owner,contentId:e.id,contentAuthor:e.author,contentUrl:e.url}),q&&e.author&&(0,n.jsx)(C.o,{onClose:()=>G(!1),onUnblock:_,organization:e.repository.owner,contentAuthor:e.author,contentId:e.id}),Y,J,(0,n.jsxs)(p.W,{open:D,onOpenChange:e=>{if(e){let e=window.getSelection();e&&e.anchorNode?V({anchorNode:e.anchorNode,range:e.getRangeAt(0)}):V(null)}R(e)},children:[(0,n.jsx)(p.W.Anchor,{"data-testid":h.Y.commentHeaderHamburger,children:(0,n.jsx)(m.K,{disabled:P,size:"small",icon:u.KebabHorizontalIcon,variant:"invisible","aria-label":er,tooltipDirection:"n",description:"More actions",className:b})}),(0,n.jsx)(p.W.Overlay,{children:(0,n.jsxs)(g.l,{"data-testid":h.Y.commentHeaderHamburgerOpen,children:[(0,n.jsxs)(g.l.Item,{inactiveText:""===e.url?"Comment must have a URL to be copied":void 0,onSelect:()=>Q(e.url),children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.LinkIcon,{})}),"Copy link"]}),(0,r.G7)("comment_viewer_copy_raw_markdown")?(0,n.jsxs)(g.l.Item,{inactiveText:""===e.body?"Comment must have content to be copied":void 0,onSelect:()=>Q(e.bodyForClipboard||e.body),children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.MarkdownIcon,{})}),"Copy Markdown"]}):null,(0,i.M3)()&&(0,n.jsxs)(n.Fragment,{children:[el&&(0,n.jsxs)(g.l.Item,{onSelect:()=>{j((0,y.E)(K?.current,M,e.body))},children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.QuoteIcon,{})}),"Quote reply"]}),en&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.l.Divider,{}),(0,n.jsxs)(g.l.Item,{"data-testid":h.Y.commentMenuRefComment,onSelect:()=>B(!0),className:"CommentActions-module__CommentActionsListItem--rBMCI",children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.IssueOpenedIcon,{})}),"Reference in a new issue"]})]})]}),(e.viewerCanUpdate||e.viewerCanMinimize||e.viewerCanDelete)&&(0,n.jsx)(g.l.Divider,{}),e.viewerCanUpdate&&(0,n.jsxs)(g.l.Item,{onSelect:()=>a(),children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.PencilIcon,{})}),"Edit"]}),e.viewerCanMinimize&&!X&&(0,n.jsxs)(p.W,{children:[(0,n.jsx)(p.W.Anchor,{children:(0,n.jsxs)(g.l.Item,{children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.EyeClosedIcon,{})}),"Hide"]})}),(0,n.jsx)(p.W.Overlay,{children:(0,n.jsx)(g.l,{children:(0,n.jsx)(x.w,{onSelect:w,setMenuOpen:R})})})]}),e.viewerCanUnminimize&&X&&(0,n.jsxs)(g.l.Item,{onSelect:T,children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.EyeIcon,{})})," ","Unhide"]}),e.viewerCanDelete&&(0,n.jsxs)(g.l.Item,{variant:"danger",onSelect:A,children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.TrashIcon,{})}),"Delete"]}),ee&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.l.Divider,{}),e.viewerCanReportToMaintainer?(0,n.jsxs)(g.l.Item,{onSelect:()=>{U(!0)},children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.ReportIcon,{})}),"Report content"]}):(0,n.jsxs)(g.l.LinkItem,{href:Z,target:"_blank",children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.ReportIcon,{})}),"Report content"]})]}),(et||ea)&&!ee&&(0,n.jsx)(g.l.Divider,{}),et&&(0,n.jsxs)(g.l.Item,{onSelect:()=>z(!0),children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.BlockedIcon,{})}),"Block user"]}),ea&&(0,n.jsxs)(g.l.Item,{onSelect:()=>G(!0),children:[(0,n.jsx)(g.l.LeadingVisual,{children:(0,n.jsx)(u.BlockedIcon,{})}),"Unblock user"]})]})})]})]})}try{j.displayName||(j.displayName="CommentActions")}catch{}},71315:(e,t,a)=>{a.d(t,{KJ:()=>n.KJ,Kn:()=>l.Kn,X3:()=>n.X3,XC:()=>l.XC,cg:()=>l.cg,fV:()=>l.fV,g5:()=>n.g5});var n=a(6923),l=a(56038)},71651:(e,t,a)=>{a.d(t,{z:()=>c});var n=a(58615),l=a(96379),i=a(96540);let s={emojiTone:0,pasteUrlsAsPlainText:!1,useMonospaceFont:!1},r=new Map,o="/settings/appearance/viewer-settings";async function d(){try{let e=await (0,l.Sr)(o);if(!e.ok)throw Error(`HTTP ${e.status}`);let t=await e.json(),a=function(e){if(!e||"object"!=typeof e)return null;let t="number"==typeof e.emojiTone?e.emojiTone:s.emojiTone,a="boolean"==typeof e.pasteUrlsAsPlainText?e.pasteUrlsAsPlainText:s.pasteUrlsAsPlainText,n="boolean"==typeof e.useMonospaceFont?e.useMonospaceFont:s.useMonospaceFont;return void 0!==e.emojiTone||void 0!==e.pasteUrlsAsPlainText||void 0!==e.useMonospaceFont?{emojiTone:t,pasteUrlsAsPlainText:a,useMonospaceFont:n}:null}(t);if(!a)throw Error("Invalid response payload");return a}catch(e){throw e}}function c(e=!1){let[t,a]=(0,n.M)("user.preferences.viewer-settings",null),[l,u]=(0,i.useState)(!0),[m,p]=(0,i.useState)(!1),g=(0,i.useRef)(!1);e&&(r.clear(),g.current=!1);let f=(0,i.useCallback)(async()=>{let e=r.get(o);try{e||(e=d(),r.set(o,e));let t=await e;a(t),p(!1)}catch{p(!0)}finally{u(!1)}},[a]);return(0,i.useEffect)(()=>{g.current?u(!1):(g.current=!0,f())},[f]),{settings:t||s,loading:l,error:m&&!t}}},72274:(e,t,a)=>{a.d(t,{u:()=>y});let n={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useViewerSafeViewerSharedQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"safeViewer",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerSharedAssignee",selections:[{kind:"InlineFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},d={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},c={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useViewerSafeViewerSharedQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"safeViewer",plural:!1,selections:[i,{kind:"InlineFragment",selections:[l,s,r,o,d,c],type:"Actor",abstractKey:"__isActor"}],storageKey:null}]},params:{id:"6987ff2f32d01960d1bbe40dda9de91d",metadata:{},name:"useViewerSafeViewerSharedQuery",operationKind:"query",text:null}};n.hash="5a013278916f7fee830e1904fafc0041";var l,i,s,r,o,d,c,u=a(30721),m=a(71315),p=a(43755),g=a(96540),f=a(18312);a(69487);var h=a(32232);function y(){let e=(0,f.useRelayEnvironment)(),{currentUser:t}=(0,p.J)(),[a,l]=(0,g.useState)(t);return m.X3||a||(0,u.SD)({environment:e,query:n,variables:{}}).subscribe({next:e=>{e.safeViewer&&l((0,h.uX)(e.safeViewer))}}),a}},72690:(e,t,a)=>{a.d(t,{CZ:()=>x});var n,l,i,s,r=a(74848);let o={kind:"InlineDataFragment",name:"IssueSingleSelectFieldPickerOption"};o.hash="d8bcb73a6758269a0f127f7a03e396bc";let d={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"IssueSingleSelectFieldPickerFieldQuery",selections:[{alias:null,args:l=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"IssueFieldSingleSelectOption",kind:"LinkedField",name:"options",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"IssueSingleSelectFieldPickerOption",selections:s=[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"IssueFieldSingleSelect",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"IssueSingleSelectFieldPickerFieldQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"IssueFieldSingleSelectOption",kind:"LinkedField",name:"options",plural:!0,selections:s,storageKey:null}],type:"IssueFieldSingleSelect",abstractKey:null},i],storageKey:null}]},params:{id:"c64e6ba36203e1baee1d8517134d7d4c",metadata:{},name:"IssueSingleSelectFieldPickerFieldQuery",operationKind:"query",text:null}};d.hash="0979e35fc8348ec832d8c8f2a2b59fec";var c=a(69599),u=a(19918),m=a(86391),p=a(81289),g=a(81709),f=a(30721),h=a(71315),y=a(96540),b=a(18312),k=a(14709);function x({anchorElement:e,isLazy:t,shouldOpen:a=!1,...n}){return t&&!a?(0,r.jsx)(p.y,{anchorElement:(t,a)=>e(t,a),createChild:()=>(0,r.jsx)(v,{anchorElement:(t,a)=>e(t,a),...n})}):(0,r.jsx)(v,{anchorElement:(t,a)=>e(t,a),...n})}function v({fieldId:e,anchorElement:t,...a}){let n=(0,b.useRelayEnvironment)(),[l,i]=(0,y.useState)(!0),[s,o]=(0,y.useState)(0),[c,m]=(0,y.useState)(!1),[p,k]=(0,y.useState)([]);(0,y.useEffect)(()=>{h.X3||(0,f.SD)({environment:n,query:d,variables:{id:e}}).subscribe({next:e=>{k(e.node?.options??[]),i(!1),m(!1)},error:()=>{m(!0),i(!1)}})},[n,s,e]);let{createFallbackComponent:x}=(0,g.j)({errorMessage:u.k.cantEditItems("fields"),anchorElement:t,open:!0});return c?x(()=>o(e=>e+1)):(0,r.jsx)(C,{fieldId:e,values:p,isLoading:l,anchorElement:t,...a})}function C({title:e=u.k.fieldSingleSelectHeader,width:t="medium",values:a,fieldName:n,selectedOption:l,onSelectionChange:i,onClose:s,insidePortal:d,anchorElement:p,isLoading:g}){let[f,h]=(0,y.useState)(""),x=n?u.k.fieldSingleSelectHeaderWithName(n):e,v=a.flatMap(e=>e?[(0,b.readInlineData)(o,e)]:[]),C=(0,y.useMemo)(()=>f?v.filter(e=>e.name&&e.name.toLowerCase().indexOf(f.toLowerCase())>=0):v,[v,f]),j=(0,y.useCallback)(e=>{h(e)},[]),S=(0,y.useCallback)(e=>e.id||"",[]),I=(0,y.useCallback)(e=>({id:e.id,text:e.name,description:e.description||"",descriptionVariant:"block",leadingVisual:(0,k.z)(e.color),source:e}),[]),N=(0,y.useMemo)(()=>{if(l){let e=v.find(e=>e.name===l);if(e)return[e]}return[]},[v,l]),F=(0,y.useRef)(null),_=(0,y.useMemo)(()=>0===C.length,[C]),L=(0,c.G7)("issues_react_select_panel_fullscreen_on_narrow");return(0,r.jsx)(m.O,{loading:g,items:C,initialSelectedItems:N,filterItems:j,title:x,getItemKey:S,convertToItemProps:I,placeholderText:"Filter option",selectionVariant:"single",onSelectionChange:e=>i(e&&e.length>0&&e[0]?e[0]:null),onClose:s,renderAnchor:e=>p(e,F),insidePortal:d,height:"large",width:t,resultListAriaLabel:"Issue field option results",triggerOpen:!0,selectPanelRef:F,improvedNoMatchAccessibility:_,noMatchMessage:_?{title:"No option found",variant:"empty",body:"Try searching with a different query for results."}:void 0,responsiveOnNarrow:L})}try{x.displayName||(x.displayName="IssueSingleSelectFieldPicker")}catch{}try{v.displayName||(v.displayName="IssueSingleSelectFieldPickerFetcher")}catch{}try{C.displayName||(C.displayName="ItemPickerWrapper")}catch{}},73049:(e,t,a)=>{a.d(t,{A:()=>n});function n(e){if("data"in e)return e;if("errors"in e&&Array.isArray(e.errors)&&e.errors.length>0&&e.errors[0]?.message)throw Error(e.errors[0].message);throw Error("Error in request")}},73189:(e,t,a)=>{a.d(t,{l:()=>n});let n=()=>void 0},73454:(e,t,a)=>{a.d(t,{h:()=>c});var n=a(74848),l=a(38621),i=a(84268),s=a(35811),r=a(10095);let o="ErrorWithRetry-module__retryActionLink--Xys2Y";var d=a(34164);function c({message:e,retry:t,sx:a}){return(0,n.jsxs)(s.az,{sx:a,className:"ErrorWithRetry-module__ErrorWithRetryContainer--eDhIy",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(r.A,{icon:l.AlertFillIcon,className:(0,d.$)("mr-1","ErrorWithRetry-module__errorAlertIcon--Iiexz")}),(0,n.jsx)("span",{className:"ErrorWithRetry-module__errorMessage--DNJUZ",children:e})]}),(0,n.jsx)(i.A,{as:"button",inline:!0,onClick:t,className:o,children:(0,n.jsx)("span",{className:o,children:"Try again"})})]})}try{c.displayName||(c.displayName="ErrorWithRetry")}catch{}},73580:(e,t,a)=>{a.d(t,{k$:()=>em,wX:()=>eg,vj:()=>eu});var n,l,i,s,r,o,d,c,u,m,p,g,f,h,y,b,k,x,v,C=a(74848);let j={kind:"InlineDataFragment",name:"ProjectPickerRelay"};j.hash="4b45497a1690cc285c12af08bfeeb904";let S=(n={defaultValue:null,kind:"LocalArgument",name:"owner"},l={defaultValue:null,kind:"LocalArgument",name:"query"},i={defaultValue:null,kind:"LocalArgument",name:"repo"},s=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],o=[r={kind:"Literal",name:"first",value:5},{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"RELEVANCE"}},{kind:"Variable",name:"query",variableName:"query"},{kind:"Literal",name:"useFullTermQuery",value:!0}],m=[{kind:"InlineDataFragmentSpread",name:"ProjectPickerRelay",selections:u=[d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],args:null,argumentDefinitions:[]}],f={alias:null,args:p=[r],concreteType:"ProjectV2Connection",kind:"LinkedField",name:"recentProjects",plural:!1,selections:g=[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:m,storageKey:null}],storageKey:null}],storageKey:"recentProjects(first:5)"},h=[{alias:null,args:o,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:g,storageKey:null},f],b={alias:null,args:p,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"recentProjects",plural:!1,selections:y=[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:u,storageKey:null}],storageKey:null}],storageKey:"recentProjects(first:5)"},k=[{alias:null,args:o,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:y,storageKey:null},b],{fragment:{argumentDefinitions:[n,l,i],kind:"Fragment",metadata:null,name:"ProjectPickerRelayQuery",selections:[{alias:null,args:s,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:o,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"nodes",plural:!0,selections:m,storageKey:null}],storageKey:null},f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:h,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:h,type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,i,l],kind:"Operation",name:"ProjectPickerRelayQuery",selections:[{alias:null,args:s,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:o,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"nodes",plural:!0,selections:u,storageKey:null}],storageKey:null},b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[c,{kind:"InlineFragment",selections:k,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:k,type:"User",abstractKey:null},d],storageKey:null},d],storageKey:null}]},params:{id:"505074714334dc02c12a9208c4c68a76",metadata:{},name:"ProjectPickerRelayQuery",operationKind:"query",text:null}});S.hash="5902b76dd5cff1cb9237182ac9a68a75";var I=a(67126),N=a(81709),F=a(30721),_=a(71315),L=a(43258),w=a(83494),T=a(96540),A=a(18312),E=a(74563),K=a(19918);let P={fragment:{argumentDefinitions:x=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"addIssuesToProjectPickerBulkMutation",selections:v=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:x,kind:"Operation",name:"addIssuesToProjectPickerBulkMutation",selections:v},params:{id:"55ad9d4da2ebad57b590a7d211e85cbe",metadata:{},name:"addIssuesToProjectPickerBulkMutation",operationKind:"mutation",text:null}};P.hash="4c77805c8af085b0cb08d942d0a991ad";var D=a(46747),R=a(38143),M=a(34267),V=a(76027),O=a(57019),B=a(69599),$=a(38621),U=a(5643),H=a(97665),z=a(96379),q=a(47544);async function G({owner:e,repo:t,query:a,count:n}){let l={owner:e,repo:t};a&&(l.query=a),n&&(l.count=n);let i=(0,q.JF)("projects",l),s=await (0,z.lS)(i);return await s.json()}var W=a(73049);let Q={groupId:"recent",header:{title:"Recent",variant:"filled"}},X={groupId:"repository",header:{title:"Repository",variant:"filled"}},Y={groupId:"organization",header:{title:"Organization",variant:"filled"}},J={groupId:"selected"};async function Z(e,{owner:t,repo:a,query:n,count:l}){return await e.fetchQuery({queryKey:["item_picker","projects",{owner:t,repo:a,query:n,count:l}],queryFn:async()=>{var e;let i=await G({owner:t,repo:a,query:n,count:l});return{repositoryId:(e=(0,W.A)(i).data).repository.id,repositoryProjects:e.repository.projectsV2.nodes,recentRepositoryProjects:e.repository.recentProjects.edges.map(e=>e.node),ownerProjects:e.repository.owner.projectsV2.edges.map(e=>e.node),recentOwnerProjects:e.repository.owner.recentProjects.edges.map(e=>e.node)}}})}let ee=[];function et({projectsData:e,selectedProjects:t=ee,onSave:a,anchorElement:n,insidePortal:l,owner:i,repo:s,isLoading:r=!1,triggerOpen:o=!1,readonly:d,title:c,getSelectedProjects:u,pickerId:m}){let[p,g]=(0,T.useState)(e),[f,h]=(0,T.useState)(!1),[y,b]=(0,T.useState)(!1),k=(0,H.jE)(),{addToast:x}=(0,L.Y6)(),[v,j]=(0,T.useState)(""),[S,N]=(0,T.useState)(o),F=(0,T.useCallback)(async e=>{h(!0);try{let t=await Z(k,{repo:s,owner:i,query:e});g(t),h(!1)}catch{h(!1),x({type:"error",message:I.S.couldNotSearchProjects})}},[i,k,s]),_=(0,D.d)(e=>F(e),R.t.pickerDebounceTime);(0,T.useEffect)(()=>(0===v.length?g(e):_(v),()=>{h(!1)}),[_,v,e]);let w=(0,T.useMemo)(()=>(p?.recentOwnerProjects||[]).filter(e=>!1===e.closed),[p]),A=(0,T.useMemo)(()=>(p?.repositoryProjects||[]).filter(e=>!1===e.closed),[p]),P=(0,T.useMemo)(()=>(p?.ownerProjects||[]).filter(e=>!1===e.closed),[p]),z=(0,T.useMemo)(()=>u?u([...w,...A,...P]):t,[u,t,P,w,A]),[q,G]=(0,T.useState)(()=>z.map(e=>e.id));(0,T.useEffect)(()=>{G(z.map(e=>e.id))},[z]);let W=(0,T.useCallback)((e,t)=>{let{title:a,id:n}=t,l=t.hasReachedItemsLimit&&!z.some(e=>e.id===n)?"danger":"default",i=t.hasReachedItemsLimit?"block":"inline";return{text:a,description:t.hasReachedItemsLimit?`${K.k.projectItemsLimitReached}`:void 0,descriptionVariant:i,id:n,groupId:e,selected:q.includes(n),disabled:d||!t.viewerCanUpdate,leadingVisual:$.TableIcon,variant:l}},[z,q,d]),et=(0,T.useMemo)(()=>{let e=z.map(e=>e.id);return{selected:z,recent:w.filter(t=>!e.includes(t.id)),repository:A.filter(t=>!e.includes(t.id)),organization:P.filter(t=>!e.includes(t.id))}},[z,w,A,P]),ea=(0,T.useMemo)(()=>Object.keys(et).flatMap(e=>{let t=et[e];return t?t.map(t=>W(e,t)):[]}),[et,W]),en=(0,T.useMemo)(()=>ea.filter(e=>e.id&&q.includes(e.id.toString())),[q,ea]),el=(0,T.useMemo)(()=>{if(ea.length<1)return[];if(""===v)return ea;let e=ea.filter(e=>(e.text||"").toLowerCase().indexOf(v.trim().toLowerCase())>=0);return e.length<1?[]:e},[v,ea]),ei=(0,T.useMemo)(()=>[z.length>0?J:null,w.length>0?Q:null,A.length>0?X:null,P.length>0?Y:null].filter(e=>null!==e),[z.length,w.length,A.length,P.length]),es=(0,T.useCallback)(e=>{let t=en.filter(t=>!e.includes(t)).map(e=>e.id),a=q;a=[...a,...e.filter(e=>void 0!==e.id).map(e=>e.id)],t.length>0&&(a=a.filter(e=>!t.includes(e))),G([...new Set(a)])},[G,en,q]),er=(0,T.useCallback)(()=>{N(!1),j(""),(q.length!==t.length||q.some(e=>!t.some(t=>e===t.id)))&&G(t.map(e=>e.id?e.id.toString():""))},[t,q]),{updateOpenState:eo}=(0,M.t)(),ed=(0,B.G7)("issues_react_blur_item_picker_on_close"),ec=(0,T.useCallback)((e,t)=>{if(ed&&!e&&document.activeElement instanceof HTMLElement&&document.activeElement?.blur(),"cancel"!==t&&(N(e),eo(m,e),!e)){j(""),en.filter(e=>"danger"===e.variant).length>0&&b(!0);let e=en.filter(e=>"danger"!==e.variant).map(e=>e.id).filter(e=>void 0!==e);G(e);let t=Object.keys(et).flatMap(e=>et[e]||[]),n=new Map;for(let e of t)n.set(e.id,e);let l=[...new Set(e)].map(e=>n.get(e)).filter(e=>void 0!==e);a&&a(l)}},[ed,eo,m,en,a,et]),eu=(0,T.useCallback)(()=>{b(!1)},[b]);return(0,O._)([" "],e=>{if(S){let t=document.querySelector(V.Z.activePickerOption(E.B.itemPickerRootId));if(t){let a=t.getAttribute("data-id"),n=[...el.values()].find(e=>e.id===a);if(n&&n.id){if(n.disabled)return;e.preventDefault(),e.stopPropagation();let t=n.id.toString();G(e=>{let a=[...e],n=a.indexOf(t);return n>-1?a.splice(n,1):a.push(t),a})}}}},{triggerWhenInputElementHasFocus:!0,triggerWhenPortalIsActive:!0}),(0,C.jsx)(U.$,{anchorElement:n,title:c,items:el,selectedProjects:en,groups:ei,onOpenChange:ec,isDialogOpen:y,handleDialogClose:eu,insidePortal:l,onCancel:er,onSelectionChange:es,triggerOpen:S,isLoading:r||f,onFilterChange:j,filterValue:v})}function ea({repo:e,owner:t,...a}){let[n,l]=(0,T.useState)(!0),[i,s]=(0,T.useState)(0),[r,o]=(0,T.useState)(!1),[d,c]=(0,T.useState)(null),u=(0,H.jE)();(0,T.useEffect)(()=>{_.X3||(async()=>{try{let a=await Z(u,{owner:t,repo:e,query:""});c(a),l(!1),o(!1)}catch{o(!0),l(!1)}})()},[i,t,u,e]);let m=(0,T.useRef)(null),{createFallbackComponent:p}=(0,N.j)({errorMessage:K.k.cantEditItems("projects"),anchorElement:e=>a.anchorElement(e,m),open:!0});return r?p(()=>s(e=>e+1)):(0,C.jsx)(et,{projectsData:d,owner:t,repo:e,isLoading:n,...a})}function en({anchorElement:e,triggerOpen:t,...a}){let[n,l]=(0,T.useState)(t),i=(0,T.useCallback)(()=>{n||l(!0)},[n]);return n?(0,C.jsx)(ea,{triggerOpen:!0,anchorElement:t=>e(t),...a,pickerId:"list-header-projects-picker"}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(w.ak,{commands:{"item-pickers:open-projects":i}}),e({onClick:()=>{l(!0)},onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),l(!0))}})]})}try{et.displayName||(et.displayName="SelectPanelWrapper")}catch{}try{ea.displayName||(ea.displayName="ItemPickerFetcher")}catch{}try{en.displayName||(en.displayName="ProjectPicker")}catch{}var el=a(94747);async function ei({ids:e,addToProjectIds:t,removeFromProjectIds:a}){let n=(0,q.R1)(),l=await (0,z.lS)(n,{method:"POST",body:{ids:e,addToProjectIds:t,removeFromProjectIds:a}});return await l.json()}function es({onError:e,onCompleted:t,onMutate:a,issueIds:n,selectedProjects:l,...i}){let{mutate:s}=function({onMutate:e}){return(0,el.n)({mutationFn:async({projects:e,...t})=>{let a=await ei(t);return(0,W.A)(a)},onMutate:e})}({onMutate:a}),r=(0,T.useCallback)(a=>{let i=a.filter(e=>!l.some(t=>t.id===e.id)),r=l.filter(e=>!a.some(t=>t.id===e.id));(i.length||r.length)&&s({ids:[...n],addToProjectIds:i.map(e=>e.id),removeFromProjectIds:r.map(e=>e.id?e.id.toString():""),projects:a},{onSuccess:e=>t?.(e.data.updateIssuesBulk.jobId),onError:e})},[s,n,t,e,l]);return(0,C.jsx)(en,{onSave:r,selectedProjects:l,...i})}try{es.displayName||(es.displayName="BulkIssueProjectPicker")}catch{}let er={groupId:"recent",header:{title:"Recent",variant:"filled"}},eo={groupId:"repository",header:{title:"Repository",variant:"filled"}},ed={groupId:"organization",header:{title:"Organization",variant:"filled"}},ec={groupId:"selected"};async function eu(e,t){let{owner:a,repo:n,query:l}=t,i=await (0,A.fetchQuery)(e,S,{owner:a,repo:n,query:l},{fetchPolicy:"store-or-network"}).toPromise(),s=(i?.repository?.projectsV2?.nodes??[]).filter(e=>!!e).map(e=>(0,A.readInlineData)(j,e)),r=(i?.repository?.recentProjects?.edges??[]).map(e=>e?.node).filter(e=>!!e).map(e=>(0,A.readInlineData)(j,e));return{repositoryProjects:s,recentRepositoryProjects:r,ownerProjects:(i?.repository?.owner?.projectsV2?.edges??[]).map(e=>e?.node).filter(e=>!!e).map(e=>(0,A.readInlineData)(j,e)),recentOwnerProjects:(i?.repository?.owner?.recentProjects?.edges??[]).map(e=>e?.node).filter(e=>!!e).map(e=>(0,A.readInlineData)(j,e))}}let em=e=>(0,B.G7)("item_picker_project_tsq_migration")?(0,C.jsx)(es,{...e,onMutate:()=>{}}):(0,C.jsx)(ep,{...e}),ep=({pickerId:e,issueIds:t,readonly:a,selectedProjects:n,insidePortal:l,anchorElement:i,onCompleted:s,onError:r,nested:o=!1,owner:d,repo:c,triggerOpen:u=!1})=>{let m=(0,A.useRelayEnvironment)(),p=(0,T.useCallback)(e=>{let a=e.filter(e=>!n.some(t=>t.id===e.id)),l=n.filter(t=>!e.some(e=>e.id===t.id));(a.length||l.length)&&function({environment:e,input:{ids:t,addToProjectV2Ids:a,removeFromProjectV2Ids:n},onCompleted:l,onError:i}){(0,A.commitMutation)(e,{mutation:P,variables:{input:{ids:t,addToProjectV2Ids:a,removeFromProjectV2Ids:n}},onCompleted:e=>l&&l(e),onError:e=>i&&i(e)})}({environment:m,input:{ids:[...t],addToProjectV2Ids:a.map(e=>e.id),removeFromProjectV2Ids:l.map(e=>e.id?e.id.toString():"")},onCompleted:({updateIssuesBulk:e})=>{s?.(e?.jobId||void 0)},onError:e=>{r?.(e)}})},[m,t,s,r,n]);return eg({pickerId:e,readonly:a,selectedProjects:[...n],insidePortal:l,onSave:p,anchorElement:i,nested:o,owner:d,repo:c,triggerOpen:u})};function eg(e){return(0,B.G7)("item_picker_project_tsq_migration")?(0,C.jsx)(en,{...e}):(0,C.jsx)(ef,{...e})}function ef({anchorElement:e,triggerOpen:t,...a}){let[n,l]=(0,T.useState)(t),i=(0,T.useCallback)(()=>{n||l(!0)},[n]);return n?(0,C.jsx)(eh,{triggerOpen:!0,anchorElement:t=>e(t),...a,pickerId:"list-header-projects-picker"}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(w.ak,{commands:{"item-pickers:open-projects":i}}),e({onClick:()=>{l(!0)},onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),l(!0))}})]})}function eh({repo:e,owner:t,...a}){let n=(0,A.useRelayEnvironment)(),[l,i]=(0,T.useState)(!0),[s,r]=(0,T.useState)(0),[o,d]=(0,T.useState)(!1),[c,u]=(0,T.useState)(null);(0,T.useEffect)(()=>{_.X3||(0,F.SD)({environment:n,query:S,variables:{owner:t,repo:e}}).subscribe({next:e=>{u(e),i(!1),d(!1)},error:()=>{d(!0)}})},[n,s,t,e]);let{createFallbackComponent:m}=(0,N.j)({errorMessage:"Cannot edit projects right now",anchorElement:a.anchorElement,open:!0});return o?m(()=>r(s+1)):(0,C.jsx)(ey,{projectsData:c,owner:t,repo:e,isLoading:l,...a})}function ey({pickerId:e,selectedProjects:t,projectsData:a,onSave:n,anchorElement:l,insidePortal:i,owner:s,repo:r,isLoading:o=!1,triggerOpen:d=!1,readonly:c,title:u,getSelectedProjects:m}){let[p,g]=(0,T.useState)(a),[f,h]=(0,T.useState)(null),[y,b]=(0,T.useState)(!1),[k,x]=(0,T.useState)(!1),v=(0,A.useRelayEnvironment)(),{addToast:N}=(0,L.Y6)(),[F,_]=(0,T.useState)(""),w=(0,T.useCallback)(e=>{b(!0),h((0,A.fetchQuery)(v,S,{repo:r,owner:s,query:e}).subscribe({next:e=>{null!==e&&g(e),b(!1)},error:()=>{b(!1),N({type:"error",message:I.S.couldNotSearchProjects})}}))},[s,v,r]),P=(0,D.d)(e=>w(e),R.t.pickerDebounceTime);(0,T.useEffect)(()=>(0===F.length?g(a):P(F),f?.unsubscribe(),()=>{b(!1)}),[P,F,a]);let H=(0,T.useMemo)(()=>(p?.repository?.owner?.recentProjects?.edges||[]).flatMap(e=>e?.node?[(0,A.readInlineData)(j,e.node)].filter(e=>!1===e.closed):[]),[p]),z=(0,T.useMemo)(()=>(p?.repository?.projectsV2?.nodes||[]).flatMap(e=>e?[(0,A.readInlineData)(j,e)].filter(e=>!1===e.closed):[]),[p]),q=(0,T.useMemo)(()=>(p?.repository?.owner?.projectsV2?.edges||[]).flatMap(e=>e?.node?[(0,A.readInlineData)(j,e.node)].filter(e=>!1===e.closed):[]),[p]),G=(0,T.useMemo)(()=>m?m([...H,...z,...q]):t,[m,t,q,H,z]),[W,Q]=(0,T.useState)(()=>G.map(e=>e.id));(0,T.useEffect)(()=>{Q(G.map(e=>e.id))},[G,e]);let X=(0,T.useCallback)((e,t)=>{let{title:a,id:n}=t,l=t.hasReachedItemsLimit&&!G.some(e=>e.id===n)?"danger":"default",i=t.hasReachedItemsLimit?"block":"inline";return{text:a,description:t.hasReachedItemsLimit?`${K.k.projectItemsLimitReached}`:void 0,descriptionVariant:i,id:n,groupId:e,selected:W.includes(n),disabled:c||!t.viewerCanUpdate,leadingVisual:$.TableIcon,variant:l,sx:{wordBreak:"break-word"}}},[G,W,c]),Y=(0,T.useMemo)(()=>({selected:G,recent:H.filter(e=>!G.map(function(e){return e.id}).includes(e.id)),repository:z.filter(e=>!G.map(function(e){return e.id}).includes(e.id)),organization:q.filter(e=>!G.map(function(e){return e.id}).includes(e.id))}),[G,H,z,q]),J=(0,T.useMemo)(()=>Object.keys(Y).flatMap(e=>Y[e].map(t=>X(e,t))),[Y,X]),Z=(0,T.useMemo)(()=>J.filter(e=>e.id&&W.includes(e.id.toString())),[W,J]),ee=(0,T.useMemo)(()=>{if(J.length<1)return[];if(""===F)return J;let e=J.filter(e=>(e.text||"").toLowerCase().indexOf(F.trim().toLowerCase())>=0);return e.length<1?[]:e},[F,J]),et=(0,T.useMemo)(()=>[G.length>0?ec:null,H.length>0?er:null,z.length>0?eo:null,q.length>0?ed:null].filter(e=>null!==e),[G.length,H.length,z.length,q.length]),ea=(0,T.useCallback)(e=>{let t=Z.filter(t=>!e.includes(t)).map(e=>e.id),a=W;a=[...a,...e.filter(e=>void 0!==e.id).map(e=>e.id)],t.length>0&&(a=a.filter(e=>!t.includes(e))),Q([...new Set(a.map(e=>e.toString()))])},[Q,Z,W]),{updateOpenState:en}=(0,M.t)(),[el,ei]=(0,T.useState)(d);(0,O._)([" "],e=>{if(el){let t=document.querySelector(V.Z.activePickerOption(E.B.itemPickerRootId));if(t){let a=t.getAttribute("data-id"),n=[...ee.values()].find(e=>e.id===a);n&&n.id&&(e.preventDefault(),e.stopPropagation(),Q(e=>{let t=[...e],a=t.indexOf(n.id.toString());return a>-1?t.splice(a,1):t.push(n.id.toString()),t}))}}},{triggerWhenInputElementHasFocus:!0,triggerWhenPortalIsActive:!0});let es=(0,B.G7)("issues_react_blur_item_picker_on_close"),eu=(0,T.useCallback)(()=>{ei(!1),_(""),(W.length!==t.length||W.some(e=>!t.some(t=>e===t.id)))&&Q(t.map(e=>e.id?e.id.toString():""))},[t,W]),em=(0,T.useCallback)((t,a)=>{if(es&&!t&&document.activeElement instanceof HTMLElement&&document.activeElement?.blur(),"cancel"!==a&&(ei(t),en(e,t),!t)){_(""),Z.filter(e=>"danger"===e.variant).length>0&&x(!0);let e=Z.filter(e=>"danger"!==e.variant).map(e=>e.id).filter(e=>void 0!==e);Q(e),n(e.flatMap(e=>Object.keys(Y).flatMap(e=>Y[e]).find(t=>t.id===e)||[]).filter((e,t,a)=>a.findIndex(t=>t.id===e.id)===t).filter(e=>void 0!==e))}},[es,en,e,Z,n,Y]),ep=(0,T.useCallback)(()=>{x(!1)},[x]);return(0,C.jsx)(U.$,{anchorElement:l,title:u,items:ee,selectedProjects:Z,groups:et,onOpenChange:em,isDialogOpen:k,handleDialogClose:ep,insidePortal:i,onCancel:eu,onSelectionChange:ea,triggerOpen:el,isLoading:o||y,onFilterChange:_,filterValue:F})}try{ep.displayName||(ep.displayName="BulkProjectPickerRelay")}catch{}try{eg.displayName||(eg.displayName="ProjectPicker")}catch{}try{ef.displayName||(ef.displayName="ProjectPickerRelay")}catch{}try{eh.displayName||(eh.displayName="ItemPickerFetcher")}catch{}try{ey.displayName||(ey.displayName="SelectPanelWrapper")}catch{}},73867:(e,t,a)=>{a.d(t,{R:()=>u});var n=a(74848),l=a(19918),i=a(81945),s=a(71315),r=a(62935);let o=({closed:e,givenDate:t,currentDate:a})=>{let i=e?"short":"long",s=e&&!d(t,a)?void 0:"numeric",o=e&&c(a,t)?"auto":"past",u=e?"auto":"elapsed",m=e?"second":c(t,a)?"month":"day";return(0,n.jsx)(r.A,{date:t,day:"numeric",month:i,tense:d(t,a)?void 0:o,year:s,format:u,precision:m,"data-testid":l.k.testIds.relativeTimeDescription})},d=(e,t)=>{let a=t.getFullYear();return e.getFullYear()<a},c=(e,t)=>12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth())>=1;try{o.displayName||(o.displayName="RelativeTimeDescription")}catch{}let u=({closed:e,closedAt:t,dueOn:a,progressPercentage:r,showProgressPercentage:d=!1})=>{let c=e?t:a;if(!c||!g(c))return l.k.milestones.noDueDate;let u=new Date(c),h=new Date,y=!!a&&new Date(c)<new Date&&!f(u,h);return(0,n.jsx)("div",{className:y&&!e?"MilestoneDescription-module__danger--uV2jW":"MilestoneDescription-module__subtle--wCZ7c",children:s.KJ?(0,n.jsxs)(n.Fragment,{children:[m({isPastDate:y,closed:e}),"\xa0",y||e?(0,n.jsx)(o,{closed:e,givenDate:u,currentDate:h}):p(c),r&&d?l.k.milestones.progressPercentage(r):""]}):(0,n.jsx)(i.O,{variant:"rounded",height:"sm",width:"50%"})})},m=({isPastDate:e,closed:t})=>t?l.k.milestones.milestoneClosed:e?l.k.milestones.pastDue:l.k.milestones.milestoneDue,p=e=>new Date(e).toLocaleDateString("en-us",{month:"long",year:"numeric",day:"numeric"}),g=e=>!isNaN(new Date(e).getTime()),f=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getUTCDate()===t.getUTCDate();try{u.displayName||(u.displayName="MilestoneDescription")}catch{}},74731:(e,t,a)=>{a.d(t,{d:()=>l,t:()=>n});let n={queryParams:{org:"org",repo:"repo",template:"template",title:"title",body:"body",assignees:"assignees",labels:"labels",milestone:"milestone",projects:"projects",type:"type",discussion:"discussion",permalink:"permalink"},maxQueryLengthLimits:{title:256,body:65536,assignees:10,labels:20,projects:20}},l=Object.values(n.queryParams)},76143:(e,t,a)=>{a.d(t,{D:()=>i,Y:()=>s});var n=a(4559),l=a(71315);function i(e){if(!l.XC)return;let t=l.XC.querySelector("title"),a=l.XC.createElement("title");a.textContent=e,t?t.textContent!==e&&(t.replaceWith(a),(0,n.i)(e)):(l.XC.head.appendChild(a),(0,n.i)(e))}function s(e){return document.body.classList.contains("logged-out")?`${e} \xb7 GitHub`:e}},76214:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(74848),l=a(34164);function i({children:e,className:t=""}){return(0,n.jsx)("div",{className:(0,l.$)("color-bg-default position-relative border rounded-2 color-border-default mt-2 d-flex flex-column",t),children:e})}try{i.displayName||(i.displayName="Panel")}catch{}},76629:(e,t,a)=>{a.d(t,{BP:()=>u,D3:()=>c,O8:()=>o});var n=a(74848),l=a(21728),i=a(96540),s=a(71315),r=a(88431);let o={ServerRender:"ServerRender",ClientHydrate:"ClientHydrate",ClientRender:"ClientRender"},d=(0,i.createContext)(o.ClientRender);function c(e){let t,a,c,u,m=(0,l.c)(8),{wasServerRendered:p,children:g}=e;m[0]!==p?(t=()=>s.X3?o.ServerRender:p?o.ClientHydrate:o.ClientRender,m[0]=p,m[1]=t):t=m[1];let[f,h]=(0,i.useState)(t);return m[2]!==f?(a=()=>{f!==o.ClientRender&&h(o.ClientRender)},c=[f],m[2]=f,m[3]=a,m[4]=c):(a=m[3],c=m[4]),(0,r.N)(a,c),m[5]!==g||m[6]!==f?(u=(0,n.jsx)(d.Provider,{value:f,children:g}),m[5]=g,m[6]=f,m[7]=u):u=m[7],u}function u(){return(0,i.useContext)(d)}try{d.displayName||(d.displayName="RenderPhaseContext")}catch{}try{c.displayName||(c.displayName="RenderPhaseProvider")}catch{}},77430:(e,t,a)=>{a.d(t,{r:()=>r});var n=a(74848),l=a(71315),i=a(35811),s=a(96540);let r=(0,s.forwardRef)(function({src:e,size:t=20,sx:a,...r},o){let d=(0,s.useMemo)(()=>{let a=new URL(e,l.fV.origin);return a.searchParams.has("size")||a.searchParams.has("s")||a.searchParams.set("size",String(2*Number(t))),a.toString()},[e,t]);return(0,n.jsx)(i.eu,{src:d,size:t,"data-testid":"github-avatar",sx:a,...r,ref:o})});try{r.displayName||(r.displayName="GitHubAvatar")}catch{}},79403:(e,t,a)=>{a.d(t,{Zf:()=>i,bV:()=>s,m5:()=>o,tT:()=>n,wK:()=>l});let n={repositoriesPreloadCount:5,localStorageMetadataKeys:{issueLabels:e=>`${e}.create-issue-labels`,issueAssignees:e=>`${e}.create-issue-assignees`,issueMilestone:e=>`${e}.create-issue-milestone`,issueProjects:e=>`${e}.create-issue-projects`,issueIssueType:e=>`${e}.create-issue-type`,issueIssueFields:e=>`${e}.create-issue-fields`},localStorageKeys:{issueCreateMore:e=>`${e}.create-issue-create-more`,issueRepoId:e=>`${e}.create-issue-repo-id`,issueTemplateId:e=>`${e}.create-issue-template-id`},localTitleAndBodyStorageKeys:{issueTitle:e=>`${e}.create-issue-title`,issueBody:e=>`${e}.create-issue-body`},storageKeyPrefixes:{defaultFallback:"hyperlist",globalAdd:"issue-global-add"}};function l(e){return Object.values({...n.localStorageKeys,...n.localStorageMetadataKeys,...n.localTitleAndBodyStorageKeys}).map(t=>t(e))}function i(e){return Object.values(n.localStorageMetadataKeys).map(t=>t(e))}function s(e){return Object.values(n.localTitleAndBodyStorageKeys).map(t=>t(e))}let r={title:n.localTitleAndBodyStorageKeys.issueTitle,body:n.localTitleAndBodyStorageKeys.issueBody};function o(e){return Object.values(r).map(t=>t(e))}},81156:(e,t,a)=>{a.d(t,{t:()=>n});let n={ghostUser:{displayName:"Ghost",login:"ghost",avatarUrl:"https://avatars.githubusercontent.com/ghost",path:"/ghost",url:"/ghost"},localStorageKeys:{issueComment:(e,t,a)=>`${e}-i${t}-c${a}.view-issue-comment`,issueNewComment:(e,t)=>`${e}-i${t}.view-issue-comment-new`}}},81289:(e,t,a)=>{a.d(t,{y:()=>s});var n=a(74848),l=a(83494),i=a(96540);function s({anchorElement:e,createChild:t,keybindingCommandId:a}){let[s,r]=(0,i.useState)(!1),o=(0,i.useRef)(null),d=(0,i.useCallback)(()=>{s||r(!0)},[s,r]);return s?t():(0,n.jsxs)(n.Fragment,{children:[a&&(0,n.jsx)(l.ak,{commands:{[a]:d}}),e({onClick:()=>r(!0),onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),r(!0))}},o)]})}try{s.displayName||(s.displayName="LazyItemPicker")}catch{}},81709:(e,t,a)=>{a.d(t,{j:()=>r});var n=a(74848),l=a(73454),i=a(31604),s=a(96540);function r({errorMessage:e,anchorElement:t,open:a=!1}){let[r,o]=(0,s.useState)(a);return{createFallbackComponent:(0,s.useCallback)(a=>t?(0,n.jsx)(i.T,{width:"medium",height:"small",open:r,onOpen:()=>o(!0),onClose:()=>o(!1),renderAnchor:t,children:(0,n.jsx)("div",{className:"useItemPickerErrorFallback-module__errorOverlayContainer--Z5I2C",children:(0,n.jsx)(l.h,{message:e,retry:a,className:"useItemPickerErrorFallback-module__errorWithRetry--kl8Hn"})})}):null,[t,e,r])}}},81724:(e,t,a)=>{a.d(t,{$K:()=>l,AI:()=>c,Al:()=>s,GQ:()=>i,rp:()=>n,t7:()=>o,yJ:()=>r});let n="Blank issue",l="BLANK_ISSUE";function i(e){return"IssueForm"===e.__typename}function s(e){return"IssueTemplate"===e.__typename}function r(e){return"BlankIssue"===e.__typename}let o={IssueForm:"IssueForm",IssueTemplate:"IssueTemplate",ContactLink:"ContactLink",BlankIssue:"BlankIssue"},d={name:n,fileName:l,kind:o.BlankIssue,data:{__typename:"BlankIssue",__id:l,title:"",body:"",assignees:{edges:[]},labels:{edges:[]}}};function c(){return d}},81945:(e,t,a)=>{a.d(t,{O:()=>d});var n=a(35811),l=a(38267);let i=(0,l.i7)(["0%{transform:translateX(-100%);}50%{transform:translateX(100%);}100%{transform:translateX(100%);}"]),s=(0,l.AH)(["animation:"," 1.5s infinite linear;"],i),r=(0,l.i7)(["0%{opacity:.3;}10%{opacity:1;}100%{opacity:.3;}"]),o=(0,l.AH)(["animation:"," 2s infinite linear;"],r),d=(0,l.Ay)(n.az).withConfig({displayName:"LoadingSkeleton",componentId:"sc-ff22872e-0"})(["position:relative;overflow:hidden;mask-image:radial-gradient(white,black);",";&::after{",";background:linear-gradient(90deg,transparent,",",transparent);content:'';position:absolute;transform:translateX(-100%);bottom:0;left:0;right:0;top:0;}background-color:",";border-radius:",";display:block;height:1.2em;"," width:",";height:",";",""],({animationStyle:e})=>"pulse"===e&&o,({animationStyle:e})=>"pulse"!==e&&s,(0,n.yB)("colors.neutral.subtle"),(0,n.yB)("colors.neutral.subtle"),({theme:e,variant:t})=>{switch(t){case"rounded":return(0,n.yB)("radii.1")(e);case"pill":return"100px";case"elliptical":return"50%";default:return"0"}},({variant:e})=>"elliptical"===e&&{borderRadius:"50%"},({width:e})=>{switch(e){case"random":return`${Math.floor(40*Math.random()+40)}%`;case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},({height:e})=>{switch(e){case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},n.sx);try{d.displayName||(d.displayName="LoadingSkeleton")}catch{}},82075:(e,t,a)=>{a.d(t,{A:()=>s,D:()=>r});var n=a(71315),l=a(11083);let i=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function s(e,t={throwQuotaErrorsOnSet:!1},a=n.cg,r=e=>e,o=e=>e){let d;try{if(!a)throw Error();d=a[e]||new i}catch{d=new i}let{throwQuotaErrorsOnSet:c}=t;function u(e){t.sendCacheStats&&(0,l.i)({incrementKey:e})}function m(e){try{if(d.removeItem(e),t.ttl){let t=`${e}:expiry`;d.removeItem(t)}}catch{}}return{getItem:function(e,t=Date.now()){try{let a=d.getItem(e);if(!a)return null;let n=`${e}:expiry`,l=Number(d.getItem(n));if(l&&t>l)return m(e),m(n),u("SAFE_STORAGE_VALUE_EXPIRED"),null;return u("SAFE_STORAGE_VALUE_WITHIN_TTL"),r(a)}catch{return null}},setItem:function(e,a,n=Date.now()){try{if(d.setItem(e,o(a)),t.ttl){let a=`${e}:expiry`,l=n+t.ttl;d.setItem(a,l.toString())}}catch(e){if(c&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:m,clear:d.clear,getKeys:function(){return Object.keys(d)},get length(){return d.length}}}function r(e){return s(e,{throwQuotaErrorsOnSet:!1},n.cg,JSON.parse,JSON.stringify)}},82550:(e,t,a)=>{a.d(t,{B:()=>s});var n=a(74848),l=a(96540),i=a(25556);function s({includeAriaAttributes:e=!0,...t}){let a=(0,l.useId)(),[s,r]=(0,l.useState)(!1),o=t.open??s,d=t.id??a,c=e?{"aria-describedby":d}:{},u=(0,l.useCallback)(()=>r(!0),[]),m=(0,l.useCallback)(()=>r(!1),[]);return[{...c,onPointerEnter:u,onPointerLeave:m,onFocus:u,onBlur:m},(0,n.jsx)(i.m,{...t,open:o,id:d},"portal-tooltip"),()=>r(!s)]}},83001:(e,t,a)=>{a.d(t,{u:()=>y,R:()=>f});var n=a(74848),l=a(19918),i=a(81289),s=a(81709),r=a(51928),o=a(97665),d=a(71315),c=a(96540),u=a(96379),m=a(47544);async function p({owner:e,repo:t,query:a,count:n}){let l={owner:e,repo:t};a&&(l.query=a),n&&(l.count=n);let i=(0,m.JF)("issue_types",l),s=await (0,u.lS)(i);return await s.json()}var g=a(73049);async function f(e,{owner:t,repo:a,query:n,count:l}){return await e.fetchQuery({queryKey:["item_picker","issue_types",{owner:t,repo:a,query:n,count:l}],queryFn:async()=>{let e=await p({owner:t,repo:a,query:n,count:l});return{issueTypes:(0,g.A)(e).data.repository.issueTypes.edges.map(e=>e.node)}}})}function h({repo:e,owner:t,...a}){let[i,u]=(0,c.useState)(!0),[m,p]=(0,c.useState)(0),[g,h]=(0,c.useState)(!1),[y,b]=(0,c.useState)(null),k=(0,o.jE)();(0,c.useEffect)(()=>{d.X3||(async()=>{try{let a=await f(k,{owner:t,repo:e,query:""});b(a),u(!1),h(!1)}catch{h(!0),u(!1)}})()},[m,t,k,e]);let x=(0,c.useRef)(null),{createFallbackComponent:v}=(0,s.j)({errorMessage:l.k.cantEditItems("types"),anchorElement:e=>a.anchorElement(e,x),open:!0});return g?v(()=>p(e=>e+1)):(0,n.jsx)(r.f,{issueTypes:y?.issueTypes??[],isLoading:i,...a})}function y({repo:e,owner:t,anchorElement:a,readonly:l,activeIssueType:s,...r}){return(0,n.jsx)(i.y,{keybindingCommandId:"item-pickers:open-issue-type",anchorElement:(e,t)=>a(e,t),createChild:()=>(0,n.jsx)(h,{repo:e,owner:t,readonly:l,activeIssueType:s,triggerOpen:!0,anchorElement:a,...r}),insidePortal:r.insidePortal})}try{h.displayName||(h.displayName="ItemPickerFetcher")}catch{}try{y.displayName||(y.displayName="IssueTypePicker")}catch{}},83878:(e,t,a)=>{a.d(t,{N:()=>n});function n(e,t){return"d28fac7f18aeacb00d8ad3460a0a5a901617c2d4"===e&&0xf122a7===t}},84363:(e,t,a)=>{a.d(t,{t:()=>l});var n=a(59403);let l=({items:e,filter:t,key:a,secondaryKey:l})=>{let i=e.map(e=>[(0,n.dt)(t,a(e)),e]);return l&&(i=i.map(([e,a])=>[Math.max(e,(0,n.dt)(t,l(a))),a])),i.filter(([e])=>e>n.IP).sort(([e,t],[n,l])=>n===e?a(t).localeCompare(a(l)):n-e).map(([,e])=>e)}},85757:(e,t,a)=>{a.d(t,{b:()=>r});var n=a(74848),l=a(96901),i=a(46173),s=a(40846);let r=()=>(0,n.jsx)(s.C,{variant:"danger",ariaLabel:l.k.spammyBadgeTooltip,label:l.k.spammyBadge,testId:i.Y.spammyLabel});try{r.displayName||(r.displayName="SpammyBadge")}catch{}},88057:(e,t,a)=>{a.d(t,{Ex:()=>s,kt:()=>o,xA:()=>r});var n=a(71315);let l=Array(10).fill(null),i=0;function s(e){l[i]=e,i=(i+1)%10}function r(){let e=[];for(let t=0;t<10;t++){let a=l[(i-1-t+10)%10];a&&e.push(a)}return e}function o(){let e=n.XC;if(!e)return;let t=e.querySelector('meta[name="request-id"]'),a=t?.getAttribute("content");a&&s(a)}},88098:(e,t,a)=>{a.d(t,{u:()=>r});var n=a(74848),l=a(21728),i=a(34164);let s={diffSquare:"DiffSquares-module__diffSquare--KZMTU",addition:"DiffSquares-module__addition--kxGde",deletion:"DiffSquares-module__deletion--vyEtU",neutral:"DiffSquares-module__neutral--_tGgY"};function r(e){let t,a,i=(0,l.c)(4),{squares:s}=e;return i[0]!==s?(t=s.map(o),i[0]=s,i[1]=t):t=i[1],i[2]!==t?(a=(0,n.jsx)("div",{className:"d-flex",children:t}),i[2]=t,i[3]=a):a=i[3],a}function o(e,t){return(0,n.jsx)("div",{"data-testid":`${e} diffstat`,className:(0,i.$)(s.diffSquare,s[e])},t)}try{r.displayName||(r.displayName="DiffSquares")}catch{}},88431:(e,t,a)=>{a.d(t,{N:()=>i});var n=a(71315),l=a(96540);let i=void 0!==n.cg?.document?.createElement?l.useLayoutEffect:l.useEffect},89064:(e,t,a)=>{a.d(t,{l:()=>n});let n={createMore:"Create more",createMoreSubIssues:"Create more sub-issues",createFullscreen:"Open issue creation in fullscreen",copyUrl:"Copy link",create:"Create",cancel:"Cancel"}},89252:(e,t,a)=>{a.d(t,{Al:()=>d,Ui:()=>r,ff:()=>p,ic:()=>c,nS:()=>u,ub:()=>m});var n=a(65411),l=a(82075),i=a(96540);let s=(0,l.A)("localStorage");function r(){let[e]=(0,i.useState)(()=>new n.J([]));return e}async function o(e){if(!e.ok)return null;try{let t=await e.text(),a=t.split(`
`)[0]?.substring(6);if(!a)return null;return JSON.parse(JSON.parse(a).choices[0].message.content)}catch{return null}}async function d(e,t,a){try{let n=await fetch("https://api.githubcopilot.com/agents/github-classifier",{method:"POST",mode:"cors",cache:"no-cache",headers:{Authorization:e.authorizationHeaderValue,"copilot-integration-id":"copilot-embedded-experience","Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:t,copilot_references:a}]})});return await o(n)}catch{return null}}let c=e=>"true"===s.getItem(`copilot-suggested-type-dismiss/${e}`),u=e=>"true"===s.getItem(`copilot-suggested-labels-dismiss/${e}`),m=e=>{s.setItem(`copilot-suggested-type-dismiss/${e}`,"true")},p=e=>{s.setItem(`copilot-suggested-labels-dismiss/${e}`,"true")}},89830:(e,t,a)=>{a.d(t,{s:()=>p});var n=a(74848),l=a(38621),i=a(5956),s=a(81960),r=a(10095),o=a(34164);let d={timelineRowItem:"TimelineRow-module__timelineRowItem--EN_EF",timelineRowBadge:"TimelineRow-module__timelineRowBadge--Lyy1u",bottom:"TimelineRow-module__bottom--UHzX3",top:"TimelineRow-module__top--l0ZlZ"},c=()=>(0,n.jsx)(r.A,{icon:l.GitCommitIcon});function u({children:e,leadingVisual:t,clipTimeline:a="none",className:l}){return(0,n.jsxs)(i.A.Item,{className:(0,o.$)(l,d.timelineRowItem,"none"!==a&&d[a]),children:[(0,n.jsx)(i.A.Badge,{className:d.timelineRowBadge,children:t??(0,n.jsx)(c,{})}),(0,n.jsx)(i.A.Body,{className:"mt-0",children:e})]})}function m({title:e,as:t,...a}){return(0,n.jsx)(s.A,{as:t,className:"text-normal f5 py-1",...a,children:e})}let p=Object.assign(u,{Heading:m});try{c.displayName||(c.displayName="DefaultLeadingVisual")}catch{}try{u.displayName||(u.displayName="TimelineRowComponent")}catch{}try{m.displayName||(m.displayName="TimelineRowHeading")}catch{}try{p.displayName||(p.displayName="TimelineRow")}catch{}},89946:(e,t,a)=>{a.d(t,{A:()=>n});let n={skeletonContainer:"TemplateList-module__skeletonContainer--fU4Ip",templateHeader:"TemplateList-module__templateHeader--_jTSZ"}},90651:(e,t,a)=>{a.d(t,{S:()=>s});var n=a(79403),l=a(50167);let i={showFullScreenButton:!1,navigateToFullScreenOnTemplateChoice:!1,insidePortal:!0,showRepositoryPicker:!0,storageKeyPrefix:"",canBypassTemplateSelection:!1,emojiSkinTonePreference:0,copilotShowFunctionality:!1,disableCopilotAssignmentModal:!1},s=e=>{let t={...i,...e},a={storageKeyPrefix:(t.issueCreateArguments?.repository?`${t.issueCreateArguments?.repository.owner}-${t.issueCreateArguments?.repository.name}`:void 0)??t.storageKeyPrefix??n.tT.storageKeyPrefixes.defaultFallback};return{...t,...a,getDefaultDisplayMode:e=>t.defaultDisplayMode??e??l.q.TemplatePicker}}},90921:(e,t,a)=>{a.d(t,{D:()=>T,U:()=>L});var n=a(74848),l=a(19918),i=a(81289),s=a(81709),r=a(69599),o=a(49275),d=a(38143),c=a(86391),u=a(43258),m=a(46747),p=a(96540),g=a(38621),f=a(73867),h=a(67126),y=a(24453);let b={groupId:"open",header:{title:"Open",variant:"filled"}},k={groupId:"closed",header:{title:"Closed",variant:"filled"}};function x({repo:e,owner:t,milestones:a,repositoryId:i,activeMilestone:s,onSelectionChange:x,insidePortal:v,anchorElement:C,nested:j,triggerOpen:S,initialFilter:I,isLoading:N,setIsLoading:F,noMilestoneItem:_,showMilestoneDescription:L,title:w,canCreateMilestone:T,fetchMilestones:A,onCreate:E,showNoMatchItem:K=!1}){let[P,D]=(0,p.useState)(""),[R,M]=(0,p.useState)(!1),[V,O]=(0,p.useState)(),[B,$]=(0,p.useState)([]),{addToast:U}=(0,u.Y6)(),H=(0,p.useMemo)(()=>{if(void 0!==V&&V.length>0)return V;let e=a.slice().sort((e,t)=>e.title.localeCompare(t.title)).concat(B);return(_&&e.unshift(o.v.noMilestoneData),P)?e.filter(e=>e.title.toLowerCase().indexOf(P.toLowerCase())>=0):e},[a,P,B,_,V]),z=_&&_.selected,q=(0,p.useMemo)(()=>_?H.filter(e=>!1===e.closed):[],[_,H]),G=(0,p.useCallback)(async a=>{M(!0),D(a);try{let n=await A({query:a,owner:t,repo:e,count:10});void 0!==n&&(_&&(0,y.O)(a,_.source?.title??"")&&n.unshift(o.v.noMilestoneData),O(n))}catch{U({type:"error",message:h.S.couldNotSearchMilestones})}finally{M(!1)}},[U,A,_,t,e]),W=(0,m.d)(e=>G(e),d.t.pickerDebounceTime),Q=(0,p.useCallback)(async e=>{let t=e.trim();if(P!==t){if(""===t){O(void 0),D(t);return}W(t)}},[W,P]),X=(0,p.useCallback)(e=>e.id,[]),Y=(0,p.useCallback)((e,t,a)=>{a.preventDefault(),a.stopPropagation(),i&&(F(!0),E({repositoryId:i,title:t.title},{onError:()=>{U({type:"error",message:h.S.couldNotCreateMilestone}),F(!1)},onSuccess:e=>{e&&$([{...e,__isNew__:!0},...B]),F(!1)}}))},[U,B,E,i,F]),J=(0,p.useCallback)(e=>{if(_&&e.id===o.v.noMilestoneData.id)return{..._};if(e.id===P)return{id:e.id,text:`Create new milestone: "${e.title}"`,source:e,trailingVisual:g.PlusIcon,className:"ItemPickerMilestone-module__MilestoneFilterItem--fSFTu",onAction:(t,a)=>Y(t,e,a)};let{closed:t,closedAt:a,progressPercentage:l,dueOn:i}=e;return{id:e.id,text:e.title,description:L?(0,n.jsx)(f.R,{closed:t,closedAt:a,progressPercentage:l,dueOn:i,showProgressPercentage:!1}):void 0,descriptionVariant:"block",className:"ItemPickerMilestone-module__MilestoneItem--J0_9F",source:e,groupId:e.closed?k.groupId:b.groupId,leadingVisual:()=>(0,n.jsx)(g.MilestoneIcon,{size:16})}},[Y,P,_,L]),Z=(0,p.useMemo)(()=>{let e=[];return H.some(e=>!e.closed)&&e.push(b),H.some(e=>e.closed)&&e.push(k),e},[H]);_&&z&&(s=o.v.noMilestoneData);let ee=(0,p.useRef)(null),et=(0,p.useMemo)(()=>s?[s]:[],[s]),ea=(0,p.useMemo)(()=>{let e=!R&&!P&&0===H.length,t=!K&&!!P&&0===H.length;return e||t},[P,R,H.length,K]),en=(0,r.G7)("issues_react_select_panel_fullscreen_on_narrow");return(0,n.jsx)(c.O,{loading:N||R,items:_?q:H,initialSelectedItems:et,filterItems:Q,title:w??l.k.milestonesHeader,getItemKey:X,convertToItemProps:J,placeholderText:`Filter milestones ${a.length>=d.t.milestonesMaxPreloadCount?`(${d.t.milestonesMaxPreloadCount} milestones loaded)`:""}`,selectionVariant:"single",onSelectionChange:x,groups:_?void 0:Z,renderAnchor:e=>C(e,ee),insidePortal:v,height:"large",width:"medium",nested:j,resultListAriaLabel:"Milestone results",triggerOpen:S,initialFilter:I,selectPanelRef:ee,keybindingCommandId:"item-pickers:open-milestone",customNoMatchItem:T&&K&&P?{id:P,closed:!1,progressPercentage:0,title:P,url:""}:void 0,improvedNoMatchAccessibility:ea,noMatchMessage:ea?{title:"No milestones were found",body:"Try searching with a different query for results.",variant:"empty"}:void 0,responsiveOnNarrow:en})}try{x.displayName||(x.displayName="MilestonePickerBase")}catch{}var v=a(97665),C=a(71315),j=a(96379),S=a(47544);async function I({owner:e,repo:t,query:a,count:n}){let l={owner:e,repo:t};a&&(l.query=a),n&&(l.count=n);let i=(0,S.JF)("milestones",l),s=await (0,j.lS)(i);return await s.json()}var N=a(73049),F=a(94747);async function _(e){let t=(0,S.kP)("milestones");return(await (0,j.lS)(t,{method:"POST",body:e})).json()}async function L(e,{owner:t,repo:a,query:n,count:l}){return await e.fetchQuery({queryKey:["item_picker","milestones",{owner:t,repo:a,query:n,count:l}],queryFn:async()=>{var e;let i=await I({owner:t,repo:a,query:n,count:l});return{milestones:(e=(0,N.A)(i).data).repository.milestones.nodes,repositoryId:e.repository.id}}})}function w({repo:e,owner:t,...a}){let[i,r]=(0,p.useState)(!0),[o,d]=(0,p.useState)(0),[c,u]=(0,p.useState)(!1),[m,g]=(0,p.useState)(null),f=(0,v.jE)(),{mutate:h}=(0,F.n)({mutationFn:async e=>{let t=await _(e);return(0,N.A)(t).data.createMilestone.milestone}});(0,p.useEffect)(()=>{C.X3||(async()=>{try{let a=await L(f,{owner:t,repo:e,query:""});g(a),r(!1),u(!1)}catch{u(!0),r(!1)}})()},[o,t,f,e]);let y=(0,p.useRef)(null),{createFallbackComponent:b}=(0,s.j)({errorMessage:l.k.cantEditItems("milestones"),anchorElement:e=>a.anchorElement(e,y),open:!0}),k=(0,p.useCallback)(async e=>(await L(f,e)).milestones,[f]),j=(0,p.useCallback)((e,{onSuccess:t,onError:a})=>{h(e,{onSuccess:t,onError:a})},[h]);return c?b(()=>d(e=>e+1)):(0,n.jsx)(x,{repo:e,owner:t,repositoryId:m?.repositoryId??"",milestones:m?.milestones??[],isLoading:i,setIsLoading:r,fetchMilestones:k,onCreate:j,...a})}function T({repo:e,owner:t,anchorElement:a,readonly:l,activeMilestone:s,noMilestoneItem:r,...o}){return(0,n.jsx)(i.y,{keybindingCommandId:"item-pickers:open-milestone",anchorElement:(e,t)=>a(e,t),createChild:()=>(0,n.jsx)(w,{repo:e,owner:t,readonly:l,initialFilter:"",activeMilestone:s,triggerOpen:!0,anchorElement:a,noMilestoneItem:r,...o}),insidePortal:o.insidePortal})}try{w.displayName||(w.displayName="ItemPickerFetcher")}catch{}try{T.displayName||(T.displayName="MilestonePicker")}catch{}},91253:(e,t,a)=>{a.d(t,{l:()=>j,Y:()=>x});var n=a(74848),l=a(12360),i=a(77430),s=a(67126),r=a(19918),o=a(49275),d=a(38143),c=a(86391),u=a(43258),m=a(46747),p=a(26607),g=a(96540);function f(e,t,a){let n=a.toLowerCase().trim(),l=e.filter(e=>`${e.login.toLowerCase()}#${e.name?.toLowerCase()}`.includes(n)),i=t.filter(e=>!l.some(t=>t.id===e.id));return i.sort((e,t)=>e.isCopilot!==t.isCopilot?e.isCopilot?-1:1:e.login.localeCompare(t.login)),l.concat(i)}let h={groupId:"assignees"},y={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}};var b=a(69599);let k="AssigneePickerBase-module__Item--n9KU9",x=10,v=[],C=[];function j({assignees:e=v,suggestions:t=C,searchAssignees:a,onSelectionChange:j,insidePortal:I,anchorElement:N,nested:F,isLoading:_=!1,noAssigneeOption:L,triggerOpen:w,selectionVariant:T="multiple",title:A,maximumAssignees:E=x,name:K="assignee",showNoMatchItem:P=!1,viewer:D,responsiveOnNarrow:R=!1}){let[M,V]=(0,g.useState)(""),[O,B]=(0,g.useState)(void 0),[$,U]=(0,g.useState)(e),H=(0,g.useRef)(M),{addToast:z}=(0,u.Y6)(),q=R||(0,b.G7)("issues_react_select_panel_fullscreen_on_narrow");(0,g.useEffect)(()=>{U(e)},[e]);let G=(0,g.useCallback)(e=>e.login,[]),W=(0,g.useMemo)(()=>{let a=[];if(a=O?f(e,O,M):f(e,e.concat(t.filter(t=>!e.find(e=>e.login===t.login))),M),D){let e=a.findIndex(e=>e.login===D.login);if(-1!==e)a.splice(e,1);else if(O)return a;a.unshift(D)}return!L||L.selected||a.find(e=>e.id===o.v.noAssigneeData.id)||a.unshift(o.v.noAssigneeData),a},[O,D,L,e,M,t]),Q=(0,g.useCallback)(t=>0===e.length?y.groupId:e.find(e=>e.id===t.id)?h.groupId:y.groupId,[e]),X=(0,g.useMemo)(()=>!!(E&&$.length>=E),[$.length,E]),Y=(0,g.useCallback)(e=>{let t=$.some(t=>t.id===e.id),a=X&&!t;if(L&&e.id===o.v.noAssigneeData.id){let t={...L};return t.groupId=Q(e),t.disabled=a,t}if(P&&e.id===o.v.noMatchData.id)return{...o.v.noMatchData,groupId:Q(e),source:e,text:`${K}:${M}`,className:k,disabled:a};let s=e.isCopilot,d="Bot"===e.__typename;return{id:e.id,text:s?r.k.copilotDisplayName:e.login,description:s?r.k.copilotDescription:e.name??"",source:e,groupId:Q(e),leadingVisual:()=>s?(0,n.jsx)(l.C,{}):0===e.avatarUrl.length?null:(0,n.jsx)(i.r,{alt:"",src:e.avatarUrl}),trailingVisual:()=>s?(0,n.jsx)(p.A,{children:"AI"}):d?(0,n.jsx)(p.A,{children:"bot"}):null,className:k,disabled:a}},[M,Q,K,L,P,X,$]),J=(0,g.useCallback)(()=>{B(void 0)},[]),Z=(0,g.useCallback)(async e=>{if(""===e)return void B(void 0);try{let t=await a(e),n=H.current;e.trim()===n.trim()&&B(t)}catch{z({type:"error",message:s.S.couldNotSearchAssignees})}},[z,a]),ee=(0,m.d)(e=>Z(e),d.t.pickerDebounceTime,{leading:!0,trailing:!0,onChangeBehavior:"flush"}),et=(0,g.useCallback)(e=>{let t=e.trim();M!==t&&(ee(t),V(e),H.current=t)},[ee,M]),ea=(0,g.useCallback)(e=>{let t=new Set(W.map(e=>e.id)),a=new Set(e.map(e=>e.id));U([...e,...$.filter(e=>!t.has(e.id)&&!a.has(e.id))])},[$,W]),en=(0,g.useMemo)(()=>{let t=[],a=W.filter(t=>e.find(e=>e.id===t.id)),n=W.filter(t=>!e.find(e=>e.id===t.id));return a.length>0&&t.push(h),n.length>0&&t.push(y),t},[e,W]),el=(0,g.useRef)(null),ei=(0,g.useMemo)(()=>!P&&0===W.length,[P,W.length]);return(0,n.jsx)("div",{children:(0,n.jsx)(c.O,{items:W,initialSelectedItems:e,loading:_,filterItems:et,title:A||r.k.assigneesHeader,getItemKey:G,triggerOpen:w,convertToItemProps:Y,placeholderText:r.k.filterUsers(K),selectionVariant:1===E?"single":T||"multiple",onSelectionChange:j,onLiveSelectionChange:ea,onClose:J,renderAnchor:e=>N(e,el),groups:en,insidePortal:I,height:"large",width:"medium",nested:F,resultListAriaLabel:"User results",selectPanelRef:el,notice:E&&X?{text:r.k.limitWarning(E),variant:"warning"}:void 0,customNoMatchItem:P?{id:o.v.noMatchData.id,avatarUrl:o.v.noMatchData.avatarUrl,login:M}:void 0,improvedNoMatchAccessibility:ei,noMatchMessage:ei?{title:"No assignees were found",body:"Try searching for a different name for results.",variant:"empty"}:void 0,keybindingCommandId:S(K),responsiveOnNarrow:q})})}let S=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees";try{j.displayName||(j.displayName="AssigneePickerBase")}catch{}},91618:(e,t,a)=>{a.d(t,{z:()=>s});var n=a(74848),l=a(21728),i=a(88098);function s(e){let t,a,s,r,o,d,c,u=(0,l.c)(20),{linesAdded:m,linesDeleted:p,linesChanged:g}=e,f=void 0===m?0:m,h=void 0===p?0:p,y=void 0===g?0:g;if(!f&&!h&&!y||0===y)return null;if(u[0]!==f||u[1]!==y||u[2]!==h){var b,k,x;let e,a,n,{greenSquares:l,redSquares:i,graySquares:s}=(b=f,k=h,a=Math.floor(b*(e=(x=y)>5?5/x:1)),{greenSquares:a,redSquares:n=Math.floor(k*e),graySquares:5-a-n});t=[...Array(l).fill("addition"),...Array(i).fill("deletion"),...Array(s).fill("neutral")],u[0]=f,u[1]=y,u[2]=h,u[3]=t}else t=u[3];let v=t;return u[4]!==f?(a=f>0&&(0,n.jsxs)("span",{"aria-hidden":"true",className:"f6 text-bold fgColor-success",children:["+",f.toLocaleString()]}),u[4]=f,u[5]=a):a=u[5],u[6]!==h?(s=h>0&&(0,n.jsxs)("span",{"aria-hidden":"true",className:"f6 text-bold fgColor-danger",children:["-",h.toLocaleString()]}),u[6]=h,u[7]=s):s=u[7],u[8]!==f||u[9]!==h?(r=function({linesAdded:e,linesDeleted:t}){let a="Lines changed: ";return a+`${e} ${1===e?"addition":"additions"} & ${t} ${1===t?"deletion":"deletions"}`}({linesAdded:f,linesDeleted:h}),u[8]=f,u[9]=h,u[10]=r):r=u[10],u[11]!==r?(o=(0,n.jsx)("span",{className:"sr-only",children:r}),u[11]=r,u[12]=o):o=u[12],u[13]!==v?(d=(0,n.jsx)(i.u,{squares:v}),u[13]=v,u[14]=d):d=u[14],u[15]!==a||u[16]!==s||u[17]!==o||u[18]!==d?(c=(0,n.jsxs)("div",{className:"d-flex flex-items-center gap-1 pl-1",children:[a,s,o,d]}),u[15]=a,u[16]=s,u[17]=o,u[18]=d,u[19]=c):c=u[19],c}try{s.displayName||(s.displayName="DiffStats")}catch{}},91835:(e,t,a)=>{a.d(t,{x:()=>n});let n=a(76533).n.ActionButton},92858:(e,t,a)=>{a.d(t,{Y:()=>n});let n={createIssueButton:"create-issue-button",createMoreIssuesCheckbox:"create-more-check",templateList:"template-list",issueCreatedLink:"issue-created-link",issueCreatedAnnouncement:"issue-created-announcement",repositoryAndTemplateDialog:"repository-and-template-picker-dialog",templatePickerButton:"template-picker-button"}},93513:(e,t,a)=>{a.d(t,{k:()=>n});let n={archivedDescription:"Archived in project:",archivedError:"Issue could not be restored in project",archivedSuccess:"Issue restored in project",emptySections:{labels:"No labels",assignees:e=>e?"No one - ":"No one assigned",selfAssign:"Assign yourself",milestones:"No milestone",projects:"No projects",status:"No status",types:"No type",noValue:e=>`No ${e.toLowerCase()}`,iterationPlaceholder:"Choose an iteration",datePlaceholder:"Choose a date",numberPlaceholder:"Enter number\u2026",iterationFilterPlaceholder:"Choose an option",singleSelectFilterPlaceholder:"Choose an option"},sectionTitles:{assignees:"Assignees",labels:"Labels",milestones:"Milestone",projects:"Projects",types:"Type"},awaitingTriage:"Awaiting triage",defaultProjectFieldName:"Status",moveCardToColumn:"Move card to column",selectProjects:"Select projects",filterProjects:"Filter projects",showClosedProjects:"Show closed projects",showMoreProjectFields:"Show more project fields",hideMoreProjectFields:"Hide project fields"}},93997:(e,t,a)=>{a.d(t,{EV:()=>f,wT:()=>h});let n={kind:"InlineDataFragment",name:"useHandleTemplateChangeIssueTemplate"};n.hash="3473c2159fb58ee7b80cd3388a452bd6";let l={kind:"InlineDataFragment",name:"useHandleTemplateChangeIssueForm"};l.hash="8478ae20e62397c05c383595e88a3190";let i={kind:"InlineDataFragment",name:"useHandleTemplateChange"};i.hash="a08364bb21fe7bb90b32c5dd4a84a3c6";var s=a(17855),r=a(69599),o=a(32232),d=a(96540),c=a(69487),u=a(17831),m=a(50167),p=a(81724),g=a(94007);let f=e=>{let t,a=(0,c.readInlineData)(i,e);if(a.issueTemplate){let e=(0,c.readInlineData)(n,a.issueTemplate);t={name:e.name,fileName:e.filename,kind:p.t7.IssueTemplate,data:e}}else if(a.issueForm){let e=(0,c.readInlineData)(l,a.issueForm);t={name:e.name,fileName:e.filename,kind:p.t7.IssueForm,data:e}}return t},h=({optionConfig:e,repository:t,navigate:a,setDisplayMode:n})=>{let{setTemplate:l,reinitTitle:i,reinitBody:c,reinitAssignees:f,reinitLabels:h,reinitProjects:y,reinitMilestone:b,reinitIssueType:k,setIsCrossRepositoryDialogOpen:x}=(0,u.u)(),v=(0,r.G7)("issues_template_copilot_assignment");return(0,d.useCallback)((r,d,u=!1)=>{l(r);let C="";if(d?.discussion)C=d.discussion.title;else if(d?.title)C=d.title||"";else{let e=r?.data.title||"",t="";d?.appendTitleToTemplate&&(t=` ${d.appendTitleToTemplate}`),C=[e,t].join("").trimStart()}i(C);let j="";d?.discussion?j=d.discussion.formattedBody||"":d?.body?j=d.body||"":r&&((0,p.Al)(r.data)||(0,p.yJ)(r.data))&&(j=r.data.body||""),c(j);h(d?.discussion?d.discussion?.labels||[]:d?.labels?d.labels:r?.data.labels?.edges?.flatMap(e=>e?.node?[e?.node]:[])||[]);let S=d?.assignees??((r?.data.assignees?.edges||[]).flatMap(e=>e?.node?[(0,o.uX)(e?.node)]:[])||[]);f(S),S.some(e=>(0,s.v)(e.login))&&v&&x(!0),d?.projects?y(d.projects):r&&(0,p.GQ)(r?.data)&&y(r.data.projects?.edges?.flatMap(e=>e?.node?[e.node]:[])||[]),d?.milestone&&b(d?.milestone);let I=d?.type??null;r&&!I&&((0,p.GQ)(r.data)||(0,p.Al)(r.data))&&void 0!==r.data.type&&(I=r.data.type||null),k(I??null),(!d||u)&&(e.navigateToFullScreenOnTemplateChoice&&t&&r?a((0,g.Qy)(t.nameWithOwner,r.fileName)):n(m.q.IssueCreation))},[l,i,c,h,f,k,y,b,e.navigateToFullScreenOnTemplateChoice,t,a,n,x,v])}},94007:(e,t,a)=>{a.d(t,{E2:()=>p,Hx:()=>g,Qg:()=>m,Qy:()=>r,RG:()=>c,TV:()=>h,Zi:()=>u,jk:()=>o,pM:()=>f});var n=a(71315),l=a(74731);let i="/issues/new",s=`${i}/choose`,r=(e,t)=>{let a=new URLSearchParams(n.fV.search||"");return a.set("template",t),`/${e}/issues/new?${a.toString()}`},o=e=>d(e,s),d=(e,t)=>e.endsWith("/")?e.substring(0,e.length-1)+t:e+t,c=({repositoryAbsolutePath:e,fileName:t})=>{let a=new URL(d(e,i),n.cg?.location?.origin),s=new URLSearchParams(a.search);return s.set(l.t.queryParams.template,t),a.search=s.toString(),a.toString()},u=e=>{let t=e??new URLSearchParams(n.cg?.location?.search||""),a={};for(let[e,n]of t)if(l.d.includes(e))continue;else null===n?a[e]="":a[e]=n.substring(0,l.t.maxQueryLengthLimits.body);return a},m=(e,t,a)=>{let n=e.get(t);if(null!==n)return n.substring(0,a)},p=(e,t,a,n)=>{void 0!==a&&e.set(t,a.substring(0,n))},g=(e,t,a,n)=>{a&&e.set(t,a.slice(0,n).join(","))};function f(){return`/login?return_to=${n.fV?.href}`}function h(e){return`/${e}/issues/new/choose`}},94252:(e,t,a)=>{a.d(t,{K:()=>r});var n=a(25407),l=a(96540),i=a(17831),s=a(81724);let r=({issueFormRef:e,callback:t,handleTemplateChange:a,navigate:r,template:o})=>{let{clearTitleAndBody:d,clearSessionData:c,clearSessionMetadata:u,clearSessionTitleAndBody:m,clearSessionCreateMore:p}=(0,i.u)(),g=(0,l.useCallback)(({issue:l,createMore:i})=>{t?.({issue:l,createMore:i}),i?(o&&o.kind!==s.t7.BlankIssue?o:void 0)?(m(),a(o)):d():(e.current?.clearSessionStorage(),c(),r?.((0,n.dRG)({owner:l.repository.owner.login,repo:l.repository.name,issueNumber:l.number})))},[t,e,o,m,a,d,c,r]);return(0,l.useEffect)(()=>()=>{u(),p()},[p,u]),g}},94416:(e,t,a)=>{a.d(t,{BW:()=>l,Ff:()=>p,HK:()=>k,JA:()=>I,LM:()=>g,Pv:()=>C,Vy:()=>m,ZW:()=>v,dR:()=>x,di:()=>f,fX:()=>j,gc:()=>S,k9:()=>b,my:()=>y,r7:()=>N,wG:()=>h,xT:()=>u});var n=a(95800);let l="reload",i="soft-nav:fail",s="soft-nav:fail-referrer",r="soft-nav:referrer",o="soft-nav:marker",d="soft-nav:react-app-name",c="soft-nav:latest-mechanism";function u(){(0,n.SO)(o,"0"),(0,n.Ai)(r),(0,n.Ai)(i),(0,n.Ai)(s),(0,n.Ai)(d),(0,n.Ai)(c)}function m(e){(0,n.SO)(o,e)}function p(){(0,n.SO)(o,"0")}function g(){let e=(0,n.Gq)(o);return e&&"0"!==e}function f(){return(0,n.Gq)(o)}function h(){return!!y()}function y(){return(0,n.Gq)(i)}function b(e){(0,n.SO)(i,e||l),(0,n.SO)(s,window.location.href)}function k(){(0,n.SO)(r,window.location.href)}function x(){return(0,n.Gq)(r)||document.referrer}function v(){let e=j();e?(0,n.SO)(d,e):(0,n.Ai)(d)}function C(){return(0,n.Gq)(d)}function j(){return document.querySelector("projects-v2")?"memex":document.querySelector('react-partial[partial-name="repos-overview"]')?"repos-overview":document.querySelector("react-app")?.getAttribute("app-name")}function S(){return!!document.querySelector("react-app")?.getAttribute("app-name")||!!document.querySelector("projects-v2")}function I(e){(0,n.SO)(c,e)}function N(){return(0,n.Gq)(c)}},95800:(e,t,a)=>{a.d(t,{Ai:()=>i,Gq:()=>n,SO:()=>l});let{getItem:n,setItem:l,removeItem:i}=(0,a(82075).A)("sessionStorage")},96480:(e,t,a)=>{a.d(t,{a:()=>d,o:()=>o});var n=a(74848),l=a(40104),i=a(96540),s=a(79403);let r=(0,i.createContext)(null);function o({optionConfig:e,overrideFallbackDisplaymode:t,children:a}){let{issueCreateMore:o}=s.tT.localStorageKeys,[d,c]=(0,i.useState)(!1),[u,m]=(0,i.useState)(!1),[p,g]=(0,l.Fo)(`config.${o(e.storageKeyPrefix)}`,!1),[f,h]=(0,i.useState)({owner:"",repo:"",number:void 0}),y=e.getDefaultDisplayMode(t),[b,k]=(0,i.useState)(y),x=(0,i.useRef)(null),v=(0,i.useMemo)(()=>({optionConfig:e,createMore:p,setCreateMore:g,createMoreCreatedPath:f,setCreateMoreCreatedPath:h,displayMode:b,setDisplayMode:k,initialDefaultDisplayMode:y,isSubmitting:d,isFileUploading:u,setIsFileUploading:m,setIsSubmitting:c,onCreateAction:x,isSubIssue:!!e.issueCreateArguments?.parentIssue?.id}),[e,p,g,f,h,b,y,d,u]);return(0,n.jsx)(r.Provider,{value:v,children:a})}let d=()=>{let e=(0,i.useContext)(r);if(!e)throw Error("useIssueCreateConfigContext must be used within a IssueCreateConfigContextProvider.");return e};try{r.displayName||(r.displayName="IssueCreateContext")}catch{}try{o.displayName||(o.displayName="IssueCreateConfigContextProvider")}catch{}},96760:(e,t,a)=>{a.d(t,{Bq:()=>l,Sp:()=>s,mU:()=>n,tD:()=>i});let n={issueComment:"react-issue-comment",commentsContainer:"react-comments-container",markdownBody:"markdown-body",issueBody:"react-issue-body"},l={issueCommentComposer:"react-issue-comment-composer"};function i(){var e,t;let a=document.querySelector(`${s(n.commentsContainer)} ${(e=l.issueCommentComposer,`#${e}`)}[data-inside-side-panel=true]`);return a?a:document.querySelector((t=l.issueCommentComposer,`#${t}`))}function s(e){return`.${e}`}},96901:(e,t,a)=>{a.d(t,{k:()=>n});let n={canNotComment:e=>e?`You do not have permissions to comment on this ${e}.`:"You do not have permissions to comment.",confirmations:{deleteCommentTitle:"Delete comment",deleteCommentContent:"Are you sure you'd like to delete this comment?",deleteCommentConfirmButtonContent:"Delete"},hiddenComment:"Hidden comment",hiddenCommentWithReason:"Hidden as",issueLockedToCollaborators:"This conversation has been locked and limited to collaborators.",repoArchived:"This repository has been archived.",sentViaEmail:"via email",commentAuthor:"Author",spammyBadge:"Spammy",spammyBadgeTooltip:"This user is marked as spammy. Their comments will only show in staff mode.",sponsorBadge:"Sponsor",newComment:"new Comment",newCommentPlaceholder:"Use Markdown to format your comment",commentSubjectAuthor:(e,t)=>`${e?"You are the":"This user is the"} author${t?` of this ${t}`:""}`,sponsor:(e,t)=>`${e}'s sponsor since ${t}`,noDescriptionProvided:"No description provided.",staleCommentErrorPrefix:"GraphQL error: STALE_DATA",issueConvertedToDiscussion:"Commenting has been disabled because this issue was converted to a",authorLabel:(e,t)=>`${e?t?"AI":"bot":"mannequin"}`}},98338:(e,t,a)=>{a.d(t,{k:()=>n});let n={issueCreateDialogTitleTemplatePane:"Create new issue",issueCreateChooseDiffTemplate:"Choose a different template",issueCreateDialogTitleCreationPane:(e,t,a="issue")=>`Create new ${a} in ${e}${t?`: ${t}`:""}`,issueCreateDialogTitleDuplicationPane:(e,t="issue")=>`Duplicate current ${t} in ${e}`,issueCreateTitleLabel:"Add a title",issueCreateTitlePlaceholder:"Title",issueCreateBodyLabel:"Add a description",issueCreatedPrefix:"Issue created ",lastIssueCreated:e=>`Issue #${e} created`,issuesDisabledForRepo:"Issues are disabled for the selected repository. Please select a different repository.",issueBodyPlaceholder:"Type your description here\u2026",issueNumber:e=>`#${e}`,blankIssueName:"Blank issue",blankIssueDescription:"Create a new issue from scratch",securityPolicyName:"Report a security vulnerability",securityPolicyDescription:"Please review our security policy for more details",editTemplates:"Edit templates",viewTemplates:"View templates",templatesFormsTitle:"Templates and forms",noTemplates:"No templates available for the current repository",discardConfirmation:{title:"Discard changes?",content:"You have unsaved changes. Are you sure you want to discard them?",confirm:"Close and discard",cancel:"Keep editing"},loadingTooltip:"Loading...",templateId:e=>`template-item-${e}`,templateLabelId:e=>`template-item-${e}-label`,templateDescriptionId:e=>`template-item-${e}-description`,typePickerLabel:"Type",selectIssueTypeLabel:"create-issue-issue-type-label",fileUploadWarning:"Issue will be created once your upload has completed",issueTypeReadOnly:"You do not have permission to change the type",issueTypeReadOnlyReason:"You need the triage role or higher in this repository to change the issue type.",viewProfile:e=>`View ${e}'s profile`,copilotCTAButton:"Write with Copilot",copilotCTADialogTitle:"Navigate to Copilot Chat",copilotCTADialogDescription:"You have unsaved changes. Are you sure you want to discard them?",copilotCTADialogCancelButton:"Keep editing",copilotCTADialogContinueButton:"Go to Copilot",copilotGenerateDialogTitle:"Generate issue content with Copilot",copilotGenerateDialogTextareaLabel:"Additional context (optional)",copilotGenerateDialogTextareaPlaceholder:"Add any additional context to help Copilot generate a better issue...",copilotGenerateDialogGenerateButton:"Generate content",copilotGenerateError:"Failed to generate content with Copilot. Please try again.",copilotGenerateValidationWarning:"Please provide a title, existing description, or additional context to generate content.",backToAllIssues:"Back to all issues",crossRepoIssueDuplicationWarning:e=>`This issue is being duplicated across repositories. The following metadata might not be copied: ${e.join(", ")}.`,crossRepoIssueDuplicationDefaultWarning:"Changing the repository may remove Milestone, Labels, Type, and Assignees from the duplicate issue.",setAdditionalFields:"Set additional issue fields",addIssueField:"Add issue field"}},98530:(e,t,a)=>{a.d(t,{CH:()=>ez,tJ:()=>eG});var n,l,i,s,r,o,d,c,u,m,p,g,f,h,y,b,k,x,v,C,j,S,I,N,F,_,L,w,T,A,E,K,P,D,R,M,V,O,B,$,U,H,z=a(74848);let q=(n={defaultValue:100,kind:"LocalArgument",name:"count"},l={defaultValue:"",kind:"LocalArgument",name:"labelNames"},i={defaultValue:null,kind:"LocalArgument",name:"owner"},s={defaultValue:null,kind:"LocalArgument",name:"repo"},r={defaultValue:!1,kind:"LocalArgument",name:"shouldQueryByNames"},o=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],c=[{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"names",variableName:"labelNames"},d={kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],p={alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:m=[u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:[n,l,i,s,r],kind:"Fragment",metadata:null,name:"LabelPickerQuery",selections:[{alias:null,args:o,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"LabelPickerLabelsPaginated"},{condition:"shouldQueryByNames",kind:"Condition",passingValue:!0,selections:[{alias:"labelsByNames",args:c,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:m,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,s,r,l,n],kind:"Operation",name:"LabelPickerQuery",selections:[{alias:null,args:o,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[u,{alias:null,args:[{kind:"Literal",name:"first",value:100},d],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:'labels(first:100,orderBy:{"direction":"ASC","field":"NAME"})'},{condition:"shouldQueryByNames",kind:"Condition",passingValue:!0,selections:[{alias:"labelsByNames",args:c,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[p],storageKey:null}]}],storageKey:null}]},params:{id:"032cc1a404c4f68efb677301b816ee01",metadata:{},name:"LabelPickerQuery",operationKind:"query",text:null}});q.hash="63736b0c6bccf3471afe03b6d8b6a3b2";let G={fragment:{argumentDefinitions:[g={defaultValue:null,kind:"LocalArgument",name:"count"},f={defaultValue:null,kind:"LocalArgument",name:"owner"},h={defaultValue:null,kind:"LocalArgument",name:"query"},y={defaultValue:null,kind:"LocalArgument",name:"repo"}],kind:"Fragment",metadata:null,name:"LabelPickerSearchQuery",selections:[{alias:null,args:b=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:k=[{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"query",variableName:"query"}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:v=[x={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[f,y,h,g],kind:"Operation",name:"LabelPickerSearchQuery",selections:[{alias:null,args:b,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:k,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:v,storageKey:null}],storageKey:null},x],storageKey:null}]},params:{id:"333d28f33fdb9cce58fd191174d5e4f5",metadata:{},name:"LabelPickerSearchQuery",operationKind:"query",text:null}};G.hash="1d380fd2b03ec1012648965c94699afe";let W={fragment:{argumentDefinitions:C=[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"LabelPickerAssignedLabelsQuery",selections:[{alias:null,args:j=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"assignedLabelPageSize",variableName:"assignedLabelPageSize"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelPickerAssignedLabels"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:C,kind:"Operation",name:"LabelPickerAssignedLabelsQuery",selections:[{alias:null,args:j,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[S={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:N=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"assignedLabelPageSize"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[I,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},S],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:N,filters:["orderBy"],handle:"connection",key:"LabelPickerLabel_labels",kind:"LinkedHandle",name:"labels"},{kind:"TypeDiscriminator",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}],storageKey:null}]},params:{id:"0633bc3316e383c68b8cf79758253709",metadata:{},name:"LabelPickerAssignedLabelsQuery",operationKind:"query",text:null}};W.hash="913da4adbea561cc55a5e5355cc02714",({argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"assignedLabelPageSize",cursor:"cursor",direction:"forward",path:F=["labels"]}],refetch:{connection:{forward:{count:"assignedLabelPageSize",cursor:"cursor"},backward:null,path:F},fragmentPathInResult:["node"],operation:W,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelPickerAssignedLabels",selections:[{alias:"labels",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"__LabelPickerLabel_labels_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:[_={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__LabelPickerLabel_labels_connection(orderBy:{"direction":"ASC","field":"NAME"})'},{kind:"InlineFragment",selections:[_],type:"Node",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}).hash="913da4adbea561cc55a5e5355cc02714";let Q=(L=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],w=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],A={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},E=[T={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],{fragment:{argumentDefinitions:L,kind:"Fragment",metadata:null,name:"LabelPickerClientQuery",selections:[{alias:null,args:w,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[T,{alias:null,args:null,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[A,{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:E,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:L,kind:"Operation",name:"LabelPickerClientQuery",selections:[{alias:null,args:w,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[T,{alias:null,args:null,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[A,{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:E,storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"39780e01dde8a3c435960c74c76b0ba6",metadata:{},name:"LabelPickerClientQuery",operationKind:"query",text:null}});Q.hash="7765624716d622d8f677df004c2a670c";let X={fragment:{argumentDefinitions:K=[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"LabelPickerLabelsListPaginationQuery",selections:[{alias:null,args:P=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelPickerLabelsPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:K,kind:"Operation",name:"LabelPickerLabelsListPaginationQuery",selections:[{alias:null,args:P,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[D,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"dd253efb71afb3e7681cf8d9409ec239",metadata:{},name:"LabelPickerLabelsListPaginationQuery",operationKind:"query",text:null}};X.hash="6e58281c1b256885408a0b411feffa8e";let Y={argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:X,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelPickerLabelsPaginated",selections:[R={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:[R,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null}],type:"Repository",abstractKey:null};Y.hash="6e58281c1b256885408a0b411feffa8e";let J={kind:"InlineDataFragment",name:"LabelPickerLabel"};J.hash="588236f5485d473e68f4a74b65c0b653";var Z=a(69599),ee=a(19918),et=a(49275),ea=a(38143),en=a(81289),el=a(81709),ei=a(84363),es=a(67126),er=a(86391),eo=a(73017),ed=a(71315),ec=a(43258),eu=a(46747),em=a(38621),ep=a(5839),eg=a(96540);let ef=[],eh={groupId:"labels"},ey={groupId:"favorite",header:{title:"Favorite",variant:"filled"}},eb={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}},ek={groupId:"copilot",header:{title:"Copilot suggestions",variant:"filled"}};function ex({labels:e,suggestions:t=ef,totalNumberOfLabels:a,copilotSuggestedLabels:n,favoriteLabelIds:l,searchLabels:i,onSelectionChange:s,insidePortal:r,anchorElement:o,nested:d=!1,triggerOpen:c=!0,initialFilter:u,owner:m,repo:p,showEditLabelsButton:g=!0,noLabelOption:f,title:h,showNoMatchItem:y=!1,canCreateLabel:b,repositoryId:k,isLoading:x=!1,setIsLoading:v,onCreate:C}){let j=(0,Z.G7)("issues_react_remove_labels_loading"),S=(0,Z.G7)("issues_react_select_panel_fullscreen_on_narrow"),[I,N]=(0,eg.useState)(""),F=(0,eg.useRef)(new Set),[_,L]=(0,eg.useState)(!1),[w,T]=(0,eg.useState)(t),{addToast:A}=(0,ec.Y6)(),E=`${m}/${p}`;(0,eg.useEffect)(()=>{T(t)},[t]);let K=i&&a>t.length,P=(0,eg.useMemo)(()=>e.slice().sort((e,t)=>e.name.localeCompare(t.name)),[e]),D=(0,eg.useMemo)(()=>{if(!I){let a=j?w:t,l=[...P],i=(n??[]).filter(t=>!e.find(e=>e.id===t.id)),s=a.filter(t=>!e.find(e=>e.id===t.id)&&!i.find(e=>e.id===t.id));return l.push(...i,...s),l.slice(0,ea.t.labelsInitialLoadCount)}let a=new Map;for(let e of w)a.set(e.id,e);for(let e of n??[])a.has(e.id)||a.set(e.id,e);let l=Array.from(a.values());return(0,ei.t)({items:l,filter:I,key:e=>e.name,secondaryKey:e=>`${e.name} ${e.description}`}).slice(0,ea.t.labelsInitialLoadCount)},[I,w,j,t,P,n,e]),R=(0,eg.useCallback)(async e=>{if(!j&&""===e){T(t),L(!1);return}if(j&&F.current.has(e))return void L(!1);if(i){L(!0);try{T(j?ev([...w,...await i(e)]):await i(e))}catch{A({type:"error",message:es.S.couldNotSearchLabels})}finally{L(!1),j&&F.current.add(e)}}},[j,i,t,w,A]),M=(0,eu.d)(e=>R(e),ea.t.pickerDebounceTime),V=(0,eg.useCallback)(e=>{let a=e.trim();if(I!==a&&K){L(!0),M(a),N(e);return}0!==t.length&&N(e)},[M,I,K,t.length]),O=(0,eg.useCallback)(e=>e.id,[]),B=(0,eg.useCallback)((e,t,a)=>{a.preventDefault(),a.stopPropagation(),k&&C&&v&&(v(!0),C({repositoryId:k,color:t.color,name:t.name},{onError:()=>{A({type:"error",message:es.S.couldNotCreateLabel}),v(!1)},onSuccess:e=>{e&&T([{...e,__isNew__:!0},...w]),v(!1)}}))},[A,w,C,k,v]),$=(0,eg.useCallback)(t=>{let a;if(f&&t.id===et.v.noLabelsData.id){let e={...f};return e.groupId=e.selected?eh.groupId:eb.groupId,e}if(t.id===I)return{id:t.id,description:t.description||void 0,descriptionVariant:"block",source:t,text:`Create new label: "${t.name}"`,trailingVisual:em.PlusIcon,className:"LabelPickerBase-module__labelPickerItem--gTZua",onAction:(e,a)=>B(e,t,a)};let i=(n??[]).some(e=>e.id===t.id),s=(l??[]).some(e=>e===t.id);return a=e.find(e=>e.id===t.id)?eh.groupId:s?ey.groupId:i?ek.groupId:eb.groupId,{id:t.id,description:t.description??void 0,descriptionVariant:"block",children:(0,z.jsx)(eo.JR,{html:t.nameHTML,className:"LabelPickerBase-module__labelNameText--wVmPP"}),source:t,groupId:a,leadingVisual:()=>(0,z.jsx)("div",{style:{background:`#${t.color}`,borderColor:`#${t.color}`},className:"LabelPickerBase-module__labelColorBox--PSuNK"})}},[f,I,n,l,e,B]),U=(0,eg.useMemo)(()=>{let t=[];return e.length>0&&t.push(eh),(l??[]).some(t=>!e.some(e=>e.id===t))&&t.push(ey),(n??[]).some(t=>!e.some(e=>e.id===t.id)&&l?.indexOf(t.id)===-1)&&t.push(ek),D.length>0&&D.length-e.length>0&&t.push(eb),t},[e,l,n,D.length]),H=(0,eg.useMemo)(()=>{if(!E||!ed.XC?.location)return;let e=ed.XC.location.origin;return`${e}/${E}/issues/labels`},[E]),q=(0,eg.useCallback)(e=>{ed.XC?.location?.href&&g&&H&&1!==e.button&&(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||(e.preventDefault(),ed.XC.location.href=H))},[H,g]),G=(0,eg.useRef)(null),W=(0,eg.useMemo)(()=>{let e=!_&&!I&&0===D.length,t=!(y&&b&&!_)&&!!I&&0===D.length;return e||t},[_,I,D.length,y,b]);return(0,z.jsx)("div",{className:"LabelPickerBase-module__labelPickerContainer--cqqGL",children:(0,z.jsx)(er.O,{loading:j?x:x||_,items:D,initialSelectedItems:e,title:h||ee.k.labelsHeader,filterItems:V,getItemKey:O,convertToItemProps:$,placeholderText:"Filter labels",selectionVariant:0===D.length?"single":"multiple",onSelectionChange:s,renderAnchor:e=>o(e,G),groups:I?void 0:U,insidePortal:r,height:"large",width:"medium",nested:d,resultListAriaLabel:"Label results",triggerOpen:c,initialFilter:u,selectPanelRef:G,keybindingCommandId:"item-pickers:open-labels",eventsTag:"label",customNoMatchItem:b&&y&&I&&!_?{id:I,color:"aaaaaa",name:I,nameHTML:I,description:void 0,url:""}:void 0,suppressNoMatchItem:!0,improvedNoMatchAccessibility:W,noMatchMessage:W?{title:"No labels were found",body:"Try searching with a different query for results.",variant:"empty"}:void 0,secondaryAction:g?(0,z.jsx)(ep.X.SecondaryActionLink,{onClick:q,href:H,size:"small",children:ee.k.editLabels}):void 0,responsiveOnNarrow:S})})}let ev=e=>e.filter((e,t,a)=>a.findIndex(t=>t.id===e.id)===t);try{ex.displayName||(ex.displayName="LabelPickerBase")}catch{}var eC=a(30721),ej=a(18312),eS=a(97665),eI=a(96379),eN=a(47544);async function eF({owner:e,repo:t,query:a,count:n,labelNames:l}){let i={owner:e,repo:t};a&&(i.query=a),n&&(i.count=n),l&&l.length>0&&(i.labelNames=l.join(","));let s=(0,eN.JF)("labels",i),r=await (0,eI.lS)(s);return await r.json()}function e_(e,t){let a=e.map(e=>e.replace(/^"/,"").replace(/"$/,""));return t.filter(e=>a.includes(e.name))}var eL=a(73049),ew=a(94747);async function eT(e){let t=(0,eN.kP)("labels");return(await (0,eI.lS)(t,{method:"POST",body:e})).json()}async function eA(e,{owner:t,repo:a,query:n,count:l,labelNames:i}){return await e.fetchQuery({queryKey:["item_picker","labels",{owner:t,repo:a,query:n,count:l,labelNames:i}],queryFn:async()=>{var e;let s,r=await eF({owner:t,repo:a,query:n,count:l,labelNames:i});return e=(0,eL.A)(r).data,s=e.repository.labelsByNames?.nodes,i&&i.length>0&&s&&(s=e_(i,s)),{labels:e.repository.labels.nodes,repositoryId:e.repository.id,totalCount:e.repository.labels.totalCount,labelsByNames:s}}})}function eE({repo:e,owner:t,labels:a,labelNames:n,preloadedLabels:l,noLabelOption:i,...s}){let r=l&&!!l.labels?.length,[o,d]=(0,eg.useState)(!r),[c,u]=(0,eg.useState)(0),[m,p]=(0,eg.useState)(!1),[g,f]=(0,eg.useState)(()=>{if(r){let e=n?e_(n,l.labels):void 0;return{repositoryId:l.repositoryId,labels:n?e||[]:l.labels,totalCount:l.totalCount,labelsByNames:e}}return null}),[h,y]=(0,eg.useState)(()=>r&&n?e_(n,l.labels):a),b=(0,eS.jE)(),{mutate:k}=(0,ew.n)({mutationFn:async e=>{let t=await eT(e);return(0,eL.A)(t).data.createLabel.label}});(0,eg.useEffect)(()=>{ed.X3||r||(async()=>{try{let a=await eA(b,{owner:t,repo:e,query:"",labelNames:n});f(a),n&&n.length>0&&y(a.labelsByNames||[]),d(!1),p(!1)}catch{p(!0),d(!1)}})()},[c,t,b,e,n,r]);let x=(0,eg.useRef)(null),{createFallbackComponent:v}=(0,el.j)({errorMessage:ee.k.cantEditItems("labels"),anchorElement:e=>s.anchorElement(e,x),open:!0}),C=(0,eg.useCallback)(async a=>(await eA(b,{owner:t,repo:e,query:a})).labels,[b,t,e]),j=(0,eg.useCallback)((e,{onSuccess:t,onError:a})=>{k(e,{onSuccess:t,onError:a})},[k]),S=(0,eg.useMemo)(()=>{let e=g?.labels??[];return i?[et.v.noLabelsData,...e]:e},[g?.labels,i]),I=(0,eg.useMemo)(()=>{let e=n?h:a;return i?.selected&&!e.find(e=>e.id===et.v.noLabelsData.id)?[et.v.noLabelsData,...e]:e},[h,n,a,i?.selected]);return m?v(()=>u(e=>e+1)):(0,z.jsx)(ex,{repo:e,owner:t,repositoryId:g?.repositoryId??"",labels:I,suggestions:S,totalNumberOfLabels:g?.totalCount??0,isLoading:o,setIsLoading:d,searchLabels:C,onCreate:j,noLabelOption:i,...s})}function eK({repo:e,owner:t,anchorElement:a,readonly:n,labels:l,labelNames:i,noLabelOption:s,...r}){return(0,z.jsx)(en.y,{keybindingCommandId:"item-pickers:open-labels",anchorElement:(e,t)=>a(e,t),createChild:()=>(0,z.jsx)(eE,{repo:e,owner:t,readonly:n,initialFilter:"",labels:l,labelNames:i,triggerOpen:!0,anchorElement:a,noLabelOption:s,...r}),insidePortal:r.insidePortal})}try{eE.displayName||(eE.displayName="ItemPickerFetcher")}catch{}try{eK.displayName||(eK.displayName="LabelPicker")}catch{}async function eP(e){let t=(0,eN.R1)(),a={ids:e.ids,addedLabelIds:e.addedLabelIds,removedLabelIds:e.removedLabelIds};return(await (0,eI.lS)(t,{method:"POST",body:a})).json()}function eD({onError:e,onCompleted:t,onMutate:a,issuesToActOn:n,labelAppliedToAll:l,...i}){let{mutate:s}=function({onMutate:e}){return(0,ew.n)({mutationFn:async({labels:e,...t})=>{let a=await eP(t);return(0,eL.A)(a)},onMutate:e})}({onMutate:a}),r=(0,eg.useCallback)(a=>{let i=a.filter(e=>!l.some(t=>t.id===e.id)),r=l.filter(e=>!a.some(t=>e.id===t.id));s({ids:[...n],addedLabelIds:i.map(e=>e.id),removedLabelIds:r.map(e=>e.id),labels:a},{onSuccess:e=>t?.(e.data.updateIssuesBulk.jobId),onError:e})},[s,n,l,t,e]);return(0,z.jsx)(eK,{labels:l,onSelectionChange:r,...i})}try{eD.displayName||(eD.displayName="BulkIssueLabelPicker")}catch{}var eR=a(69487);function eM(e,t,a,n,l){for(let i of t){if(!e.get(i))return;let t=n[i]?.map(t=>e.get(t));for(let n of l.applyLabelIds){if(a.get(i)?.includes(n))return;let l=e.get(n);if(!l)return;t?.filter(e=>e).map(t=>{let a=t&&eR.ConnectionHandler.createEdge(e,t,l,"LabelEdge");a&&eR.ConnectionHandler.insertEdgeBefore(t,a)})}for(let e of l.removeLabelIds)t?.filter(e=>e).map(t=>t&&eR.ConnectionHandler.deleteNode(t,e))}}let eV={fragment:{argumentDefinitions:M=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],kind:"Fragment",metadata:null,name:"usePreloadedLabelsQuery",selections:O=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[V={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:M,kind:"Operation",name:"usePreloadedLabelsQuery",selections:O},params:{id:"3e32908c91bf1665aa4acc9da94bd619",metadata:{},name:"usePreloadedLabelsQuery",operationKind:"query",text:null}};function eO(e,t){let a=(0,ej.useClientQuery)(eV,{owner:e,repo:t});return(0,eg.useMemo)(()=>{if(!a?.repository?.labels?.nodes?.length||!a?.repository?.id)return;let e=(a.repository.labels.nodes||[]).flatMap(e=>e?[e]:[]);return{repositoryId:a.repository.id,labels:e,totalCount:a.repository.labels.totalCount||0}},[a])}function eB({connectionIds:e,existingIssueLabels:t,issuesToActOn:a,...n}){let l=(0,ej.useRelayEnvironment)(),i=(0,eg.useCallback)(n=>{l.commitUpdate(l=>{if(n.addedLabelIds.length>0&&n.labels){let e=n.labels.filter(e=>n.addedLabelIds.includes(e.id));for(let t of e){let e=l.get(t.id)||l.create(t.id,"Label");for(let[a,n]of Object.entries({id:t.id,color:t.color,name:t.name,nameHTML:t.nameHTML,description:t.description,url:t.url}))null!=n&&e.setValue(n,a)}}eM(l,a,t,e,{applyLabelIds:n.addedLabelIds,removeLabelIds:n.removedLabelIds})})},[e,l,t,a]),s=eO(n.owner,n.repo);return(0,z.jsx)(eD,{...n,issuesToActOn:a,onMutate:i,preloadedLabels:s})}eV.hash="29b91e6e7012c171094bcd0c3cf2f71f";try{eB.displayName||(eB.displayName="BulkIssuesItemPickerLabelTsqWithRelayWrapper")}catch{}function e$(e){let t=eO(e.owner,e.repo);return(0,z.jsx)(eK,{...e,preloadedLabels:t})}try{e$.displayName||(e$.displayName="LabelPickerTsqWithRelayWrapper")}catch{}let eU={fragment:{argumentDefinitions:B=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"createItemPickerLabelMutation",selections:$=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateLabelPayload",kind:"LinkedField",name:"createLabel",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"label",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:B,kind:"Operation",name:"createItemPickerLabelMutation",selections:$},params:{id:"bc7b927fba23b36d639f0645f0dbc924",metadata:{},name:"createItemPickerLabelMutation",operationKind:"mutation",text:null}};eU.hash="433349a516ae22925f3be8a399d79a08";let eH={fragment:{argumentDefinitions:U=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"updateItemPickerIssueLabelsBulkMutation",selections:H=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:U,kind:"Operation",name:"updateItemPickerIssueLabelsBulkMutation",selections:H},params:{id:"2f33471869924b1bbd6ec2c6bf95109d",metadata:{},name:"updateItemPickerIssueLabelsBulkMutation",operationKind:"mutation",text:null}};function ez(e){return(0,Z.G7)("item_picker_label_tsq_migration")?(0,z.jsx)(eB,{...e}):(0,z.jsx)(eq,{...e})}function eq({issuesToActOn:e,existingIssueLabels:t,labelAppliedToAll:a,connectionIds:n,onCompleted:l,onError:i,...s}){let r=(0,ej.useRelayEnvironment)(),o=(0,eg.useCallback)(s=>{let o=s.filter(e=>!a.some(t=>t.id===e.id)),d=a.filter(e=>!s.some(t=>e.id===t.id)),c={applyLabelIds:o.map(e=>e.id),removeLabelIds:d.map(e=>e.id)};!function({environment:e,optimisticUpdateIds:t,existingIssueLabels:a,connectionIds:n,input:{ids:l,applyLabelIds:i,removeLabelIds:s},onCompleted:r,onError:o}){let d={applyLabelIds:i,removeLabelIds:s},c={ids:l,...d};(0,ej.commitMutation)(e,{mutation:eH,variables:{input:c},updater:e=>eM(e,t,a,n,d),optimisticUpdater:e=>eM(e,t,a,n,d),onCompleted:e=>r&&r(e),onError:e=>o&&o(e)})}({...{environment:r,optimisticUpdateIds:e,existingIssueLabels:t,connectionIds:n,onError:e=>{i?.(e)}},input:{ids:[...e],...c},onCompleted:({updateIssuesBulk:e})=>{l?.(e?.jobId||void 0)}})},[n,r,t,e,a,l,i]);return(0,z.jsx)(eG,{labels:a,onSelectionChange:o,showEditLabelsButton:!1,...s})}function eG(e){return(0,Z.G7)("item_picker_label_tsq_migration")?(0,z.jsx)(e$,{...e}):(0,z.jsx)(eW,{...e})}function eW({anchorElement:e,showEditLabelsButton:t,...a}){return(0,z.jsx)(en.y,{anchorElement:(t,a)=>e(t,a),createChild:()=>(0,z.jsx)(eQ,{anchorElement:e,showEditLabelsButton:t,...a}),insidePortal:a.insidePortal,keybindingCommandId:"item-pickers:open-labels"})}function eQ({repo:e,owner:t,labels:a,labelNames:n,onSelectionChange:l,canCreateLabel:i,...s}){let r=(0,ej.useRelayEnvironment)(),[o,d]=(0,eg.useState)(0),[c,u]=(0,eg.useState)(!1),[m,p]=(0,eg.useState)(null),[g,f]=(0,eg.useState)(a),h=(0,ej.useClientQuery)(Q,{owner:t,repo:e}),y=!!h?.repository?.labels?.nodes?.length,[b,k]=(0,eg.useState)(!y);(0,eg.useEffect)(()=>{if(!ed.X3)if(y){if(n){let e=n.map(e=>e.replace(/^"/,"").replace(/"$/,""));f((h.repository?.labels?.nodes||[]).flatMap(t=>{if(!t)return[];let a=(0,ej.readInlineData)(J,t);return e.includes(a.name)?[a]:[]}))}}else(0,eC.SD)({environment:r,query:q,variables:{owner:t,repo:e,shouldQueryByNames:n&&n.length>0,labelNames:n?.join(","),count:ea.t.labelsInitialLoadCount}}).subscribe({next:e=>{p(e.repository??null),n&&e.repository?.labelsByNames&&f((e.repository?.labelsByNames.nodes||[]).flatMap(e=>e?[(0,ej.readInlineData)(J,e)]:[])),k(!1),u(!1)},error:()=>{u(!0)}})},[r,o,n,t,e,y,h]);let x=(0,eg.useCallback)(a=>new Promise((n,l)=>{(0,ej.fetchQuery)(r,G,{query:a,owner:t,repo:e,count:ea.t.labelsPageSize}).subscribe({next:e=>{null!==e&&n((e.repository?.labels?.nodes||[]).flatMap(e=>e?[(0,ej.readInlineData)(J,e)]:[]))},error:e=>{l(e)}})}),[r,t,e]),v=(0,eg.useRef)(null),{createFallbackComponent:C}=(0,el.j)({errorMessage:ee.k.cantEditItems("labels"),anchorElement:e=>s.anchorElement(e,v),open:!0}),j=(0,eg.useMemo)(()=>{let e=n?g:a;return s.noLabelOption?.selected&&!e.find(e=>e.id===et.v.noLabelsData.id)&&e.unshift(et.v.noLabelsData),e},[g,n,a,s.noLabelOption?.selected]);return c?C(()=>d(o+1)):(0,z.jsx)(eX,{repo:e,owner:t,paginatedKey:m,isLoading:b,setIsLoading:k,labels:j,canCreateLabel:i,onSelectionChange:l,searchLabels:x,preloadedData:y?h?.repository:void 0,...s})}function eX({labels:e,copilotSuggestedLabels:t,favoriteLabelIds:a,searchLabels:n,paginatedKey:l,isLoading:i,setIsLoading:s,onSelectionChange:r,insidePortal:o,anchorElement:d,nested:c=!1,triggerOpen:u=!0,initialFilter:m,showEditLabelsButton:p=!0,noLabelOption:g,title:f,showNoMatchItem:h=!1,preloadedData:y,canCreateLabel:b,repo:k,owner:x,readonly:v}){let C=(0,ej.useFragment)(Y,l),j=y?.id||C?.id,S=y?.labels?.totalCount||C?.labels?.totalCount||0,I=(0,eg.useMemo)(()=>{let e=(y?.labels?.nodes||C?.labels?.nodes||[]).flatMap(e=>e?[(0,ej.readInlineData)(J,e)]:[]);return g&&e.unshift(et.v.noLabelsData),e},[C,g,y]),N=(0,ej.useRelayEnvironment)(),F=(0,eg.useCallback)((e,t)=>{j&&function({environment:e,input:t,onError:a,onCompleted:n}){(0,ej.commitMutation)(e,{mutation:eU,variables:{input:t},onError:e=>a&&a(e),onCompleted:e=>n&&n(e)})}({environment:N,input:e,onError:t.onError,onCompleted:e=>{let a=e?.createLabel?.label;a?t.onSuccess(a):t.onSuccess(null)}})},[N,j]);return(0,z.jsx)(ex,{labels:e,suggestions:I,totalNumberOfLabels:S,copilotSuggestedLabels:t,favoriteLabelIds:a,searchLabels:n,onSelectionChange:r,insidePortal:o,anchorElement:d,nested:c,triggerOpen:u,initialFilter:m,showEditLabelsButton:p,noLabelOption:g,title:f,showNoMatchItem:h,canCreateLabel:b,repositoryId:j,isLoading:i,setIsLoading:s,onCreate:F,repo:k,owner:x,readonly:v})}eH.hash="e6891282752f0b5e823ec352dabb65d6";try{ez.displayName||(ez.displayName="BulkIssuesItemPickerLabel")}catch{}try{eq.displayName||(eq.displayName="BulkIssuesItemPickerLabelRelay")}catch{}try{eG.displayName||(eG.displayName="LabelPicker")}catch{}try{eW.displayName||(eW.displayName="LabelPickerRelay")}catch{}try{eQ.displayName||(eQ.displayName="ItemPickerFetcher")}catch{}try{eX.displayName||(eX.displayName="ItemPickerWrapper")}catch{}},98646:(e,t,a)=>{a.d(t,{Ft:()=>s,HZ:()=>o,KO:()=>d,MR:()=>i,YQ:()=>r,d6:()=>l,fk:()=>u,fy:()=>p,mQ:()=>g,qH:()=>c,qg:()=>m});var n=a(38621);let l={text:{type:"text",displayName:"Text",icon:n.TypographyIcon,valueField:"textValue"},single_select:{type:"single_select",displayName:"Single Select",icon:n.SingleSelectIcon,valueField:"singleSelectOptionId"},date:{type:"date",displayName:"Date",icon:n.CalendarIcon,valueField:"dateValue"},number:{type:"number",displayName:"Number",icon:n.NumberIcon,valueField:"numberValue"}},i=Object.values(l);function s(e,t){switch(e){case"text":return{textValue:t};case"single_select":return{singleSelectOptionId:t};case"date":return{dateValue:t};case"number":{let e=Number(t);return isNaN(e)?{}:{numberValue:e}}}}function r(e){return{...e,dataType:o(e.dataType)}}function o(e){switch(e){case"TEXT":case"text":return"text";case"SINGLE_SELECT":case"single_select":return"single_select";case"DATE":case"date":return"date";case"number":case"NUMBER":return"number";default:throw Error(`Unsupported field type: ${e}`)}}let d="IssueFieldSingleSelectValue",c="IssueFieldTextValue",u="IssueFieldDateValue",m="IssueFieldNumberValue";function p(e,t){if(e)switch(t){case d:e.setValue(null,"name"),e.setValue(null,"color"),e.setValue(null,"description");break;case u:case c:case m:e.setValue(null,"value");break;default:return t}}function g(e){return l[e].icon}},98783:(e,t,a)=>{a.d(t,{D:()=>l});var n=a(79634);function l(){return(0,n.X)()}},99223:(e,t,a)=>{a.d(t,{k:()=>s,v:()=>r});var n=a(5225),l=a(71315);let i=(0,n.A)(function(){return l.XC?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}),s=(0,n.A)(function(){return"enterprise"===i()}),r="webpack"},99892:(e,t,a)=>{a.d(t,{Z:()=>f});let n=(l=[{defaultValue:null,kind:"LocalArgument",name:"connections"},{defaultValue:null,kind:"LocalArgument",name:"input"}],i=[{kind:"Variable",name:"input",variableName:"input"}],r=[{kind:"Literal",name:"name",value:"Status"}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},p={kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},{fragment:{argumentDefinitions:l,kind:"Fragment",metadata:null,name:"updateIssueProjectsRelayMutation",selections:[{alias:null,args:i,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProjectItemSection"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"updateIssueProjectsRelayMutation",selections:[{alias:null,args:i,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[o,{kind:"InlineFragment",selections:[s,d,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[s,c,d,u,m,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null},p],storageKey:'field(name:"Status")'}],storageKey:null},{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[o,{kind:"InlineFragment",selections:[s,c,d,u,m],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},p],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"appendEdge",key:"",kind:"LinkedHandle",name:"projectEdge",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{id:"9633413289ebe0e7a8397803a58ff277",metadata:{},name:"updateIssueProjectsRelayMutation",operationKind:"mutation",text:null}});n.hash="383fb59644dcbc6d3646f9e7b51f8da2";var l,i,s,r,o,d,c,u,m,p,g=a(18312);function f({environment:e,connectionId:t,projectId:a,issueId:l,clientMutationId:i,onError:s,onCompleted:r}){if(a)return(0,g.commitMutation)(e,{mutation:n,variables:{input:{contentId:l,projectId:a,clientMutationId:i},connections:t?[t]:[]},onError:e=>s&&s(e),onCompleted:e=>r&&r(e)})}}},e=>{e.O(0,["primer-react","react-lib","react-core","octicons-react","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js","vendors-node_modules_stacktrace-parser_dist_stack-trace-parser_esm_js-node_modules_github_bro-2f4e04","vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-825c28","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_hydro-analytics-c-c228f9","vendors-node_modules_tanstack_query-core_build_modern_mutation_js-node_modules_tanstack_query-9bf7e4","vendors-node_modules_swc_helpers_esm__class_private_method_get_js-node_modules_swc_helpers_es-d6b1a6","vendors-node_modules_dompurify_dist_purify_es_mjs","vendors-node_modules_tanstack_query-core_build_modern_queryObserver_js-node_modules_tanstack_-defd52","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_lodash-es__Stack_js-node_modules_lodash-es__Uint8Array_js-node_modules_l-4faaa6","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_github_hotkey_dist_index_js-node_modules_date-fns_getDaysInMonth_mjs-nod-70c11b","vendors-node_modules_dnd-kit_modifiers_dist_modifiers_esm_js-node_modules_dnd-kit_sortable_di-5ada6e","vendors-node_modules_github_hydro-analytics-client_dist_analytics-client_js-node_modules_gith-c7919d","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec","vendors-node_modules_tanstack_react-virtual_dist_esm_index_js","vendors-node_modules_react-relay_index_js","vendors-node_modules_comma-separated-tokens_index_js-node_modules_mdast-util-from-markdown_li-6db53e","vendors-node_modules_tanstack_react-query_build_modern_useQuery_js-node_modules_diff_lib_index_mjs","vendors-node_modules_hastscript_lib_index_js-node_modules_mdast-util-gfm_lib_index_js-node_mo-2895d2","vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_accname_dist_access-ce77c7","vendors-node_modules_remark-parse_lib_index_js-node_modules_unified_lib_index_js","vendors-node_modules_lowlight_lib_all_js-node_modules_react-markdown_lib_index_js-node_module-5ac2ea","vendors-node_modules_codemirror_language_dist_index_js","vendors-node_modules_codemirror_commands_dist_index_js","vendors-node_modules_github_g-emoji-element_dist_index_js-node_modules_github_paste-markdown_-de5cfd","vendors-node_modules_github_quote-selection_dist_index_js-node_modules_fzy_js_index_js-node_m-f33566","vendors-node_modules_github_catalyst_lib_index_js-node_modules_swc_helpers_esm__class_static_-9e0ed5","packages_paths_index_ts","packages_ui-commands_ui-commands_ts","packages_date-picker_components_DatePicker_tsx","packages_drag-and-drop_drag-and-drop_ts","packages_copilot-chat_utils_copilot-chat-helpers_ts-packages_verified-fetch_verified-fetch_ts","packages_hydro-analytics_hydro-analytics_ts-packages_list-view_src_ListItem_ListItem_tsx-pack-2b6def","packages_ref-selector_RefSelector_tsx","packages_copilot-chat_components_tracing_TraceProvider_tsx","packages_relay-environment_relay-environment_ts","packages_copilot-chat_utils_CopilotChatContext_tsx","packages_item-picker_components_RepositoryPicker_tsx","packages_history_history_ts-packages_soft-nav_state_ts-packages_copilot-chat_components_repo--fba696","packages_copilot-chat_utils_language-info_ts-packages_copy-to-clipboard_CopyToClipboardButton_tsx","packages_copilot-markdown_MarkdownRenderer_tsx","packages_use-client-value_use-client-value_ts-packages_agent-sessions_components_copilot-assi-509577","packages_comment-box_api_file-upload_ts-packages_comment-box_api_preview_ts-packages_markdown-dc5e40","packages_signed-commit-badge_index_ts","packages_commenting_hooks_use-markdown-body_ts-packages_commenting_utils_blocked-commenting-r-21549c","packages_diff-file-header_diff-file-header_ts-packages_diff-file-tree_diff-file-tree-helpers_-b49245","packages_copilot-chat_components_CopilotIconAnimation_tsx","packages_commits_shared_use-update-user-tree-preference_ts-packages_use-hide-footer_use-hide--80c91a","packages_commit-attribution_index_ts-packages_commit-checks-status_index_ts-packages_current--18e2dc"],()=>e(e.s=60871)),e.O()}]);
//# sourceMappingURL=commits-6ad0208c7820.js.map